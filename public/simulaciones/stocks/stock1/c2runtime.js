// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var s,aa,ba,ea,fa,ga,ha,ia,ja,ka,la,na,pa,qa,ra,sa,ta,ua,xa,ya,za,Aa,Ba,Ca,Ea,Fa,v,Ga,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc={},dc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function c(){this.Ic=this.Hc=this.Kc=this.Jc=this.Wc=this.Vc=this.Bb=this.Ab=0}function b(a,b,c,d){a<b?c<d?(u=a<c?a:c,t=b>d?b:d):(u=a<d?a:d,t=b>c?b:c):c<d?(u=b<c?b:c,t=a>d?a:d):(u=b<d?b:d,t=a>c?a:c)}function d(){this.items=this.eg=null;this.Wk=0;D&&(this.eg=new Set);this.Fl=[];this.pi=!0}function e(a){I[G++]=a}function g(){this.jb=this.wq=this.y=this.q=0}function f(a){this.sc=[];this.fo=this.io=this.jo=this.ho=0;this.Bo=null;this.wn(a)}function h(a,
b){this.Fr=a;this.Er=b;this.cells={}}function m(a,b){this.Fr=a;this.Er=b;this.cells={}}function n(a,b,c){var d;return C.length?(d=C.pop(),d.ws=a,d.x=b,d.y=c,d):new aa(a,b,c)}function l(a,b,c){this.ws=a;this.x=b;this.y=c;this.gd=new ba}function k(a,b,c){var d;return z.length?(d=z.pop(),d.ws=a,d.x=b,d.y=c,d):new ea(a,b,c)}function r(a,b,c){this.ws=a;this.x=b;this.y=c;this.gd=[];this.Vk=!0;this.Pg=new ba;this.fm=!1}function p(a,b){return a.jg-b.jg}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ga=function(a){window.console&&window.console.error&&window.console.error(a)};ha=function(a){return"undefined"===typeof a};ia=function(a){return"number"===typeof a};ja=function(a){return"string"===typeof a};ka=function(a){return 0<a&&0===(a-1&a)};la=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};na=function(a){return 0>a?-a:a};pa=function(a,b){return a>b?a:b};qa=function(a,b){return a<b?a:b};ra=Math.PI;sa=function(a){return 0<=a?a|0:(a|0)-1};ta=function(a){var b=a|0;return b===a?b:b+1};
ua=function(a,b,c,d,g,f,k,y){var h,l,m,p;a<c?(l=a,h=c):(l=c,h=a);g<k?(p=g,m=k):(p=k,m=g);if(h<p||l>m)return!1;b<d?(l=b,h=d):(l=d,h=b);f<y?(p=f,m=y):(p=y,m=f);if(h<p||l>m)return!1;h=g-a+k-c;l=f-b+y-d;a=c-a;b=d-b;g=k-g;f=y-f;y=na(b*g-f*a);return na(g*l-f*h)>y?!1:na(a*l-b*h)<=y};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.Do=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-
this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.$C=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.aD=function(a,b,c){return!(a.right+
b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.wd=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.Po=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};xa=a;c.prototype.vn=function(a){this.Ab=a.left;this.Bb=a.top;this.Vc=a.right;this.Wc=a.top;this.Jc=a.right;this.Kc=a.bottom;this.Hc=a.left;this.Ic=a.bottom};c.prototype.Ey=function(a,b){if(0===b)this.vn(a);else{var c=
Math.sin(b),d=Math.cos(b),g=a.left*c,f=a.top*c,k=a.right*c,c=a.bottom*c,y=a.left*d,h=a.top*d,l=a.right*d,d=a.bottom*d;this.Ab=y-f;this.Bb=h+g;this.Vc=l-f;this.Wc=h+k;this.Jc=l-c;this.Kc=d+k;this.Hc=y-c;this.Ic=d+g}};c.prototype.offset=function(a,b){this.Ab+=a;this.Bb+=b;this.Vc+=a;this.Wc+=b;this.Jc+=a;this.Kc+=b;this.Hc+=a;this.Ic+=b;return this};var u=0,t=0;c.prototype.Ov=function(a){b(this.Ab,this.Vc,this.Jc,this.Hc);a.left=u;a.right=t;b(this.Bb,this.Wc,this.Kc,this.Ic);a.top=u;a.bottom=t};c.prototype.wd=
function(a,b){var c=this.Vc-this.Ab,d=this.Wc-this.Bb,g=this.Jc-this.Ab,f=this.Kc-this.Bb,k=a-this.Ab,y=b-this.Bb,h=c*c+d*d,l=c*g+d*f,d=c*k+d*y,m=g*g+f*f,p=g*k+f*y,e=1/(h*m-l*l),c=(m*d-l*p)*e,h=(h*p-l*d)*e;if(0<=c&&0<h&&1>c+h)return!0;c=this.Hc-this.Ab;d=this.Ic-this.Bb;h=c*c+d*d;l=c*g+d*f;d=c*k+d*y;e=1/(h*m-l*l);c=(m*d-l*p)*e;h=(h*p-l*d)*e;return 0<=c&&0<h&&1>c+h};c.prototype.mi=function(a,b){if(b)switch(a){case 0:return this.Ab;case 1:return this.Vc;case 2:return this.Jc;case 3:return this.Hc;case 4:return this.Ab;
default:return this.Ab}else switch(a){case 0:return this.Bb;case 1:return this.Wc;case 2:return this.Kc;case 3:return this.Ic;case 4:return this.Bb;default:return this.Bb}};c.prototype.Oi=function(){return(this.Ab+this.Vc+this.Jc+this.Hc)/4};c.prototype.Pi=function(){return(this.Bb+this.Wc+this.Kc+this.Ic)/4};c.prototype.Kw=function(a){var b=a.Oi(),c=a.Pi();if(this.wd(b,c))return!0;b=this.Oi();c=this.Pi();if(a.wd(b,c))return!0;var d,g,f,k,y,h,l,m;for(l=0;4>l;l++)for(m=0;4>m;m++)if(b=this.mi(l,!0),
c=this.mi(l,!1),d=this.mi(l+1,!0),g=this.mi(l+1,!1),f=a.mi(m,!0),k=a.mi(m,!1),y=a.mi(m+1,!0),h=a.mi(m+1,!1),ua(b,c,d,g,f,k,y,h))return!0;return!1};ya=c;za=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Aa=function(a,b){var c,d;b=sa(b);if(!(0>b||b>=a.length)){c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};Ba=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};Ca=function(a,b){a.push.apply(a,b)};Ea=function(a,b){var c,d;c=0;for(d=a.length;c<
d;++c)if(a[c]===b)return c;return-1};Fa=function(a,b){var c=Ea(a,b);-1!==c&&Aa(a,c)};v=function(a){return a/(180/ra)};Ga=function(a){return 180/ra*a};Ia=function(a){a%=360;0>a&&(a+=360);return a};Ja=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Ka=function(a){return Ia(Ga(a))};La=function(a){return Ja(v(a))};Ma=function(a,b,c,d){return Math.atan2(d-b,c-a)};Na=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),g=Math.sin(b),f=Math.cos(b),c=c*g+d*f;return 1<=c?0:-1>=c?ra:Math.acos(c)};Oa=
function(a,b,c){var d=Math.sin(a),g=Math.cos(a),f=Math.sin(b),k=Math.cos(b);return Math.acos(d*f+g*k)>c?0<g*f-d*k?Ja(a+c):Ja(a-c):Ja(b)};Pa=function(a,b){var c=Math.sin(a),d=Math.cos(a),g=Math.sin(b),f=Math.cos(b);return 0>=d*g-c*f};Qa=function(a,b,c,d,g,f){if(0===c)return f?a:b;var k=Math.sin(c);c=Math.cos(c);a-=d;b-=g;var y=a*k;a=a*c-b*k;b=b*c+y;return f?a+d:b+g};Ra=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Sa=function(a,b){return!a!==!b};Ta=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;
return!1};Ua=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var q=+new Date;Va=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-q};var B=!1,y=B=!1,F=!1;"undefined"!==typeof window&&(B=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
B=!B&&/safari/i.test(navigator.userAgent),y=/(iphone|ipod|ipad)/i.test(navigator.userAgent),F=window.c2ejecta);var D=!B&&!F&&!y&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.Bh()?!1:D?this.eg.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(D)this.eg.has(a)||(this.eg.add(a),this.pi=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.Wk++,this.pi=!1):(this.items={},this.items[b]=
a,this.Wk=1,this.pi=!1)}};d.prototype.remove=function(a){if(!this.Bh())if(D)this.eg.has(a)&&(this.eg["delete"](a),this.pi=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Wk--,this.pi=!1)}};d.prototype.clear=function(){this.Bh()||(D?this.eg.clear():(this.items=null,this.Wk=0),this.Fl.length=0,this.pi=!0)};d.prototype.Bh=function(){return 0===this.count()};d.prototype.count=function(){return D?this.eg.size:this.Wk};var I=null,G=0;d.prototype.YE=function(){if(!this.pi){if(D)this.Fl.length=
this.eg.size,I=this.Fl,G=0,this.eg.forEach(e),I=null,G=0;else{var a=this.Fl;a.length=this.Wk;var b,c=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b])}this.pi=!0}};d.prototype.$e=function(){this.YE();return this.Fl};ba=d;new ba;Wa=function(a,b){D?Xa(a,b.eg):Ya(a,b.$e())};Xa=function(a,b){var c,d,g,f;d=c=0;for(g=a.length;c<g;++c)f=a[c],b.has(f)||(a[d++]=f);a.length=d};Ya=function(a,b){var c,d,g,f;d=c=0;for(g=a.length;c<g;++c)f=a[c],-1===Ea(b,f)&&(a[d++]=f);a.length=d};g.prototype.add=
function(a){this.y=a-this.q;this.wq=this.jb+this.y;this.q=this.wq-this.jb-this.y;this.jb=this.wq};g.prototype.reset=function(){this.jb=this.wq=this.y=this.q=0};Za=g;$a=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.wn=function(a){this.my=a;this.We=a.length/2;this.sc.length=a.length;this.po=this.qo=-1;this.Rv=0};f.prototype.Nj=function(){return!this.my.length};f.prototype.Va=function(){for(var a=this.sc,b=a[0],c=b,d=a[1],g=d,f,k,y=1,h=this.We;y<h;++y)k=2*y,f=a[k],k=a[k+
1],f<b&&(b=f),f>c&&(c=f),k<d&&(d=k),k>g&&(g=k);this.ho=b;this.io=c;this.jo=d;this.fo=g};f.prototype.vn=function(a,b,c){this.sc.length=8;this.We=4;var d=this.sc;d[0]=a.left-b;d[1]=a.top-c;d[2]=a.right-b;d[3]=a.top-c;d[4]=a.right-b;d[5]=a.bottom-c;d[6]=a.left-b;d[7]=a.bottom-c;this.qo=a.right-a.left;this.po=a.bottom-a.top;this.Va()};f.prototype.zl=function(a,b,c,d,g){this.sc.length=8;this.We=4;var f=this.sc;f[0]=a.Ab-b;f[1]=a.Bb-c;f[2]=a.Vc-b;f[3]=a.Wc-c;f[4]=a.Jc-b;f[5]=a.Kc-c;f[6]=a.Hc-b;f[7]=a.Ic-
c;this.qo=d;this.po=g;this.Va()};f.prototype.Dy=function(a){this.We=a.We;Ba(this.sc,a.sc);this.ho=a.ho;this.jo-a.jo;this.io=a.io;this.fo=a.fo};f.prototype.sj=function(a,b,c){if(this.qo!==a||this.po!==b||this.Rv!==c){this.qo=a;this.po=b;this.Rv=c;var d,g,f,k,y,h=0,l=1,m=this.my,p=this.sc;0!==c&&(h=Math.sin(c),l=Math.cos(c));c=0;for(f=this.We;c<f;c++)d=2*c,g=d+1,k=m[d]*a,y=m[g]*b,p[d]=k*l-y*h,p[g]=y*l+k*h;this.Va()}};f.prototype.wd=function(a,b){var c=this.sc;if(a===c[0]&&b===c[1])return!0;var d,g,
f,k=this.We,y=this.ho-110,h=this.jo-101,l=this.io+131,m=this.fo+120,p,e,n=0,r=0;for(d=0;d<k;d++)g=2*d,f=(d+1)%k*2,p=c[g],g=c[g+1],e=c[f],f=c[f+1],ua(y,h,a,b,p,g,e,f)&&n++,ua(l,m,a,b,p,g,e,f)&&r++;return 1===n%2||1===r%2};f.prototype.Dm=function(a,b,c){var d=a.sc,g=this.sc;if(this.wd(d[0]+b,d[1]+c)||a.wd(g[0]-b,g[1]-c))return!0;var f,k,y,h,l,m,p,e,n,r,F,q;f=0;for(h=this.We;f<h;f++)for(k=2*f,y=(f+1)%h*2,e=g[k],k=g[k+1],n=g[y],r=g[y+1],y=0,p=a.We;y<p;y++)if(l=2*y,m=(y+1)%p*2,F=d[l]+b,l=d[l+1]+c,q=d[m]+
b,m=d[m+1]+c,ua(e,k,n,r,F,l,q,m))return!0;return!1};ab=f;h.prototype.Ai=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=n(this,a,b),this.cells[a][b]=d):null:c?(d=n(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};h.prototype.Ee=function(a){return sa(a/this.Fr)};h.prototype.Fe=function(a){return sa(a/this.Er)};h.prototype.update=function(a,b,c){var d,g,f,k,y;if(b)for(d=b.left,g=b.right;d<=g;++d)for(f=b.top,k=b.bottom;f<=k;++f)if(!c||!c.wd(d,f))if(y=this.Ai(d,f,!1))y.remove(a),y.Bh()&&
(y.gd.clear(),1E3>C.length&&C.push(y),this.cells[d][f]=null);if(c)for(d=c.left,g=c.right;d<=g;++d)for(f=c.top,k=c.bottom;f<=k;++f)b&&b.wd(d,f)||this.Ai(d,f,!0).Fs(a)};h.prototype.iq=function(a,b){var c,d,g,f,k,y;c=this.Ee(a.left);g=this.Fe(a.top);d=this.Ee(a.right);for(k=this.Fe(a.bottom);c<=d;++c)for(f=g;f<=k;++f)(y=this.Ai(c,f,!1))&&y.dump(b)};bb=h;m.prototype.Ai=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=k(this,a,b),this.cells[a][b]=d):null:c?(d=k(this,a,b),this.cells[a]={},
this.cells[a][b]=d):null};m.prototype.Ee=function(a){return sa(a/this.Fr)};m.prototype.Fe=function(a){return sa(a/this.Er)};m.prototype.update=function(a,b,c){var d,g,f,k,y;if(b)for(d=b.left,g=b.right;d<=g;++d)for(f=b.top,k=b.bottom;f<=k;++f)if(!c||!c.wd(d,f))if(y=this.Ai(d,f,!1))y.remove(a),y.Bh()&&(y.reset(),1E3>z.length&&z.push(y),this.cells[d][f]=null);if(c)for(d=c.left,g=c.right;d<=g;++d)for(f=c.top,k=c.bottom;f<=k;++f)b&&b.wd(d,f)||this.Ai(d,f,!0).Fs(a)};m.prototype.iq=function(a,b,c,d,g){var f,
k;a=this.Ee(a);b=this.Fe(b);c=this.Ee(c);for(f=this.Fe(d);a<=c;++a)for(d=b;d<=f;++d)(k=this.Ai(a,d,!1))&&k.dump(g)};m.prototype.KD=function(a){var b,c,d,g,f;b=a.left;d=a.top;c=a.right;for(g=a.bottom;b<=c;++b)for(a=d;a<=g;++a)if(f=this.Ai(b,a,!1))f.Vk=!1};cb=m;var C=[];l.prototype.Bh=function(){return this.gd.Bh()};l.prototype.Fs=function(a){this.gd.add(a)};l.prototype.remove=function(a){this.gd.remove(a)};l.prototype.dump=function(a){Ca(a,this.gd.$e())};aa=l;var z=[];r.prototype.Bh=function(){if(!this.gd.length)return!0;
if(this.gd.length>this.Pg.count())return!1;this.es();return!0};r.prototype.Fs=function(a){this.Pg.contains(a)?(this.Pg.remove(a),this.Pg.Bh()&&(this.fm=!1)):this.gd.length?(this.gd[this.gd.length-1].qf()>a.qf()&&(this.Vk=!1),this.gd.push(a)):(this.gd.push(a),this.Vk=!0)};r.prototype.remove=function(a){this.Pg.add(a);this.fm=!0;30<=this.Pg.count()&&this.es()};r.prototype.es=function(){this.fm&&(this.Pg.count()===this.gd.length?this.reset():(Wa(this.gd,this.Pg),this.Pg.clear(),this.fm=!1))};r.prototype.OB=
function(){this.Vk||(this.gd.sort(p),this.Vk=!0)};r.prototype.reset=function(){this.gd.length=0;this.Vk=!0;this.Pg.clear();this.fm=!1};r.prototype.dump=function(a){this.es();this.OB();this.gd.length&&a.push(this.gd)};ea=r;var w="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");db=function(a){return 0>=a||11<=a?"source-over":w[a-1]};eb=function(a,b,c){if(c)switch(a.Dd=c.ONE,a.xd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.Dd=c.ONE;
a.xd=c.ONE;break;case 3:a.Dd=c.ONE;a.xd=c.ZERO;break;case 4:a.Dd=c.ONE_MINUS_DST_ALPHA;a.xd=c.ONE;break;case 5:a.Dd=c.DST_ALPHA;a.xd=c.ZERO;break;case 6:a.Dd=c.ZERO;a.xd=c.SRC_ALPHA;break;case 7:a.Dd=c.ONE_MINUS_DST_ALPHA;a.xd=c.ZERO;break;case 8:a.Dd=c.ZERO;a.xd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Dd=c.DST_ALPHA;a.xd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Dd=c.ONE_MINUS_DST_ALPHA,a.xd=c.SRC_ALPHA}};fb=function(a){return Math.round(1E6*a)/1E6};hb=function(a,b){return"string"!==typeof a||"string"!==
typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};ib=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||hb(a.tagName,"canvas")?!0:!1}})();var ec="undefined"!==typeof Float32Array?Float32Array:Array;function fc(a){var c=new ec(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function gc(a){var c=new ec(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function hc(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function ic(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function jc(a,c,b,d){d||(d=gc());var e,g,f,h,m,n,l,k,r=a[0],p=a[1];a=a[2];g=b[0];f=b[1];e=b[2];b=c[1];n=c[2];r===c[0]&&p===b&&a===n?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=r-c[0],n=p-c[1],l=a-c[2],k=1/Math.sqrt(b*b+n*n+l*l),b*=k,n*=k,l*=k,c=f*l-e*n,e=e*b-g*l,g=g*n-f*b,(k=Math.sqrt(c*c+e*e+g*g))?(k=1/k,c*=k,e*=k,g*=k):g=e=c=0,f=n*g-l*e,h=l*c-b*g,m=b*e-n*c,(k=Math.sqrt(f*f+h*h+m*m))?(k=1/k,f*=k,h*=k,m*=k):m=h=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=e,d[5]=h,d[6]=n,d[7]=0,d[8]=g,d[9]=m,d[10]=l,d[11]=0,d[12]=-(c*r+e*p+g*a),d[13]=-(f*r+h*p+m*a),d[14]=-(b*r+n*p+l*a),d[15]=1)}
(function(){function a(a){this.Ei=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Sv=fc([0,0,100]);this.cx=fc([0,0,0]);this.az=fc([0,1,0]);this.Mu=fc([1,1,1]);this.hw=!0;this.Ct=gc();this.xf=gc();this.Vw=gc();this.Pr=gc();this.T=a;this.Gw()}function c(a,b,c){this.T=a;this.xn=b;this.name=c;this.tf=a.getAttribLocation(b,"aPos");this.Ii=a.getAttribLocation(b,"aTex");this.ax=a.getUniformLocation(b,"matP");this.Hp=a.getUniformLocation(b,"matMV");this.al=
a.getUniformLocation(b,"opacity");this.bx=a.getUniformLocation(b,"samplerFront");this.Sm=a.getUniformLocation(b,"samplerBack");this.Vj=a.getUniformLocation(b,"destStart");this.Uj=a.getUniformLocation(b,"destEnd");this.ft=a.getUniformLocation(b,"seconds");this.et=a.getUniformLocation(b,"pixelWidth");this.dt=a.getUniformLocation(b,"pixelHeight");this.Rm=a.getUniformLocation(b,"layerScale");this.Qm=a.getUniformLocation(b,"layerAngle");this.Um=a.getUniformLocation(b,"viewOrigin");this.Tm=a.getUniformLocation(b,
"scrollPos");this.VC=!!(this.et||this.dt||this.ft||this.Sm||this.Vj||this.Uj||this.Rm||this.Qm||this.Um||this.Tm);this.mx=this.nx=-999;this.Jp=1;this.ix=this.hx=0;this.kx=this.gx=this.dx=1;this.qx=this.ox=this.tx=this.rx=this.jx=0;this.Rs=[];this.lx=gc();this.al&&a.uniform1f(this.al,1);this.bx&&a.uniform1i(this.bx,0);this.Sm&&a.uniform1i(this.Sm,1);this.Vj&&a.uniform2f(this.Vj,0,0);this.Uj&&a.uniform2f(this.Uj,1,1);this.Rm&&a.uniform1f(this.Rm,1);this.Qm&&a.uniform1f(this.Qm,0);this.Um&&a.uniform2f(this.Um,
0,0);this.Tm&&a.uniform2f(this.Tm,0,0);this.Gj=!1}function b(a,b){this.type=a;this.Z=b;this.T=b.T;this.Bg=this.Df=this.Xx=0;this.lb=this.gg=null;this.Fy=[]}a.prototype.Gw=function(){var a=this.T,b;this.Ww=1;this.Oj=this.Hi=null;this.Ho=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Xw=a.ONE;this.Uw=a.ONE_MINUS_SRC_ALPHA;this.Xt=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Xt);this.Gn=
Array(4);this.An=Array(4);for(b=0;4>b;b++)this.Gn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Gn[b]),this.An[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.An[b]);this.rh=0;this.YC=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.YC);this.Ju=new Float32Array(16E3);this.tu=new Float32Array(16E3);this.hE=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,
a.STATIC_DRAW);this.Yt=this.bh=0;this.Tc=[];b=this.Or({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Tc.push(b);b=this.Or({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Tc.push(b);for(var e in kc)kc.hasOwnProperty(e)&&this.Tc.push(this.Or(kc[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.oi=[];this.nh=0;this.qe=!1;this.aw=this.Lm=-1;this.nm=null;this.mC=a.createFramebuffer();this.ty=null;this.bj=fc([0,0,0]);this.Fx=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Fx&&
(this.Fx=2048);this.Xg(0)};c.prototype.Cu=function(a){var b=this.lx;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])hc(a,this.lx),this.T.uniformMatrix4fv(this.Hp,!1,a)};a.prototype.Or=function(a,b,d){var m=this.T,e=m.createShader(m.FRAGMENT_SHADER);m.shaderSource(e,a.src);m.compileShader(e);if(!m.getShaderParameter(e,m.COMPILE_STATUS))return m.deleteShader(e),
null;var l=m.createShader(m.VERTEX_SHADER);m.shaderSource(l,b);m.compileShader(l);if(!m.getShaderParameter(l,m.COMPILE_STATUS))return m.deleteShader(e),m.deleteShader(l),null;b=m.createProgram();m.attachShader(b,e);m.attachShader(b,l);m.linkProgram(b);if(!m.getProgramParameter(b,m.LINK_STATUS))return m.deleteShader(e),m.deleteShader(l),m.deleteProgram(b),null;m.useProgram(b);m.deleteShader(e);m.deleteShader(l);d=new c(m,b,d);d.Yr=a.Yr||0;d.Zr=a.Zr||0;d.Zv=!!a.Zv;d.Hv=!!a.Hv;d.Da=a.Da||[];a=0;for(e=
d.Da.length;a<e;a++)d.Da[a][1]=m.getUniformLocation(b,d.Da[a][0]),d.Rs.push(0),m.uniform1f(d.Da[a][1],0);return d};a.prototype.ts=function(a){var b,c;b=0;for(c=this.Tc.length;b<c;b++)if(this.Tc[b].name===a)return b;return-1};a.prototype.ly=function(a,b,c){var d=this.xf,e=this.Ct,l=[0,0,0,0,0,0,0,0];l[0]=d[0]*a+d[4]*b+d[12];l[1]=d[1]*a+d[5]*b+d[13];l[2]=d[2]*a+d[6]*b+d[14];l[3]=d[3]*a+d[7]*b+d[15];l[4]=e[0]*l[0]+e[4]*l[1]+e[8]*l[2]+e[12]*l[3];l[5]=e[1]*l[0]+e[5]*l[1]+e[9]*l[2]+e[13]*l[3];l[6]=e[2]*
l[0]+e[6]*l[1]+e[10]*l[2]+e[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],c[0]=(.5*l[4]+.5)*this.width,c[1]=(.5*l[5]+.5)*this.height)};a.prototype.yl=function(a,b,c){if(this.width!==a||this.height!==b||c){this.xi();this.width=a;this.height=b;this.T.viewport(0,0,a,b);b=a/b;var d=this.Ct,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=gc());var l=b-a,k=e-c;d[0]=2/l;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/k;d[6]=0;d[7]=0;d[8]=(b+a)/l;d[9]=(e+c)/k;d[10]=-1001/999;d[11]=-1;
d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;jc(this.Sv,this.cx,this.az,this.xf);a=[0,0];b=[0,0];this.ly(0,0,a);this.ly(1,1,b);this.Mu[0]=1/(b[0]-a[0]);this.Mu[1]=-1/(b[1]-a[1]);a=0;for(b=this.Tc.length;a<b;a++)c=this.Tc[a],c.Gj=!1,c.ax&&(this.T.useProgram(c.xn),this.T.uniformMatrix4fv(c.ax,!1,this.Ct));this.T.useProgram(this.Tc[this.Lm].xn);this.T.bindTexture(this.T.TEXTURE_2D,null);this.T.activeTexture(this.T.TEXTURE1);this.T.bindTexture(this.T.TEXTURE_2D,null);this.T.activeTexture(this.T.TEXTURE0);this.Oj=
this.Hi=null}};a.prototype.Ug=function(){jc(this.Sv,this.cx,this.az,this.xf);ic(this.xf,this.Mu)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.bj[0]=a;this.bj[1]=b;this.bj[2]=0;var c=this.xf,d=this.bj,e=d[0],l=d[1],d=d[2];c[12]=c[0]*e+c[4]*l+c[8]*d+c[12];c[13]=c[1]*e+c[5]*l+c[9]*d+c[13];c[14]=c[2]*e+c[6]*l+c[10]*d+c[14];c[15]=c[3]*e+c[7]*l+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.bj[0]=a,this.bj[1]=b,this.bj[2]=1,ic(this.xf,this.bj)};a.prototype.iu=function(a){if(0!==
a){var b=this.xf,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],l=b[1],k=b[2],r=b[3],p=b[4],u=b[5],t=b[6],q=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+p*d;c[1]=l*a+u*d;c[2]=k*a+t*d;c[3]=r*a+q*d;c[4]=e*-d+p*a;c[5]=l*-d+u*a;c[6]=k*-d+t*a;c[7]=r*-d+q*a}};a.prototype.ah=function(){for(var a=!1,b=0;16>b;b++)if(this.Vw[b]!==this.xf[b]){a=!0;break}a&&(a=this.dg(),a.type=5,a.lb?hc(this.xf,a.lb):a.lb=gc(this.xf),hc(this.xf,this.Vw),this.qe=
!1)};b.prototype.wB=function(){this.T.bindTexture(this.T.TEXTURE_2D,this.gg)};b.prototype.xB=function(){var a=this.T;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.gg);a.activeTexture(a.TEXTURE0)};b.prototype.tB=function(){var a=this.Xx,b=this.Z;b.Ho=a;b=b.nm;b.al&&b.Jp!==a&&(b.Jp=a,this.T.uniform1f(b.al,a))};b.prototype.qB=function(){this.T.drawElements(this.T.TRIANGLES,this.Bg,this.T.UNSIGNED_SHORT,2*this.Df)};b.prototype.sB=function(){this.T.blendFunc(this.Df,this.Bg)};b.prototype.yB=
function(){var a,b,c,d=this.Z.Tc,e=this.Z.aw;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.Hp?(c.Cu(this.lb),c.Gj=!0):c.Gj=!1;hc(this.lb,this.Z.Pr)};b.prototype.rB=function(){var a=this.T,b=this.Z;this.gg?(b.Oj===this.gg&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Oj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.mC),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.gg,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.lB=function(){var a=this.T;0===this.Df?(a.clearColor(this.lb[0],this.lb[1],this.lb[2],this.lb[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.lb[0],this.lb[1],this.lb[2],this.lb[3]),a.clearColor(0,0,0,0),a.clear(this.T.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.pB=function(){var a=this.T,b=this.Z,c=b.Tc[1];a.useProgram(c.xn);!c.Gj&&c.Hp&&(c.Cu(b.Pr),c.Gj=!0);a.enableVertexAttribArray(c.tf);a.bindBuffer(a.ARRAY_BUFFER,
b.Xt);a.vertexAttribPointer(c.tf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Df/4,this.Bg);c=b.nm;a.useProgram(c.xn);0<=c.tf&&(a.enableVertexAttribArray(c.tf),a.bindBuffer(a.ARRAY_BUFFER,b.Gn[b.rh]),a.vertexAttribPointer(c.tf,2,a.FLOAT,!1,0,0));0<=c.Ii&&(a.enableVertexAttribArray(c.Ii),a.bindBuffer(a.ARRAY_BUFFER,b.An[b.rh]),a.vertexAttribPointer(c.Ii,2,a.FLOAT,!1,0,0))};b.prototype.uB=function(){var a=this.T,b=this.Z,c=b.Tc[this.Df];b.aw=this.Df;b.nm=c;a.useProgram(c.xn);!c.Gj&&c.Hp&&(c.Cu(b.Pr),
c.Gj=!0);c.al&&c.Jp!==b.Ho&&(c.Jp=b.Ho,a.uniform1f(c.al,b.Ho));0<=c.tf&&(a.enableVertexAttribArray(c.tf),a.bindBuffer(a.ARRAY_BUFFER,b.Gn[b.rh]),a.vertexAttribPointer(c.tf,2,a.FLOAT,!1,0,0));0<=c.Ii&&(a.enableVertexAttribArray(c.Ii),a.bindBuffer(a.ARRAY_BUFFER,b.An[b.rh]),a.vertexAttribPointer(c.Ii,2,a.FLOAT,!1,0,0))};b.prototype.vB=function(){var a,b,c=this.Z.nm,d=this.T;a=this.lb;c.Sm&&this.Z.Oj!==this.gg&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.gg),this.Z.Oj=this.gg,d.activeTexture(d.TEXTURE0));
var e=a[0];c.et&&e!==c.nx&&(c.nx=e,d.uniform1f(c.et,e));e=a[1];c.dt&&e!==c.mx&&(c.mx=e,d.uniform1f(c.dt,e));e=a[2];b=a[3];!c.Vj||e===c.hx&&b===c.ix||(c.hx=e,c.ix=b,d.uniform2f(c.Vj,e,b));e=a[4];b=a[5];!c.Uj||e===c.dx&&b===c.gx||(c.dx=e,c.gx=e,d.uniform2f(c.Uj,e,b));e=a[6];c.Rm&&e!==c.kx&&(c.kx=e,d.uniform1f(c.Rm,e));e=a[7];c.Qm&&e!==c.jx&&(c.jx=e,d.uniform1f(c.Qm,e));e=a[8];b=a[9];!c.Um||e===c.rx&&b===c.tx||(c.rx=e,c.tx=b,d.uniform2f(c.Um,e,b));e=a[10];b=a[11];!c.Tm||e===c.ox&&b===c.qx||(c.ox=e,c.qx=
b,d.uniform2f(c.Tm,e,b));c.ft&&d.uniform1f(c.ft,Va()/1E3);if(c.Da.length)for(a=0,b=c.Da.length;a<b;a++)e=this.Fy[a],e!==c.Rs[a]&&(c.Rs[a]=e,d.uniform1f(c.Da[a][1],e))};a.prototype.dg=function(){this.nh===this.oi.length&&this.oi.push(new b(0,this));return this.oi[this.nh++]};a.prototype.xi=function(){if(0!==this.nh&&!this.T.isContextLost()){var a=this.T;0<this.Yt&&(a.bindBuffer(a.ARRAY_BUFFER,this.Xt),a.bufferData(a.ARRAY_BUFFER,this.hE.subarray(0,this.Yt),a.STREAM_DRAW),b&&0<=b.tf&&"<point>"===b.name&&
a.vertexAttribPointer(b.tf,4,a.FLOAT,!1,0,0));if(0<this.bh){var b=this.nm;a.bindBuffer(a.ARRAY_BUFFER,this.Gn[this.rh]);a.bufferData(a.ARRAY_BUFFER,this.Ju.subarray(0,this.bh),a.STREAM_DRAW);b&&0<=b.tf&&"<point>"!==b.name&&a.vertexAttribPointer(b.tf,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.An[this.rh]);a.bufferData(a.ARRAY_BUFFER,this.tu.subarray(0,this.bh),a.STREAM_DRAW);b&&0<=b.Ii&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ii,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.nh;a<b;a++)switch(c=
this.oi[a],c.type){case 1:c.qB();break;case 2:c.wB();break;case 3:c.tB();break;case 4:c.sB();break;case 5:c.yB();break;case 6:c.rB();break;case 7:c.lB();break;case 8:c.pB();break;case 9:c.uB();break;case 10:c.vB();break;case 11:c.xB()}this.Yt=this.bh=this.nh=0;this.qe=!1;this.rh++;4<=this.rh&&(this.rh=0)}};a.prototype.kk=function(a){if(a!==this.Ww){var b=this.dg();b.type=3;this.Ww=b.Xx=a;this.qe=!1}};a.prototype.Ae=function(a){if(a!==this.Hi){var b=this.dg();b.type=2;this.Hi=b.gg=a;this.qe=!1}};a.prototype.Wi=
function(a,b){if(a!==this.Xw||b!==this.Uw){var c=this.dg();c.type=4;c.Df=a;c.Bg=b;this.Xw=a;this.Uw=b;this.qe=!1}};a.prototype.Ay=function(){this.Wi(this.T.ONE,this.T.ONE_MINUS_SRC_ALPHA)};a.prototype.hq=function(a,b,c,d,e,l,k,r){15992<=this.bh&&this.xi();var p=this.bh,u=this.Ju,t=this.tu;if(this.qe)this.oi[this.nh-1].Bg+=6;else{var q=this.dg();q.type=1;q.Df=p/4*3;q.Bg=6;this.qe=!0}u[p]=a;t[p++]=0;u[p]=b;t[p++]=0;u[p]=c;t[p++]=1;u[p]=d;t[p++]=0;u[p]=e;t[p++]=1;u[p]=l;t[p++]=1;u[p]=k;t[p++]=0;u[p]=
r;t[p++]=1;this.bh=p};a.prototype.Sh=function(a,b,c,d,e,l,k,r,p){15992<=this.bh&&this.xi();var u=this.bh,t=this.Ju,q=this.tu;if(this.qe)this.oi[this.nh-1].Bg+=6;else{var B=this.dg();B.type=1;B.Df=u/4*3;B.Bg=6;this.qe=!0}var B=p.left,y=p.top,F=p.right;p=p.bottom;t[u]=a;q[u++]=B;t[u]=b;q[u++]=y;t[u]=c;q[u++]=F;t[u]=d;q[u++]=y;t[u]=e;q[u++]=F;t[u]=l;q[u++]=p;t[u]=k;q[u++]=B;t[u]=r;q[u++]=p;this.bh=u};a.prototype.Xg=function(a){if(this.Lm!==a){if(!this.Tc[a]){if(0===this.Lm)return;a=0}var b=this.dg();
b.type=9;this.Lm=b.Df=a;this.qe=!1}};a.prototype.on=function(a){a=this.Tc[a];return!(!a.Vj&&!a.Uj)};a.prototype.au=function(a){a=this.Tc[a];return!!(a.Vj||a.Uj||a.Zv)};a.prototype.nE=function(a){a=this.Tc[a];return 0!==a.Yr||0!==a.Zr};a.prototype.CC=function(a){return this.Tc[a].Yr};a.prototype.DC=function(a){return this.Tc[a].Zr};a.prototype.EC=function(a,b){return this.Tc[a].Da[b][2]};a.prototype.dq=function(a){return this.Tc[a].Hv};a.prototype.xl=function(a,b,c,d,e,l,k,r,p,u,t,q,B,y){var F=this.Tc[this.Lm],
D,I;if(F.VC||y.length){D=this.dg();D.type=10;D.lb?hc(this.xf,D.lb):D.lb=gc();I=D.lb;I[0]=b;I[1]=c;I[2]=d;I[3]=e;I[4]=l;I[5]=k;I[6]=r;I[7]=p;I[8]=u;I[9]=t;I[10]=q;I[11]=B;D.gg=F.Sm?a:null;if(y.length)for(c=D.Fy,c.length=y.length,a=0,b=y.length;a<b;a++)c[a]=y[a];this.qe=!1}};a.prototype.clear=function(a,b,c,d){var e=this.dg();e.type=7;e.Df=0;e.lb||(e.lb=gc());e.lb[0]=a;e.lb[1]=b;e.lb[2]=c;e.lb[3]=d;this.qe=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.dg();e.type=7;e.Df=1;e.lb||
(e.lb=gc());e.lb[0]=a;e.lb[1]=b;e.lb[2]=c;e.lb[3]=d;this.qe=!1}};a.prototype.mE=function(){this.xi();this.T.flush()};var d=[],e={};a.prototype.dB=function(){d.length=0;e={}};a.prototype.Ep=function(a,b,c){var m;m=!1;b=!!b;var n=a.src+","+m+","+b+(m?",undefined":""),l=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(n))return l=e[n],l.oo++,l;this.xi();var k=this.T,r=ka(a.width)&&ka(a.height),l=k.createTexture();k.bindTexture(k.TEXTURE_2D,l);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=
k.RGBA,u=k.RGBA,t=k.UNSIGNED_BYTE;if(c&&!this.Ei)switch(c){case 1:u=p=k.RGB;break;case 2:t=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:u=p=k.RGB,t=k.UNSIGNED_SHORT_5_6_5}if(!r&&m){c=document.createElement("canvas");c.width=la(a.width);c.height=la(a.height);var q=c.getContext("2d");q.webkitImageSmoothingEnabled=b;q.mozImageSmoothingEnabled=b;q.msImageSmoothingEnabled=b;q.imageSmoothingEnabled=b;q.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);k.texImage2D(k.TEXTURE_2D,
0,p,u,t,c)}else k.texImage2D(k.TEXTURE_2D,0,p,u,t,a);m?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));b?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),r&&this.hw?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.Hi=null;l.km=a.width;l.jm=a.height;l.oo=1;l.Qv=n;d.push(l);return e[n]=l};a.prototype.qh=function(a,b,c,e){this.xi();var n=this.T;this.Ei&&(e=!1);var l=n.createTexture();n.bindTexture(n.TEXTURE_2D,l);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,a,b,0,n.RGBA,e?n.UNSIGNED_SHORT_4_4_4_4:n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_2D,
n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,c?n.LINEAR:n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,c?n.LINEAR:n.NEAREST);n.bindTexture(n.TEXTURE_2D,null);this.Hi=null;l.km=a;l.jm=b;d.push(l);return l};a.prototype.cF=function(a,b,c){this.xi();var d=this.T;this.Ei&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,
0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.Hi=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.oo&&1<a.oo?a.oo--:(this.xi(),a===this.Hi&&(this.T.bindTexture(this.T.TEXTURE_2D,null),this.Hi=null),a===this.Oj&&(this.T.activeTexture(this.T.TEXTURE1),this.T.bindTexture(this.T.TEXTURE_2D,null),this.T.activeTexture(this.T.TEXTURE0),this.Oj=null),
Fa(d,a),"undefined"!==typeof a.Qv&&delete e[a.Qv],this.T.deleteTexture(a)))};a.prototype.Wg=function(a){if(a!==this.ty){var b=this.dg();b.type=6;this.ty=b.gg=a;this.qe=!1}};jb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Di=(this.Fm=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Md=!!a.dc;this.Mw="undefined"!==typeof window.AppMobi||this.Md;this.rf=!!window.c2cocoonjs;this.Sf=!!window.c2ejecta;this.rf&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Sf&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.oc=this.Md||this.rf||this.Sf;this.Ei=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Pw=/tizen/i.test(navigator.userAgent);this.lp=/android/i.test(navigator.userAgent)&&!this.Pw&&!this.Ei;this.Os=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Ei;this.Tw=/ipad/i.test(navigator.userAgent);this.qp=this.Os||this.Tw||this.Sf;this.jD=this.Os&&/os\s6/i.test(navigator.userAgent);this.Em=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Ei;this.Lw=/amazonwebappplatform/i.test(navigator.userAgent);this.eD=/firefox/i.test(navigator.userAgent);this.Ow=/safari/i.test(navigator.userAgent)&&!this.Em&&!this.Ei;this.hD=/windows/i.test(navigator.userAgent);this.Fi="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);
this.Rw=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.iD=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Sk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ms=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Qw=this.Rw||this.iD||this.Ms;this.cD=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.mp=this.lp&&!this.Em&&!this.Fm&&!this.eD&&!this.Lw&&
!this.oc;this.devicePixelRatio=1;this.Cg=this.Di||this.Fm||this.Mw||this.rf||this.lp||this.qp||this.Sk||this.Ms||this.cD||this.Pw||this.Sf;this.Cg||(this.Cg=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Fi||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Fi=!0);this.dD="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=
a;this.Tv=document.getElementById("c2canvasdiv");this.rb=this.Z=this.T=null;this.js="";this.Uo=!1;this.Sx=this.Tx=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Md&&(window.c2runtime=this);this.Fi&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.mp&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.Ga=this.width;this.Fa=this.height;this.Fo=this.width;this.Eo=this.height;this.Nm=window.innerWidth;this.Mm=window.innerHeight;this.oC=!1;this.nb=!0;this.Hm=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.U=[];this.vc=[];this.Ys={};this.Vf=[];this.Xr={};this.wh=[];this.Hl=[];this.Eq=[];this.QA=[];this.RA=[];this.wj={};this.Is=this.Ci=!1;this.Tf=
0;this.Ks=!1;this.Pf=[];this.Eh=this.Pd=this.Bp=this.mu="";this.yn=this.Iy=!1;this.Mr=this.Vm=this.vh=this.Ba=0;this.aj=1;this.Me=new Za;this.dh=new Za;this.wp=0;this.Gx=!0;this.Vp=this.Xo=this.qm=this.Ye=this.Qj=this.hs=0;this.lm=null;this.No=[];this.Wr=[];this.Qo=-1;this.gt=[[]];this.yu=this.Ip=0;this.gq(null);this.rm=this.Mx=this.kn=0;this.zn=[];this.zq=this.kq=-1;this.Km=!0;this.Gp=0;this.Gm=!1;this.LE=0;this.Ck=null;this.TC=!1;this.Us=0;this.se=this.xs=this.cu=!1;this.Qx=new ba;this.Jt=new ba;
this.Rx=new ba;this.lq=[];this.fg=new ab([]);this.su=new ab([]);this.ji=[];this.hp={};this.Gk={};this.Bk={};this.Gl={};this.Nv={};this.$w=this.Ap=this.te=this.Ne=this.Zw=this.zp=this.pb=null;this.El=this.Ns=!1;this.ks=[null,null];this.Cj=0;this.as="";this.Si={};this.uq=this.$k=null;this.Up=[];this.tE()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,k){var l=indexedDB.open("_C2SaveStates");l.onupgradeneeded=d;l.onerror=k;l.onsuccess=function(d){d=d.target.result;
d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}function g(a,b,c){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(d){d=d.target.result;d.onerror=c;var k=d.transaction(["saves"]).objectStore("saves").get(a);k.onsuccess=function(){k.result?b(k.result.data):b(null)}}}function f(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?
window.location.reload(!0):window.location+="?continuous"}function h(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].sg||(c[b]=a[b]);return c}b.prototype.tE=function(){var a=this,b;b=this.Sk?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.Rw||this.Sk||this.Ms)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.oc&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(k){d=!1}if(!d&&
"responseType"in b)try{b.responseType="text"}catch(l){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.Sk?b.onreadystatechange=function(){4===b.readyState&&a.Dp(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.Dp(b.response);else if(a.Sf){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Dp(JSON.parse(c))}else a.Dp(JSON.parse(b.responseText))},b.onerror=function(a){ga("Error requesting "+c+":");ga(a)});b.send()};b.prototype.ZC=function(){var b=
this,d,k,l,f,e,g,p,h,m;this.devicePixelRatio=(this.Kj=(!this.oc||this.Sf)&&this.$E&&!this.mp)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.sd();k=!(!this.oC&&(!this.tr||this.Fi||this.Qw||this.Sk||this.Fm||this.Di||this.Lw));0<this.Yd&&this.setSize(a(),c(),!0);try{this.MB&&(this.rf||this.Sf||!this.oc)&&(d={alpha:k,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.T=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",
d))}catch(r){}if(this.T){this.oc||(this.pd=document.createElement("canvas"),jQuery(this.pd).appendTo(this.canvas.parentNode),this.pd.oncontextmenu=function(){return!1},this.pd.onselectstart=function(){return!1},this.pd.width=this.Fo,this.pd.height=this.Eo,jQuery(this.pd).css({width:this.Fo+"px",height:this.Eo+"px"}),this.iy(),this.Wt=this.pd.getContext("2d"));this.Z=new jb(this.T,this.Cg);this.Z.yl(this.canvas.width,this.canvas.height);this.Z.hw=0!==this.zB;this.rb=null;this.canvas.addEventListener("webglcontextlost",
function(a){a.preventDefault();b.UD();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.Z.Gw();b.Z.yl(b.Z.width,b.Z.height,!0);b.Ne=null;b.te=null;b.ks[0]=null;b.ks[1]=null;b.VD();b.nb=!0;fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(k=this.U.length;d<k;d++)for(e=this.U[d],l=0,f=e.ya.length;l<f;l++)p=e.ya[l],p.qd=this.Z.ts(p.id),this.El=this.El||this.Z.on(p.qd);d=0;for(k=this.Vf.length;d<
k;d++){h=this.Vf[d];l=0;for(f=h.ya.length;l<f;l++)p=h.ya[l],p.qd=this.Z.ts(p.id);l=0;for(f=h.Ha.length;l<f;l++)for(m=h.Ha[l],e=0,g=m.ya.length;e<g;e++)p=m.ya[e],p.qd=this.Z.ts(p.id),this.El=this.El||this.Z.on(p.qd)}}else{if(0<this.Yd&&this.Md){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.rb=AppMobi.canvas.getContext("2d");try{this.rb.samplingMode=this.ab?"smooth":"sharp",this.rb.globalScale=1,this.rb.HTML5CompatibilityMode=!0,this.rb.imageSmoothingEnabled=
this.ab}catch(q){}0!==this.width&&0!==this.height&&(this.rb.width=this.width,this.rb.height=this.height)}this.rb||(d=this.rf?{antialias:!!this.ab,alpha:k}:{alpha:k},this.rb=this.canvas.getContext("2d",d),this.rb.webkitImageSmoothingEnabled=this.ab,this.rb.mozImageSmoothingEnabled=this.ab,this.rb.msImageSmoothingEnabled=this.ab,this.rb.imageSmoothingEnabled=this.ab);this.Wt=this.pd=null}this.yq=function(){b.Uc(!1)};window==window.top||this.oc||this.Qw||this.Sk||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.rf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.Bp="__c2_continuouspreview",this.yn=!0),this.fE&&!this.Cg&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.oc||(d=function(a){if(ib(a)&&
document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.Yd&&this.Kj&&1<this.devicePixelRatio&&this.setSize(this.Rc,this.Qc,!0);this.Xy();this.RC();
this.go();this.la={}};b.prototype.setSize=function(a,b,c){var d=0,k=0,l=0,f=0,f=0,e=this.jD&&this.Ow&&!navigator.standalone&&!this.oc&&!this.Di;e&&(b+=60);if(this.Nm!==a||this.Mm!==b||c){this.Nm=a;this.Mm=b;var g=this.Yd,p=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Gm)&&!this.Di;if(p||0!==this.Yd||c)p&&0<this.Cj&&(g=this.Cj),c=this.devicePixelRatio,4<=g?(l=this.Rc/this.Qc,a/b>l?(l*=b,5===g?(f=l*c/this.Rc,1<f?f=Math.floor(f):1>f&&
(f=1/Math.ceil(1/f)),l=this.Rc*f/c,f=this.Qc*f/c,d=(a-l)/2,k=(b-f)/2,a=l,b=f):(d=(a-l)/2,a=l)):(f=a/l,5===g?(f=f*c/this.Qc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.Rc*f/c,f=this.Qc*f/c,d=(a-l)/2,k=(b-f)/2,a=l):k=(b-f)/2,b=f),p&&!this.Fi&&(k=d=0)):this.Fi&&this.Gm&&0===this.ow&&(d=Math.floor((a-this.Rc)/2),k=Math.floor((b-this.Qc)/2),a=this.Rc,b=this.Qc),2>g&&(this.hm=c),this.Kj&&this.Tw&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.Fo=Math.round(a),this.Eo=Math.round(b),this.width=
Math.round(a*c),this.height=Math.round(b*c),this.nb=!0,this.lz?(this.Ga=this.width,this.Fa=this.height,this.of=!0):this.width<this.Rc&&this.height<this.Qc||1===g?(this.Ga=this.width,this.Fa=this.height,this.of=!0):(this.Ga=this.Rc,this.Fa=this.Qc,this.of=!1,2===g?(l=this.Rc/this.Qc,g=this.Nm/this.Mm,g<l?this.Ga=this.Fa*g:g>l&&(this.Fa=this.Ga/g)):3===g&&(l=this.Rc/this.Qc,g=this.Nm/this.Mm,g>l?this.Ga=this.Fa*g:g<l&&(this.Fa=this.Ga/g))),this.Tv&&!this.oc&&(jQuery(this.Tv).css({width:Math.round(a)+
"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.Sf?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.Kj&&!this.oc&&jQuery(this.canvas).css({width:Math.round(a)+
"px",height:Math.round(b)+"px"})),this.pd&&(this.pd.width=Math.round(a),this.pd.height=Math.round(b),jQuery(this.pd).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.Z&&this.Z.yl(Math.round(a*c),Math.round(b*c)),this.Md&&this.rb&&(this.rb.width=Math.round(a),this.rb.height=Math.round(b)),this.rb&&(this.rb.webkitImageSmoothingEnabled=this.ab,this.rb.mozImageSmoothingEnabled=this.ab,this.rb.msImageSmoothingEnabled=this.ab,this.rb.imageSmoothingEnabled=this.ab),this.Xy(),this.oc||!e&&
!this.Os||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.Xy=function(){if(this.UA&&0!==this.Ut){var a="portrait";2===this.Ut&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.UD=function(){this.Z.dB();this.Ns=
!0;var a,b,c;a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.Wp&&c.Wp()};b.prototype.VD=function(){this.Ns=!1;var a,b,c;a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.Tt&&c.Tt()};b.prototype.iy=function(){if(!this.oc){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Gm)&&!this.Di?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.pd).css(a)}};var m=window.cancelAnimationFrame||window.mozCancelAnimationFrame||
window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var b;if(a&&!this.Hm)for(fa("[Construct 2] Suspending"),this.Hm=!0,-1!==this.kq&&m&&m(this.kq),-1!==this.zq&&clearTimeout(this.zq),a=0,b=this.zn.length;a<b;a++)this.zn[a](!0);else if(!a&&this.Hm){fa("[Construct 2] Resuming");this.Hm=!1;this.wp=Va();this.Qj=Va();a=this.Vm=this.Xo=0;for(b=this.zn.length;a<b;a++)this.zn[a](!1);this.Uc(!1)}};b.prototype.OA=function(a){this.zn.push(a)};
b.prototype.fi=function(a){return this.Up[a]};b.prototype.Dp=function(a){a&&a.project||ga("Project model unavailable");a=a.project;this.name=a[0];this.nw=a[1];this.Yd=a[12];this.ow=a[12];this.Rc=a[10];this.Qc=a[11];this.dy=this.Rc/2;this.ey=this.Qc/2;this.oc&&!this.Sf&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.ow=this.Yd=3);this.Hu=a[18];this.Pm=a[19];0===this.Pm&&(this.$k=new Image,this.$k.src=
"loading-logo.png");this.kn=a[21];this.Up=lc();this.Yg=new mc(this);var b,c,d,k,l,f,e,g,p;b=0;for(c=a[2].length;b<c;b++)e=a[2][b],d=this.fi(e[0]),kb(e,d.prototype),p=new d(this),p.tq=e[1],p.Gi=e[2],p.Ix=e[9],p.mb&&p.mb(),this.plugins.push(p);this.Up=lc();b=0;for(c=a[3].length;b<c;b++){e=a[3][b];l=this.fi(e[1]);p=null;d=0;for(k=this.plugins.length;d<k;d++)if(this.plugins[d]instanceof l){p=this.plugins[d];break}var h=new p.Zc(p);h.name=e[0];h.za=e[2];h.Gs=e[3].slice(0);h.bF=e[3].length;h.YA=e[4];h.qC=
e[5];h.Pa=e[11];h.za?(h.ll=[],h.xh=this.rm++,h.Tb=null):(h.ll=null,h.xh=-1,h.Tb=[]);h.Ro=null;h.Mk=null;h.jw=null;h.Le=!1;h.oe=null;e[6]?(h.uu=e[6][0],h.Qy=e[6][1],h.vu=e[6][2]):(h.uu=null,h.Qy=0,h.vu=0);h.me=e[7]?e[7]:null;h.index=b;h.r=[];h.Ko=[];h.Zi=[new lb(h)];h.sh=0;h.kf=null;h.jB=0;h.Bl=!0;h.Fq=mb;h.vC=nb;h.AC=ob;h.$a=pb;h.qn=qb;h.fq=rb;h.ik=sb;h.$o=tb;h.ls=ub;h.qs=vb;h.Of=wb;h.vw=xb;h.wo=new bb(this.Rc,this.Qc);h.co=!0;h.eo=!1;h.la={};h.toString=yb;h.vc=[];d=0;for(k=e[8].length;d<k;d++){g=
e[8][d];var m=this.fi(g[1]),r=null;l=0;for(f=this.vc.length;l<f;l++)if(this.vc[l]instanceof m){r=this.vc[l];break}r||(r=new m(this),r.Kx=[],r.ol=new ba,r.mb&&r.mb(),this.vc.push(r));-1===r.Kx.indexOf(h)&&r.Kx.push(h);l=new r.Zc(r,h);l.name=g[0];l.Pa=g[2];l.mb();h.vc.push(l)}h.global=e[9];h.Js=e[10];h.ya=[];d=0;for(k=e[12].length;d<k;d++)h.ya.push({id:e[12][d][0],name:e[12][d][1],qd:-1,vd:!0,index:d});h.IG=e[13];this.Hu&&!h.za&&!h.Js&&p.Gi||h.mb();h.name&&(this.types[h.name]=h);this.U.push(h);p.tq&&
(d=new p.Yb(h),d.uid=this.kn++,d.ny=this.Mx++,d.Ij=0,d.ym=zb,d.toString=Ab,d.W=e[14],d.mb(),h.r.push(d),this.Si[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(l=a[4][b],f=this.U[l[0]],d=1,k=l.length;d<k;d++)e=this.U[l[d]],e.Tb.push(f),f.ll.push(e);b=0;for(c=a[27].length;b<c;b++){l=a[27][b];f=[];d=0;for(k=l.length;d<k;d++)f.push(this.U[l[d]]);d=0;for(k=f.length;d<k;d++)f[d].Le=!0,f[d].oe=f}if(0<this.rm)for(b=0,c=this.U.length;b<c;b++)if(e=this.U[b],!e.za&&e.Tb.length){e.Ro=Array(this.rm);e.Mk=
Array(this.rm);e.jw=Array(this.rm);h=[];d=r=m=g=0;for(k=e.Tb.length;d<k;d++)for(p=e.Tb[d],e.Ro[p.xh]=g,g+=p.bF,e.Mk[p.xh]=m,m+=p.YA,e.jw[p.xh]=r,r+=p.qC,l=0,f=p.ya.length;l<f;l++)h.push(za({},p.ya[l]));e.ya=h.concat(e.ya);d=0;for(k=e.ya.length;d<k;d++)e.ya[d].index=d}b=0;for(c=a[5].length;b<c;b++)e=a[5][b],d=new Fb(this,e),this.Ys[d.name]=d,this.Vf.push(d);b=0;for(c=a[6].length;b<c;b++)e=a[6][b],d=new Gb(this,e),this.Xr[d.name]=d,this.wh.push(d);b=0;for(c=this.wh.length;b<c;b++)this.wh[b].rc();b=
0;for(c=this.wh.length;b<c;b++)this.wh[b].Bu();b=0;for(c=this.Eq.length;b<c;b++)this.Eq[b].rc();this.Eq.length=0;this.TA=a[7];this.as=a[8];this.Qg=a[9];this.hm=1;this.MB=a[13];this.ab=a[14];this.tr=a[15];this.$E=a[17];this.Ut=a[20];this.UA=0<this.Ut;this.fE=a[22];this.of=this.lz=a[23];this.zB=a[24];this.kE=a[25];this.vq=Date.now();this.Up.length=0;this.ZC()};var n=!1;b.prototype.kz=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){n=a.Pv=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.Sf?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){n=a.Pv=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b);this.Hl.push(a)};b.prototype.nC=function(a){var b,c;b=0;for(c=this.Hl.length;b<c;b++)if(this.Hl[b].fB===a)return this.Hl[b];return null};var l=0,k=!1;b.prototype.RC=function(){this.Ck&&(l=this.Ck.IE(this.TA))};b.prototype.Iv=function(){var a=l,b=0,c=0,d=!0,f,e,c=
0;for(f=this.Hl.length;c<f;c++){e=this.Hl[c];var g=e.eB;if(!g||0>=g)g=5E4;a+=g;e.src&&(e.complete||e.loaded)&&!e.Pv?b+=g:d=!1}d&&this.kE&&this.Ck&&(k||(this.Ck.ME(),k=!0),c=this.Ck.BC(),b+=c,c<l&&(d=!1));this.jk=0==a?0:b/a;return d};b.prototype.go=function(){if(this.rb||this.Z){var a=this.rb||this.Wt;this.pd&&this.iy();this.jk=0;this.Yw=-1;if(this.Iv())this.SC();else{var b=Date.now()-this.vq;if(a){var c=this.width,d=this.height,k=this.devicePixelRatio;this.pd&&(c=this.Fo,d=this.Eo,k=1);if(3!==this.Pm&&
(this.rf||500<=b&&this.Yw!=this.jk)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.Pm&&this.$k.complete,l=40*k,f=0,e=80*k,g;c&&(e=this.$k.width*k,g=this.$k.height*k,l=e/2,f=g/2,a.drawImage(this.$k,sa(b-l),sa(d-f),e,g));1>=this.Pm?(b=sa(b-l)+.5,d=sa(d+(f+(c?12*k:0)))+.5,a.fillStyle=n?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(e*this.jk),6*k),a.strokeStyle="black",a.strokeRect(b,d,e,6*k),a.strokeStyle="white",a.strokeRect(b-1*k,d-1*k,e+2*k,8*k)):2===this.Pm&&(a.font=this.Sf?"12pt ArialMT":"12pt Arial",
a.fillStyle=n?"#f00":"#999",a.HG="middle",k=Math.round(100*this.jk)+"%",c=a.measureText?a.measureText(k):null,a.fillText(k,b-(c?c.width:0)/2,d))}this.Yw=this.jk}setTimeout(function(a){return function(){a.go()}}(this),this.rf?10:100)}}};b.prototype.SC=function(){this.pd&&(this.canvas.parentNode.removeChild(this.pd),this.pd=this.Wt=null);this.vq=Date.now();this.Qj=Va();var a,b,c;if(this.Hu)for(a=0,b=this.U.length;a<b;a++)c=this.U[a],c.za||c.Js||!c.Vb.Gi||c.mb();else this.Km=!1;a=0;for(b=this.Vf.length;a<
b;a++)this.Vf[a].gB();2<=this.Yd&&(a=this.Rc/this.Qc,b=this.width/this.height,this.hm=2!==this.Yd&&b>a||2===this.Yd&&b<a?this.height/this.Qc:this.width/this.Rc);this.nw?this.Ys[this.nw].ru():this.Vf[0].ru();this.Hu||(this.Gp=1,this.trigger(mc.prototype.X.jv,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.TD&&c.TD();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.Uc(!1);this.Md&&AppMobi.webview.execute("onGameReady();")};var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Uc=function(b){if(this.pb){var d=Va();if(this.TC&&this.cu&&29>d-this.Us)this.cu=!1,this.Us=d,r?this.kq=r(this.yq,this.canvas):this.zq=setTimeout(this.yq,this.Cg?1:16);else{this.cu=!0;this.Us=d;var k=this.Yd,l=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement)&&!this.Di;(l||this.Gm)&&0<this.Cj&&(k=this.Cj);0<k&&(!this.qp||window.self!==window.top)&&(k=window.innerHeight,this.Nm===window.innerWidth&&this.Mm===k||this.setSize(a(),c()));this.oc||(l?(this.Uo||(this.js=jQuery(this.canvas).css("margin")||"0",this.Uo=!0),this.Em||this.Fi||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/
2)+"px"})):this.Uo?(this.Em||this.Fi||jQuery(this.canvas).css("margin",this.js),this.js="",this.Uo=!1,0===this.Yd&&this.setSize(Math.round(this.Tx/this.devicePixelRatio),Math.round(this.Sx/this.devicePixelRatio),!0)):(this.Tx=this.width,this.Sx=this.height));this.Km&&(l=this.Iv(),this.Gp=this.jk,l&&(this.Km=!1,this.jk=1,this.trigger(mc.prototype.X.jv,null)));this.oD();!this.nb&&!this.rf||this.Ns||this.yn||b||(this.nb=!1,this.Z?this.mf():this.ug(),this.uq&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.uq[0],
this.uq[1]),this.trigger(mc.prototype.X.Yz,null)),this.uq=null));this.AG||(this.Ye++,this.qm++,this.Xo++);this.Vm+=Va()-d;this.Hm||b||(r?this.kq=r(this.yq,this.canvas):this.zq=setTimeout(this.yq,this.Cg?1:16))}}};b.prototype.oD=function(){var a,b,c,d,k,l,f,e,g;a=Va();1E3<=a-this.Qj&&(this.Qj+=1E3,1E3<=a-this.Qj&&(this.Qj=a),this.hs=this.Xo,this.Xo=0,this.Mr=this.Vm,this.Vm=0);this.Gx&&(0!==this.wp&&(b=a-this.wp,0!==b||this.dD?(this.vh=b/1E3,.5<this.vh?this.vh=0:.1<this.vh&&(this.vh=.1)):(10<=this.KG&&
(this.Gx=!1),this.vh=1/60)),this.wp=a);this.Ba=this.vh*this.aj;this.Me.add(this.Ba);this.dh.add(this.vh);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Gm)&&!this.Di;2<=this.Yd||a&&0<this.Cj?(b=this.Rc/this.Qc,c=this.width/this.height,d=this.Yd,a&&0<this.Cj&&(d=this.Cj),this.hm=2!==d&&c>b||2===d&&c<b?this.height/this.Qc:this.width/this.Rc,this.pb&&(this.pb.yy(this.pb.scrollX),this.pb.zy(this.pb.scrollY))):this.hm=this.Kj?this.devicePixelRatio:
1;this.sd();this.Tf++;this.Yg.xE();this.Tf--;this.sd();this.Tf++;c=this.Qx.$e();a=0;for(b=c.length;a<b;a++)c[a].CG();a=0;for(b=this.U.length;a<b;a++)if(f=this.U[a],!f.za&&(f.vc.length||f.Tb.length))for(c=0,d=f.r.length;c<d;c++)for(e=f.r[c],k=0,l=e.xa.length;k<l;k++)e.xa[k].Uc();a=0;for(b=this.U.length;a<b;a++)if(f=this.U[a],!f.za&&(f.vc.length||f.Tb.length))for(c=0,d=f.r.length;c<d;c++)for(e=f.r[c],k=0,l=e.xa.length;k<l;k++)g=e.xa[k],g.jE&&g.jE();c=this.Jt.$e();a=0;for(b=c.length;a<b;a++)c[a].Uc();
this.Tf--;this.UC();for(a=0;this.lm&&10>a++;)this.ew(this.lm);a=0;for(b=this.wh.length;a<b;a++)this.wh[a].As=!1;this.pb.Aj&&this.pb.Aj.Dc();this.lq.length=0;this.Tf++;a=0;for(b=this.U.length;a<b;a++)if(f=this.U[a],!f.za&&(f.vc.length||f.Tb.length))for(c=0,d=f.r.length;c<d;c++)for(e=f.r[c],k=0,l=e.xa.length;k<l;k++)g=e.xa[k],g.Sy&&g.Sy();c=this.Rx.$e();a=0;for(b=c.length;a<b;a++)c[a].Sy();this.Tf--};b.prototype.ew=function(a){var b=this.pb;this.pb.OE();var c,d,k,l,f,e,g;if(this.Z)for(c=0,d=this.U.length;c<
d;c++)f=this.U[c],f.za||!f.Au||f.global&&0!==f.r.length||-1!==a.Cm.indexOf(f)||f.Au();b==a&&(this.Yg.he.length=0);a.ru();c=0;for(d=this.U.length;c<d;c++)if(f=this.U[c],f.global||f.Vb.tq)for(a=0,b=f.r.length;a<b;a++)if(e=f.r[a],e.Pt&&e.Pt(),e.xa)for(k=0,l=e.xa.length;k<l;k++)g=e.xa[k],g.Pt&&g.Pt();this.nb=!0;this.sd()};b.prototype.Cl=function(a){this.Jt.add(a)};b.prototype.ns=function(a){return a&&-1!==a.jn?this.vh*a.jn:this.Ba};b.prototype.ug=function(){this.pb.ug(this.rb);this.Md&&this.rb.present()};
b.prototype.mf=function(){this.pb.mf(this.Z);this.Z.mE()};b.prototype.sr=function(a){a&&this.No.push(a)};b.prototype.sE=function(a){Fa(this.No,a)};b.prototype.Ej=function(a){a=a.toString();return this.Si.hasOwnProperty(a)?this.Si[a]:null};var p=[];b.prototype.dj=function(a){var b,c;b=a.type.name;var d=null;if(this.wj.hasOwnProperty(b)){if(d=this.wj[b],d.contains(a))return}else d=p.length?p.pop():new ba,this.wj[b]=d;d.add(a);this.Ci=!0;if(a.Le)for(b=0,c=a.siblings.length;b<c;b++)this.dj(a.siblings[b]);
this.Is&&d.Fl.push(a);this.Tf++;this.trigger(Object.getPrototypeOf(a.type.Vb).X.$z,a);this.Tf--};b.prototype.sd=function(){if(this.Ci){var a,b,c,d,k,l;this.Is=!0;c=0;for(k=this.Pf.length;c<k;++c)for(a=this.Pf[c],b=a.type,b.r.push(a),d=0,l=b.Tb.length;d<l;++d)b.Tb[d].r.push(a),b.Tb[d].Bl=!0;this.Pf.length=0;this.Pz();Ua(this.wj);this.Ci=this.Is=!1}};b.prototype.Pz=function(){for(var a in this.wj)this.wj.hasOwnProperty(a)&&this.vz(this.wj[a])};b.prototype.vz=function(a){var b=a.$e(),c=b[0].type,d,k,
l,f,e,g;Wa(c.r,a);c.Bl=!0;0===c.r.length&&(c.eo=!1);d=0;for(k=c.Tb.length;d<k;++d)g=c.Tb[d],Wa(g.r,a),g.Bl=!0;d=0;for(k=this.Yg.he.length;d<k;++d)if(e=this.Yg.he[d],e.Vd.hasOwnProperty(c.index)&&Wa(e.Vd[c.index].zh,a),!c.za)for(l=0,f=c.Tb.length;l<f;++l)g=c.Tb[l],e.Vd.hasOwnProperty(g.index)&&Wa(e.Vd[g.index].zh,a);if(e=b[0].F){if(e.hg)for(l=e.r,d=0,k=l.length;d<k;++d)f=l[d],a.contains(f)&&(f.Va(),e.ze.update(f,f.de,null),f.de.set(0,0,-1,-1));Wa(e.r,a);e.un(0)}for(d=0;d<b.length;++d)this.uz(b[d],
c);a.clear();p.push(a);this.nb=!0};b.prototype.uz=function(a,b){var c,d,k;c=0;for(d=this.No.length;c<d;++c)this.No[c](a);a.ti&&b.wo.update(a,a.ti,null);(c=a.F)&&c.wl(a,!0);if(a.xa)for(c=0,d=a.xa.length;c<d;++c)k=a.xa[c],k.sl&&k.sl(),k.behavior.ol.remove(a);this.Qx.remove(a);this.Jt.remove(a);this.Rx.remove(a);a.sl&&a.sl();this.Si.hasOwnProperty(a.uid.toString())&&delete this.Si[a.uid.toString()];this.Vp--;100>b.Ko.length&&b.Ko.push(a)};b.prototype.Yv=function(a,b,c,d){if(a.za){var k=sa(Math.random()*
a.ll.length);return this.Yv(a.ll[k],b,c,d)}return a.kf?this.vi(a.kf,b,!1,c,d,!1):null};var u=[];b.prototype.vi=function(a,b,c,d,k,l){var f,e,g,p;if(!a)return null;var h=this.U[a[1]],m=h.Vb.Gi;if(this.Km&&m&&!h.Js||m&&!this.Z&&11===a[0][11])return null;var r=b;m||(b=null);var q;h.Ko.length?(q=h.Ko.pop(),q.ye=!0,h.Vb.Yb.call(q,h)):(q=new h.Vb.Yb(h),q.ye=!1);q.uid=c&&!l?a[2]:this.kn++;this.Si[q.uid.toString()]=q;q.ny=this.Mx++;q.Ij=h.r.length;f=0;for(e=this.Pf.length;f<e;++f)this.Pf[f].type===h&&q.Ij++;
q.ym=zb;q.toString=Ab;g=a[3];if(q.ye)Ua(q.la);else{q.la={};if("undefined"!==typeof cr_is_preview)for(q.Jw=[],q.Jw.length=g.length,f=0,e=g.length;f<e;f++)q.Jw[f]=g[f][1];q.Oc=[];q.Oc.length=g.length}f=0;for(e=g.length;f<e;f++)q.Oc[f]=g[f][0];if(m){var n=a[0];q.x=ha(d)?n[0]:d;q.y=ha(k)?n[1]:k;q.z=n[2];q.width=n[3];q.height=n[4];q.depth=n[5];q.L=n[6];q.opacity=n[7];q.Zd=n[8];q.$d=n[9];q.Wd=n[10];f=n[11];!this.Z&&h.ya.length&&(q.Wd=f);q.mm=db(q.Wd);this.T&&eb(q,q.Wd,this.T);if(q.ye){f=0;for(e=n[12].length;f<
e;f++)for(g=0,p=n[12][f].length;g<p;g++)q.$b[f][g]=n[12][f][g];q.lc.set(0,0,0,0);q.ti.set(0,0,-1,-1);q.de.set(0,0,-1,-1);q.qb.vn(q.lc);q.Br.length=0}else{q.$b=n[12].slice(0);f=0;for(e=q.$b.length;f<e;f++)q.$b[f]=n[12][f].slice(0);q.Za=[];q.ii=[];q.ii.length=h.ya.length;q.lc=new xa(0,0,0,0);q.ti=new xa(0,0,-1,-1);q.de=new xa(0,0,-1,-1);q.qb=new ya;q.Br=[];q.ib=Hb;q.tG=Ib;q.wd=Jb;q.Va=Kb;q.ZE=Lb;q.fz=Mb;q.qf=Nb}q.Xh=!1;q.VE=0;q.UE=0;q.TE=null;14===n.length&&(q.Xh=!0,q.VE=n[13][0],q.UE=n[13][1],q.TE=
n[13][2]);f=0;for(e=h.ya.length;f<e;f++)q.ii[f]=!0;q.$h=Ob;q.$h();q.hz=!!q.Za.length;q.Ar=!0;q.Dr=!0;h.co=!0;q.visible=!0;q.jn=-1;q.F=b;q.jg=b.r.length;"undefined"===typeof q.La&&(q.La=null);this.nb=q.ph=!0}var B;f=u.length=0;for(e=h.Tb.length;f<e;f++)u.push.apply(u,h.Tb[f].vc);u.push.apply(u,h.vc);if(q.ye)for(f=0,e=u.length;f<e;f++){var t=u[f];B=q.xa[f];B.ye=!0;t.behavior.Yb.call(B,t,q);n=a[4][f];g=0;for(p=n.length;g<p;g++)B.W[g]=n[g];B.mb();t.behavior.ol.add(q)}else for(q.xa=[],f=0,e=u.length;f<
e;f++)t=u[f],B=new t.behavior.Yb(t,q),B.ye=!1,B.W=a[4][f].slice(0),B.mb(),q.xa.push(B),t.behavior.ol.add(q);n=a[5];if(q.ye)for(f=0,e=n.length;f<e;f++)q.W[f]=n[f];else q.W=n.slice(0);this.Pf.push(q);this.Ci=!0;b&&(b.gm(q,!0),1!==b.zf||1!==b.Af)&&(h.eo=!0);this.Vp++;if(h.Le){if(q.Le=!0,q.ye?q.siblings.length=0:q.siblings=[],!c&&!l){f=0;for(e=h.oe.length;f<e;f++)if(h.oe[f]!==h){if(!h.oe[f].kf)return null;q.siblings.push(this.vi(h.oe[f].kf,r,!1,m?q.x:d,m?q.y:k,!0))}f=0;for(e=q.siblings.length;f<e;f++)for(q.siblings[f].siblings.push(q),
g=0;g<e;g++)f!==g&&q.siblings[f].siblings.push(q.siblings[g])}}else q.Le=!1,q.siblings=null;q.mb();f=0;for(e=q.xa.length;f<e;f++)q.xa[f].jy&&q.xa[f].jy();return q};b.prototype.rs=function(a){var b,c;b=0;for(c=this.pb.Ha.length;b<c;b++){var d=this.pb.Ha[b];if(hb(d.name,a))return d}return null};b.prototype.vm=function(a){a=sa(a);0>a&&(a=0);a>=this.pb.Ha.length&&(a=this.pb.Ha.length-1);return this.pb.Ha[a]};b.prototype.Gr=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].$a().ob=!0};b.prototype.qn=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].qn()};b.prototype.fq=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].fq()};b.prototype.ik=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ik()};b.prototype.cz=function(a){if(a.co){var b,c,d=a.r;b=0;for(c=d.length;b<c;++b)d[b].fz();d=this.Pf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].fz();a.co=!1}};b.prototype.uC=function(a,b,c,d){var k,f,l=a?1!==a.zf||1!==a.Af:!1;if(b.za)for(a=0,k=b.ll.length;a<k;++a)f=b.ll[a],l||f.eo?Ca(d,f.r):(this.cz(f),
f.wo.iq(c,d));else l||b.eo?Ca(d,b.r):(this.cz(b),b.wo.iq(c,d))};b.prototype.RE=function(a,b,c){var d=a.$a(),k,f,l,e,g,h;if(d.ob)for(d.ob=!1,k=d.r.length=0,e=a.r.length;k<e;k++)l=a.r[k],l.Va(),g=l.F.nd(b,c,!0),h=l.F.nd(b,c,!1),l.wd(g,h)&&d.r.push(l);else{k=f=0;for(e=d.r.length;k<e;k++)l=d.r[k],l.Va(),g=l.F.nd(b,c,!0),h=l.F.nd(b,c,!1),l.wd(g,h)&&(d.r[f]=d.r[k],f++);d.r.length=f}a.Of();return d.zs()};b.prototype.SE=function(a,b){if(!(a&&b&&a!==b&&a.ph&&b.ph))return!1;a.Va();b.Va();var c=a.F,d=b.F,k,
f,l,e,g,h,p,m;if(c===d||c.zf===d.zf&&d.Af===d.Af&&c.scale===d.scale&&c.L===d.L&&c.kg===d.kg){if(!a.lc.$C(b.lc)||!a.qb.Kw(b.qb)||a.Xh&&b.Xh)return!1;if(a.Xh)return this.Py(a,b);if(b.Xh)return this.Py(b,a);p=a.La&&!a.La.Nj();k=b.La&&!b.La.Nj();if(!p&&!k)return!0;p?(a.La.sj(a.width,a.height,a.L),p=a.La):(this.fg.zl(a.qb,a.x,a.y,a.width,a.height),p=this.fg);k?(b.La.sj(b.width,b.height,b.L),m=b.La):(this.fg.zl(b.qb,b.x,b.y,b.width,b.height),m=this.fg);return p.Dm(m,b.x-a.x,b.y-a.y)}p=a.La&&!a.La.Nj();
k=b.La&&!b.La.Nj();p?(a.La.sj(a.width,a.height,a.L),this.fg.Dy(a.La)):this.fg.zl(a.qb,a.x,a.y,a.width,a.height);p=this.fg;k?(b.La.sj(b.width,b.height,b.L),this.su.Dy(b.La)):this.su.zl(b.qb,b.x,b.y,b.width,b.height);m=this.su;k=0;for(f=p.We;k<f;k++)l=2*k,e=l+1,g=p.sc[l],h=p.sc[e],p.sc[l]=c.Ub(g+a.x,h+a.y,!0),p.sc[e]=c.Ub(g+a.x,h+a.y,!1);p.Va();k=0;for(f=m.We;k<f;k++)l=2*k,e=l+1,g=m.sc[l],h=m.sc[e],m.sc[l]=d.Ub(g+b.x,h+b.y,!0),m.sc[e]=d.Ub(g+b.x,h+b.y,!1);m.Va();return p.Dm(m,0,0)};var t=new ya;new xa(0,
0,0,0);var q=[];b.prototype.Py=function(a,b){var c,d,k,f,l=b.lc,e=a.x,g=a.y;a.xG(l,q);var h=b.La&&!b.La.Nj();c=0;for(d=q.length;c<d;++c)if(k=q[c],f=k.pE,l.aD(f,e,g)&&(t.vn(f),t.offset(e,g),t.Kw(b.qb)))if(h)if(b.La.sj(b.width,b.height,b.L),k.Rg){if(k.Rg.Dm(b.La,b.x-(e+f.left),b.y-(g+f.top)))return q.length=0,!0}else{if(this.fg.zl(t,0,0,f.right-f.left,f.bottom-f.top),this.fg.Dm(b.La,b.x,b.y))return q.length=0,!0}else if(k.Rg){if(this.fg.zl(b.qb,0,0,b.width,b.height),k.Rg.Dm(this.fg,-(e+f.left),-(g+
f.top)))return q.length=0,!0}else return q.length=0,!0;q.length=0;return!1};b.prototype.Yy=function(a,b){if(!b)return!1;var c,d,k,f,l;c=0;for(d=a.vc.length;c<d;c++)if(a.vc[c].behavior instanceof b)return!0;if(!a.za)for(c=0,d=a.Tb.length;c<d;c++)for(l=a.Tb[c],k=0,f=l.vc.length;k<f;k++)if(l.vc[k].behavior instanceof b)return!0;return!1};b.prototype.Zy=function(a){return this.Yy(a,dc.NF)};b.prototype.zu=function(a){return this.Yy(a,dc.OF)};b.prototype.rE=function(a,b){a.ph&&b.ph&&this.lq.push([a,b])};
b.prototype.bB=function(a,b){var c,d,k;c=0;for(d=this.lq.length;c<d;c++)if(k=this.lq[c],k[0]==a&&k[1]==b||k[0]==b&&k[1]==a)return!0;return!1};var B=-1;b.prototype.trigger=function(a,b,c){if(!this.pb)return!1;var d=this.pb.Aj;if(!d)return!1;var k=!1,f,l,e;B++;var g=d.Rr;l=0;for(e=g.length;l<e;++l)f=this.Vy(a,b,g[l],c),k=k||f;f=this.Vy(a,b,d,c);B--;return k||f};b.prototype.Vy=function(a,b,c,d){var k=!1,f,l,e,g;if(b)for(e=this.xu(a,b,b.type.name,c,d),k=k||e,g=b.type.Tb,f=0,l=g.length;f<l;++f)e=this.xu(a,
b,g[f].name,c,d),k=k||e;else e=this.xu(a,b,"system",c,d),k=k||e;return k};b.prototype.xu=function(a,b,c,d,k){var f,l=!1,e=!1,e="undefined"!==typeof k,g=(e?d.lw:d.Wy)[c];if(!g)return l;var h=null;d=0;for(f=g.length;d<f;++d)if(g[d].method==a){h=g[d].pm;break}if(!h)return l;a=e?h[k]:h;if(!a)return null;d=0;for(f=a.length;d<f;d++)k=a[d][0],e=a[d][1],e=this.lC(b,c,k,e),l=l||e;return l};b.prototype.lC=function(a,b,c,d){var k,f,l=!1;this.yu++;var e=this.yd().pe;e&&this.qn(e.Xi);var g=1<this.yu;this.qn(c.Xi);
g&&this.oE();var h=this.gq(c);h.pe=c;a&&(k=this.types[b].$a(),k.ob=!1,k.r.length=1,k.r[0]=a,this.types[b].Of());a=!0;if(c.parent){b=h.Oy;for(k=c.parent;k;)b.push(k),k=k.parent;b.reverse();k=0;for(f=b.length;k<f;k++)if(!b[k].zE()){a=!1;break}}a&&(this.qm++,c.ag?c.yE(d):c.Dc(),l=l||h.Pj);this.aq();g&&this.iE();this.ik(c.Xi);e&&this.ik(e.Xi);this.Ci&&0===this.Tf&&0===B&&!this.Ks&&this.sd();this.yu--;return l};b.prototype.rw=function(){var a=this.yd();return a.pe.cd[a.Lc]};b.prototype.oE=function(){this.Ip++;
this.Ip>=this.gt.length&&this.gt.push([])};b.prototype.iE=function(){this.Ip--};b.prototype.sw=function(){return this.gt[this.Ip]};b.prototype.gq=function(a){this.Qo++;this.Qo>=this.Wr.length&&this.Wr.push(new Pb);var b=this.yd();b.reset(a);return b};b.prototype.aq=function(){this.Qo--};b.prototype.yd=function(){return this.Wr[this.Qo]};b.prototype.uw=function(a,b){for(var c,d,k,f,l,e;b;){c=0;for(d=b.Ef.length;c<d;c++)if(e=b.Ef[c],e instanceof Qb&&hb(a,e.name))return e;b=b.parent}c=0;for(d=this.wh.length;c<
d;c++)for(l=this.wh[c],k=0,f=l.yi.length;k<f;k++)if(e=l.yi[k],e instanceof Qb&&hb(a,e.name))return e;return null};b.prototype.ww=function(a){var b,c;b=0;for(c=this.Vf.length;b<c;b++)if(this.Vf[b].Pa===a)return this.Vf[b];return null};b.prototype.ep=function(a){var b,c;b=0;for(c=this.U.length;b<c;b++)if(this.U[b].Pa===a)return this.U[b];return null};b.prototype.wC=function(a){var b,c;b=0;for(c=this.ji.length;b<c;b++)if(this.ji[b].Pa===a)return this.ji[b];return null};b.prototype.UC=function(){var a=
this,b=this.mu,c=this.Eh,d=this.Bp,k=!1;this.Iy&&(k=!0,b="__c2_continuouspreview",this.Iy=!1);if(b.length){this.sd();c=this.EE();if(window.indexedDB&&!this.rf)e(b,c,function(){fa("Saved state to IndexedDB storage ("+c.length+" bytes)");a.Eh=c;a.trigger(mc.prototype.X.br,null);a.Eh="";k&&f()},function(d){try{localStorage.setItem("__c2save_"+b,c),fa("Saved state to WebStorage ("+c.length+" bytes)"),a.Eh=c,a.trigger(mc.prototype.X.br,null),a.Eh="",k&&f()}catch(l){fa("Failed to save game state: "+d+"; "+
l)}});else try{localStorage.setItem("__c2save_"+b,c),fa("Saved state to WebStorage ("+c.length+" bytes)"),a.Eh=c,this.trigger(mc.prototype.X.br,null),a.Eh="",k&&f()}catch(l){fa("Error saving to WebStorage: "+l)}this.Pd=this.Bp=this.mu=""}d.length&&(window.indexedDB&&!this.rf?g(d,function(b){b?(a.Pd=b,fa("Loaded state from IndexedDB storage ("+a.Pd.length+" bytes)")):(a.Pd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+a.Pd.length+" bytes)"));a.yn=!1;a.Pd.length||a.trigger(mc.prototype.X.Zq,
null)},function(){a.Pd=localStorage.getItem("__c2save_"+d)||"";fa("Loaded state from WebStorage ("+a.Pd.length+" bytes)");a.yn=!1;a.Pd.length||a.trigger(mc.prototype.X.Zq,null)}):(this.Pd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+this.Pd.length+" bytes)"),this.yn=!1,a.Pd.length||a.trigger(mc.prototype.X.Zq,null)),this.mu=this.Bp="");this.Pd.length&&(this.sd(),this.mD(this.Pd),this.Eh=this.Pd,this.trigger(mc.prototype.X.cA,null),this.Pd=this.Eh="")};b.prototype.EE=
function(){var a,b,c,d,k,f,l,e={c2save:!0,version:1,rt:{time:this.Me.jb,walltime:this.dh.jb,timescale:this.aj,tickcount:this.Ye,execcount:this.qm,next_uid:this.kn,running_layout:this.pb.Pa,start_time_offset:Date.now()-this.vq},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.U.length;a<b;a++)if(k=this.U[a],!k.za&&!this.Zy(k)){f={instances:[]};Ta(k.la)&&(f.ex=h(k.la));c=0;for(d=k.r.length;c<d;c++)f.instances.push(this.lu(k.r[c]));e.types[k.Pa.toString()]=f}a=0;for(b=this.Vf.length;a<
b;a++)c=this.Vf[a],e.layouts[c.Pa.toString()]=c.fe();d=e.events.groups;a=0;for(b=this.ji.length;a<b;a++)c=this.ji[a],d[c.Pa.toString()]=this.hp[c.zm].Pk;b=e.events.cnds;for(l in this.Gk)this.Gk.hasOwnProperty(l)&&(a=this.Gk[l],Ta(a.la)&&(b[l]={ex:h(a.la)}));b=e.events.acts;for(l in this.Bk)this.Bk.hasOwnProperty(l)&&(a=this.Bk[l],Ta(a.la)&&(b[l]={ex:a.la}));b=e.events.vars;for(l in this.Gl)this.Gl.hasOwnProperty(l)&&(a=this.Gl[l],a.np||a.parent&&!a.Jm||(b[l]=a.data));e.system=this.Yg.fe();return JSON.stringify(e)};
b.prototype.ry=function(){var a,b,c,d,k,f;this.Si={};a=0;for(b=this.U.length;a<b;a++)if(c=this.U[a],!c.za)for(d=0,k=c.r.length;d<k;d++)f=c.r[d],this.Si[f.uid.toString()]=f};b.prototype.mD=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.Me.reset();this.Me.jb=b.time;this.dh.reset();this.dh.jb=b.walltime||0;this.aj=b.timescale;this.Ye=b.tickcount;this.qm=b.execcount;this.vq=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.pb.Pa)if(c=this.ww(c))this.ew(c);else return;
var d,k,f,l,e,g,h;g=a.types;for(k in g)if(g.hasOwnProperty(k)&&(l=this.ep(parseInt(k,10)))&&!l.za&&!this.Zy(l)){g[k].ex?l.la=g[k].ex:Ua(l.la);e=l.r;f=g[k].instances;c=0;for(d=qa(e.length,f.length);c<d;c++)this.Cp(e[c],f[c]);c=f.length;for(d=e.length;c<d;c++)this.dj(e[c]);c=e.length;for(d=f.length;c<d;c++){e=null;if(l.Vb.Gi&&(e=this.pb.dp(f[c].w.l),!e))continue;e=this.vi(l.kf,e,!1,0,0,!0);this.Cp(e,f[c])}l.Bl=!0}this.sd();this.ry();d=a.layouts;for(k in d)d.hasOwnProperty(k)&&(c=this.ww(parseInt(k,
10)))&&c.Oe(d[k]);d=a.events.groups;for(k in d)d.hasOwnProperty(k)&&(c=this.wC(parseInt(k,10)))&&this.hp[c.zm]&&(this.hp[c.zm].Pk=d[k]);c=a.events.cnds;for(k in c)c.hasOwnProperty(k)&&this.Gk.hasOwnProperty(k)&&(this.Gk[k].la=c[k].ex);c=a.events.acts;for(k in c)c.hasOwnProperty(k)&&this.Bk.hasOwnProperty(k)&&(this.Bk[k].la=c[k].ex);c=a.events.vars;for(k in c)c.hasOwnProperty(k)&&this.Gl.hasOwnProperty(k)&&(this.Gl[k].data=c[k]);this.kn=b.next_uid;this.Yg.Oe(a.system);c=0;for(d=this.U.length;c<d;c++)if(l=
this.U[c],!l.za)for(k=0,a=l.r.length;k<a;k++){e=l.r[k];if(l.Le)for(g=e.ym(),b=e.siblings.length=0,f=l.oe.length;b<f;b++)h=l.oe[b],l!==h&&e.siblings.push(h.r[g]);e.kh&&e.kh();if(e.xa)for(b=0,f=e.xa.length;b<f;b++)g=e.xa[b],g.kh&&g.kh()}this.nb=!0}};b.prototype.lu=function(a,b){var c,d,k,f,l;f=a.type;k=f.Vb;var e={};b?e.c2=!0:e.uid=a.uid;Ta(a.la)&&(e.ex=h(a.la));if(a.Oc&&a.Oc.length)for(e.ivs={},c=0,d=a.Oc.length;c<d;c++)e.ivs[a.type.Gs[c].toString()]=a.Oc[c];if(k.Gi){k={x:a.x,y:a.y,w:a.width,h:a.height,
l:a.F.Pa,zi:a.qf()};0!==a.L&&(k.a=a.L);1!==a.opacity&&(k.o=a.opacity);.5!==a.Zd&&(k.hX=a.Zd);.5!==a.$d&&(k.hY=a.$d);0!==a.Wd&&(k.bm=a.Wd);a.visible||(k.v=a.visible);a.ph||(k.ce=a.ph);-1!==a.jn&&(k.mts=a.jn);if(f.ya.length)for(k.fx=[],c=0,d=f.ya.length;c<d;c++)l=f.ya[c],k.fx.push({name:l.name,active:a.ii[l.index],params:a.$b[l.index]});e.w=k}if(a.xa&&a.xa.length)for(e.behs={},c=0,d=a.xa.length;c<d;c++)f=a.xa[c],f.fe&&(e.behs[f.type.Pa.toString()]=f.fe());a.fe&&(e.data=a.fe());return e};b.prototype.yC=
function(a,b){var c,d;c=0;for(d=a.Gs.length;c<d;c++)if(a.Gs[c]===b)return c;return-1};b.prototype.tC=function(a,b){var c,d;c=0;for(d=a.xa.length;c<d;c++)if(a.xa[c].type.Pa===b)return c;return-1};b.prototype.Cp=function(a,b,c){var d,k,f,l,e;e=a.type;f=e.Vb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.la=b.ex:Ua(a.la);if(k=b.ivs)for(d in k)k.hasOwnProperty(d)&&(c=this.yC(e,parseInt(d,10)),0>c||c>=a.Oc.length||(a.Oc[c]=k[d]));if(f.Gi){f=b.w;a.F.Pa!==f.l&&(c=a.F,a.F=this.pb.dp(f.l),a.F?(c.wl(a,!0),a.F.gm(a,
!0),a.ib(),a.F.un(0)):(a.F=c,this.dj(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.jg=f.zi;a.L=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.Zd=f.hasOwnProperty("hX")?f.hX:.5;a.$d=f.hasOwnProperty("hY")?f.hY:.5;a.visible=f.hasOwnProperty("v")?f.v:!0;a.ph=f.hasOwnProperty("ce")?f.ce:!0;a.jn=f.hasOwnProperty("mts")?f.mts:-1;a.Wd=f.hasOwnProperty("bm")?f.bm:0;a.mm=db(a.Wd);this.T&&eb(a,a.Wd,this.T);a.ib();if(f.hasOwnProperty("fx"))for(c=0,k=f.fx.length;c<k;c++)l=e.qs(f.fx[c].name),
0>l||(a.ii[l]=f.fx[c].active,a.$b[l]=f.fx[c].params);a.$h()}if(e=b.behs)for(d in e)e.hasOwnProperty(d)&&(f=this.tC(a,parseInt(d,10)),0>f||a.xa[f].Oe(e[d]));b.data&&a.Oe(b.data)};Rb=function(a){return new b(document.getElementById(a))};Sb=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=Rb;window.cr_createDCRuntime=Sb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.GG=!0;document.body.appendChild(a);
a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.g=a;this.Aj=null;this.scrollX=this.g.Rc/2;this.scrollY=this.g.Qc/2;this.scale=1;this.L=0;this.Nk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.$y=b[3];this.Gy=b[4];this.Pa=b[5];var c=b[6],d,f;this.Ha=[];this.Cm=[];d=0;for(f=c.length;d<f;d++){var e=new Tb(this,c[d]);e.Ox=d;this.Ha.push(e)}c=b[7];this.Jj=[];d=0;for(f=c.length;d<f;d++){var e=c[d],g=this.g.U[e[1]];g.kf||(g.kf=e);this.Jj.push(e);-1===this.Cm.indexOf(g)&&this.Cm.push(g)}this.ya=[];this.Za=[];this.$b=
[];d=0;for(f=b[8].length;d<f;d++)this.ya.push({id:b[8][d][0],name:b[8][d][1],qd:-1,vd:!0,index:d}),this.$b.push(b[8][d][2].slice(0));this.$h();this.ul=new xa(0,0,1,1);this.du=new xa(0,0,1,1);this.Ti={}}function c(a,b){return a.jg-b.jg}function b(a,b){this.Pc=a;this.g=a.g;this.r=[];this.scale=1;this.L=0;this.xj=!1;this.Yh=new xa(0,0,0,0);this.Ty=new ya;this.Wb=this.Ib=this.Xb=this.Hb=0;this.ok=!1;this.bi=-1;this.name=b[0];this.index=b[1];this.Pa=b[2];this.visible=b[3];this.ni=b[4];this.Zh=b[5];this.zf=
b[6];this.Af=b[7];this.opacity=b[8];this.gs=b[9];this.hg=b[10];this.kg=b[11];this.Wd=b[12];this.LB=b[13];this.mm="source-over";this.xd=this.Dd=0;this.ze=null;this.Zk=d();this.Th=!0;this.vp=new xa(0,0,-1,-1);this.jf=new xa(0,0,-1,-1);this.hg&&(this.ze=new cb(this.g.Rc,this.g.Qc));this.Vi=!1;var c=b[14],f,e;this.Qk=[];f=0;for(e=c.length;f<e;f++){var g=c[f],h=this.g.U[g[1]];h.kf||(h.kf=g,h.jB=this.index);this.Qk.push(g);-1===this.Pc.Cm.indexOf(h)&&this.Pc.Cm.push(h)}this.ya=[];this.Za=[];this.$b=[];
f=0;for(e=b[15].length;f<e;f++)this.ya.push({id:b[15][f][0],name:b[15][f][1],qd:-1,vd:!0,index:f}),this.$b.push(b[15][f][2].slice(0));this.$h();this.ul=new xa(0,0,1,1);this.du=new xa(0,0,1,1)}function d(){return h.length?h.pop():[]}function e(a){a.length=0;h.push(a)}a.prototype.DE=function(a){var b=a.type.Pa.toString();this.Ti.hasOwnProperty(b)||(this.Ti[b]=[]);this.Ti[b].push(this.g.lu(a))};a.prototype.Cw=function(){var a=this.Ha[0];return!a.Zh&&1===a.opacity&&!a.gs&&a.visible};a.prototype.$h=function(){this.Za.length=
0;var a,b,c;a=0;for(b=this.ya.length;a<b;a++)c=this.ya[a],c.vd&&this.Za.push(c)};a.prototype.os=function(a){var b,c,d;b=0;for(c=this.ya.length;b<c;b++)if(d=this.ya[b],d.name===a)return d;return null};var g=[],f=!0;a.prototype.ru=function(){this.Gy&&(this.Aj=this.g.Xr[this.Gy],this.Aj.Bu());this.g.pb=this;this.scrollX=this.g.Rc/2;this.scrollY=this.g.Qc/2;var a,b,d,e,h,m,q;a=0;for(d=this.g.U.length;a<d;a++)if(b=this.g.U[a],!b.za)for(h=b.r,b=0,e=h.length;b<e;b++)if(m=h[b],m.F){var n=m.F.Ox;n>=this.Ha.length&&
(n=this.Ha.length-1);m.F=this.Ha[n];-1===m.F.r.indexOf(m)&&m.F.r.push(m);m.F.ok=!0}if(!f)for(a=0,d=this.Ha.length;a<d;++a)this.Ha[a].r.sort(c);g.length=0;this.ZA();a=0;for(d=this.Ha.length;a<d;a++)m=this.Ha[a],m.hB(),m.Du();h=!1;if(!this.Nk){for(q in this.Ti)if(this.Ti.hasOwnProperty(q)&&(b=this.g.ep(parseInt(q,10)))&&!b.za&&this.g.zu(b)){e=this.Ti[q];a=0;for(d=e.length;a<d;a++){m=null;if(b.Vb.Gi&&(m=this.dp(e[a].w.l),!m))continue;m=this.g.vi(b.kf,m,!1,0,0,!0);this.g.Cp(m,e[a]);h=!0;g.push(m)}e.length=
0}a=0;for(d=this.Ha.length;a<d;a++)this.Ha[a].r.sort(c),this.Ha[a].ok=!0}h&&(this.g.sd(),this.g.ry());for(a=0;a<g.length;a++)if(m=g[a],m.type.Le)for(d=m.ym(),b=0,e=m.type.oe.length;b<e;b++)q=m.type.oe[b],m.type!==q&&(q.r.length>d?m.siblings.push(q.r[d]):q.kf&&(h=this.g.vi(q.kf,m.F,!0,m.x,m.y,!0),this.g.sd(),q.Fq(),m.siblings.push(h),g.push(h)));a=0;for(d=this.Jj.length;a<d;a++)this.g.vi(this.Jj[a],null,!0);this.g.lm=null;this.g.sd();if(this.g.rb&&!this.g.oc)for(a=0,d=this.g.U.length;a<d;a++)q=this.g.U[a],
!q.za&&q.r.length&&q.Zt&&q.Zt(this.g.rb);a=0;for(d=g.length;a<d;a++)m=g[a],this.g.trigger(Object.getPrototypeOf(m.type.Vb).X.Xq,m);g.length=0;this.g.trigger(mc.prototype.X.bA,null);this.Nk=!1};a.prototype.gB=function(){var a,b,c,d,f;b=a=0;for(c=this.Jj.length;a<c;a++)d=this.Jj[a],f=this.g.U[d[1]],f.global?this.g.vi(d,null,!0):(this.Jj[b]=d,b++);this.Jj.length=b};a.prototype.OE=function(){this.g.trigger(mc.prototype.X.aA,null);this.g.Yg.he.length=0;var a,b,c,d,e,g;if(!this.Nk)for(a=0,b=this.Ha.length;a<
b;a++)for(this.Ha[a].Eu(),e=this.Ha[a].r,c=0,d=e.length;c<d;c++)g=e[c],g.type.global||this.g.zu(g.type)&&this.DE(g);a=0;for(b=this.Ha.length;a<b;a++){e=this.Ha[a].r;c=0;for(d=e.length;c<d;c++)g=e[c],g.type.global||this.g.dj(g);this.g.sd();e.length=0;this.Ha[a].ok=!0}a=0;for(b=this.g.U.length;a<b;a++)if(e=this.g.U[a],!(e.global||e.Vb.Gi||e.Vb.tq||e.za)){c=0;for(d=e.r.length;c<d;c++)this.g.dj(e.r[c]);this.g.sd()}f=!1};new xa(0,0,0,0);a.prototype.ug=function(a){var b,c=a,d=!1,f=!this.g.of;f&&(this.g.Ap||
(this.g.Ap=document.createElement("canvas"),b=this.g.Ap,b.width=this.g.Ga,b.height=this.g.Fa,this.g.$w=b.getContext("2d"),d=!0),b=this.g.Ap,c=this.g.$w,b.width!==this.g.Ga&&(b.width=this.g.Ga,d=!0),b.height!==this.g.Fa&&(b.height=this.g.Fa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.g.ab,c.mozImageSmoothingEnabled=this.g.ab,c.msImageSmoothingEnabled=this.g.ab,c.imageSmoothingEnabled=this.g.ab));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.g.tr&&!this.Cw()&&c.clearRect(0,0,this.g.Ga,
this.g.Fa);var e,g,d=0;for(e=this.Ha.length;d<e;d++)g=this.Ha[d],g.visible&&0<g.opacity&&11!==g.Wd&&(g.r.length||!g.Zh)?g.ug(c):g.Du();f&&a.drawImage(b,0,0,this.g.width,this.g.height)};a.prototype.mf=function(a){var b=0<this.Za.length||this.g.El||!this.g.of;if(b){this.g.te||(this.g.te=a.qh(this.g.Ga,this.g.Fa,this.g.ab));if(this.g.te.km!==this.g.Ga||this.g.te.jm!==this.g.Fa)a.deleteTexture(this.g.te),this.g.te=a.qh(this.g.Ga,this.g.Fa,this.g.ab);a.Wg(this.g.te);this.g.of||a.yl(this.g.Ga,this.g.Fa)}else this.g.te&&
(a.Wg(null),a.deleteTexture(this.g.te),this.g.te=null);this.g.tr&&!this.Cw()&&a.clear(0,0,0,0);var c,d,f;c=0;for(d=this.Ha.length;c<d;c++)f=this.Ha[c],f.visible&&0<f.opacity&&(f.r.length||!f.Zh)?f.mf(a):f.Du();b&&(0===this.Za.length||1===this.Za.length&&this.g.of?(1===this.Za.length?(b=this.Za[0].index,a.Xg(this.Za[0].qd),a.xl(null,1/this.g.Ga,1/this.g.Fa,0,0,1,1,this.scale,this.L,0,0,this.g.Ga/2,this.g.Fa/2,this.$b[b]),a.dq(this.Za[0].qd)&&(this.g.nb=!0)):a.Xg(0),this.g.of||a.yl(this.g.width,this.g.height),
a.Wg(null),a.kk(1),a.Ae(this.g.te),a.Ay(),a.Ug(),a.ah(),b=this.g.width/2,c=this.g.height/2,a.hq(-b,c,b,c,b,-c,-b,-c),a.Ae(null)):this.fu(a,null,null,null))};a.prototype.wm=function(){return 0<this.Za.length||this.g.El||!this.g.of?this.g.te:null};a.prototype.xw=function(){var a=this.Ha[0].Ke(),b,c,d;b=1;for(c=this.Ha.length;b<c;b++)d=this.Ha[b],(0!==d.zf||0!==d.Af)&&d.Ke()<a&&(a=d.Ke());return a};a.prototype.yy=function(a){if(!this.$y){var b=1/this.xw()*this.g.Ga/2;a>this.width-b&&(a=this.width-b);
a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.g.nb=!0)};a.prototype.zy=function(a){if(!this.$y){var b=1/this.xw()*this.g.Fa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.g.nb=!0)};a.prototype.ZA=function(){this.yy(this.scrollX);this.zy(this.scrollY)};a.prototype.fu=function(a,b,c,d){var f=c?c.Za:b?b.Za:this.Za,e=1,g=0,h=0,m=0,n=this.g.Ga,D=this.g.Fa;c?(e=c.F.Ke(),g=c.F.zc(),h=c.F.Hb,m=c.F.Ib,n=c.F.Xb,D=c.F.Wb):b&&(e=b.Ke(),g=b.zc(),h=b.Hb,m=b.Ib,n=b.Xb,
D=b.Wb);var I=this.g.ks,G,C,z,w,J=0,V=1,N,K=this.g.Ga,E=this.g.Fa,da=K/2,P=E/2,O=b?b.ul:this.ul,H=b?b.du:this.du,L=0,U=0,M=0,R=0,Q=K,va=K,W=E,Da=E,oa=z=0,Ha=c?c.F.zc():0;if(c){G=0;for(C=f.length;G<C;G++)z+=a.CC(f[G].qd),oa+=a.DC(f[G].qd);w=c.lc;L=b.Ub(w.left,w.top,!0,!0);M=b.Ub(w.left,w.top,!1,!0);Q=b.Ub(w.right,w.bottom,!0,!0);W=b.Ub(w.right,w.bottom,!1,!0);0!==Ha&&(G=b.Ub(w.right,w.top,!0,!0),C=b.Ub(w.right,w.top,!1,!0),U=b.Ub(w.left,w.bottom,!0,!0),R=b.Ub(w.left,w.bottom,!1,!0),w=Math.min(L,Q,
G,U),Q=Math.max(L,Q,G,U),L=w,w=Math.min(M,W,C,R),W=Math.max(M,W,C,R),M=w);L-=z;M-=oa;Q+=z;W+=oa;H.left=L/K;H.top=1-M/E;H.right=Q/K;H.bottom=1-W/E;U=L=sa(L);R=M=sa(M);va=Q=ta(Q);Da=W=ta(W);U-=z;R-=oa;va+=z;Da+=oa;0>L&&(L=0);0>M&&(M=0);Q>K&&(Q=K);W>E&&(W=E);0>U&&(U=0);0>R&&(R=0);va>K&&(va=K);Da>E&&(Da=E);O.left=L/K;O.top=1-M/E;O.right=Q/K;O.bottom=1-W/E}else O.left=H.left=0,O.top=H.top=0,O.right=H.right=1,O.bottom=H.bottom=1;oa=c&&((c.L||Ha)&&a.on(f[0].qd)||0!==z||0!==oa||1!==c.opacity||c.type.Vb.Ix)||
b&&!c&&1!==b.opacity;a.Ay();if(oa){I[J]||(I[J]=a.qh(K,E,this.g.ab));if(I[J].km!==K||I[J].jm!==E)a.deleteTexture(I[J]),I[J]=a.qh(K,E,this.g.ab);a.Xg(0);a.Wg(I[J]);N=Da-R;a.clearRect(U,E-R-N,va-U,N);c?c.mf(a):(a.Ae(this.g.Ne),a.kk(b.opacity),a.Ug(),a.translate(-da,-P),a.ah(),a.Sh(L,W,Q,W,Q,M,L,M,O));H.left=H.top=0;H.right=H.bottom=1;c&&(w=O.top,O.top=O.bottom,O.bottom=w);J=1;V=0}a.kk(1);z=f.length-1;var Ha=a.au(f[z].qd)||!b&&!c&&!this.g.of,ma=0;G=0;for(C=f.length;G<C;G++){I[J]||(I[J]=a.qh(K,E,this.g.ab));
if(I[J].km!==K||I[J].jm!==E)a.deleteTexture(I[J]),I[J]=a.qh(K,E,this.g.ab);a.Xg(f[G].qd);ma=f[G].index;a.dq(f[G].qd)&&(this.g.nb=!0);0!=G||oa?(a.xl(d,1/K,1/E,H.left,H.top,H.right,H.bottom,e,g,h,m,(h+n)/2,(m+D)/2,c?c.$b[ma]:b?b.$b[ma]:this.$b[ma]),a.Ae(null),G!==z||Ha?(a.Wg(I[J]),N=Da-R,w=E-R-N,a.clearRect(U,w,va-U,N)):(c?a.Wi(c.Dd,c.xd):b&&a.Wi(b.Dd,b.xd),a.Wg(d)),a.Ae(I[V]),a.Ug(),a.translate(-da,-P),a.ah(),a.Sh(L,W,Q,W,Q,M,L,M,O),G!==z||Ha||a.Ae(null)):(a.Wg(I[J]),N=Da-R,w=E-R-N,a.clearRect(U,w,
va-U,N),c?(a.xl(d,1/c.width,1/c.height,H.left,H.top,H.right,H.bottom,e,g,h,m,(h+n)/2,(m+D)/2,c.$b[ma]),c.mf(a)):(a.xl(d,1/K,1/E,0,0,1,1,e,g,h,m,(h+n)/2,(m+D)/2,b?b.$b[ma]:this.$b[ma]),a.Ae(b?this.g.Ne:this.g.te),a.Ug(),a.translate(-da,-P),a.ah(),a.Sh(L,W,Q,W,Q,M,L,M,O)),H.left=H.top=0,H.right=H.bottom=1,c&&!Ha&&(w=W,W=M,M=w));J=0===J?1:0;V=0===J?1:0}Ha&&(a.Xg(0),c?a.Wi(c.Dd,c.xd):b?a.Wi(b.Dd,b.xd):this.g.of||(a.yl(this.g.width,this.g.height),da=this.g.width/2,P=this.g.height/2,M=L=0,Q=this.g.width,
W=this.g.height),a.Wg(d),a.Ae(I[V]),a.Ug(),a.translate(-da,-P),a.ah(),c&&1===f.length&&!oa?a.Sh(L,M,Q,M,Q,W,L,W,O):a.Sh(L,W,Q,W,Q,M,L,M,O),a.Ae(null))};a.prototype.dp=function(a){var b,c;b=0;for(c=this.Ha.length;b<c;b++)if(this.Ha[b].Pa===a)return this.Ha[b];return null};a.prototype.fe=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.L,w:this.width,h:this.height,fv:this.Nk,persist:this.Ti,fx:[],layers:{}};a=0;for(b=this.ya.length;a<b;a++)c=this.ya[a],d.fx.push({name:c.name,
active:c.vd,params:this.$b[c.index]});a=0;for(b=this.Ha.length;a<b;a++)c=this.Ha[a],d.layers[c.Pa.toString()]=c.fe();return d};a.prototype.Oe=function(a){var b,c,d,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.L=a.a;this.width=a.w;this.height=a.h;this.Ti=a.persist;"undefined"!==typeof a.fv&&(this.Nk=a.fv);var e=a.fx;b=0;for(c=e.length;b<c;b++)if(d=this.os(e[b].name))d.vd=e[b].active,this.$b[d.index]=e[b].params;this.$h();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.dp(parseInt(f,
10)))&&a.Oe(b[f])};Fb=a;b.prototype.$h=function(){this.Za.length=0;var a,b,c;a=0;for(b=this.ya.length;a<b;a++)c=this.ya[a],c.vd&&this.Za.push(c)};b.prototype.os=function(a){var b,c,d;b=0;for(c=this.ya.length;b<c;b++)if(d=this.ya[b],d.name===a)return d;return null};b.prototype.hB=function(){var a,b,c,d,f,e;b=a=0;for(c=this.Qk.length;a<c;a++){d=this.Qk[a];f=this.g.U[d[1]];e=this.g.zu(f);f=!0;if(!e||this.Pc.Nk)d=this.g.vi(d,this,!0),g.push(d),d.type.global&&(f=!1);f&&(this.Qk[b]=this.Qk[a],b++)}this.Qk.length=
b;this.g.sd();!this.g.Z&&this.ya.length&&(this.Wd=this.LB);this.mm=db(this.Wd);this.g.T&&eb(this,this.Wd,this.g.T);this.Th=!0};b.prototype.wl=function(a,b){var c=Ea(this.r,a);0>c||(b&&this.hg&&a.de&&a.de.right>=a.de.left&&(a.Va(),this.ze.update(a,a.de,null),a.de.set(0,0,-1,-1)),c===this.r.length-1?this.r.pop():(Aa(this.r,c),this.un(c)),this.Th=!0)};b.prototype.gm=function(a,b){a.jg=this.r.length;this.r.push(a);b&&this.hg&&a.de&&a.ib();this.Th=!0};b.prototype.lE=function(a){this.r.unshift(a);this.un(0)};
b.prototype.RD=function(a,b,c){var d=a.qf();b=b.qf();Aa(this.r,d);d<b&&b--;c&&b++;b===this.r.length?this.r.push(a):this.r.splice(b,0,a);this.un(d<b?d:b)};b.prototype.un=function(a){-1===this.bi?this.bi=a:a<this.bi&&(this.bi=a);this.Th=this.ok=!0};b.prototype.Eu=function(){if(this.ok){-1===this.bi&&(this.bi=0);var a,b,c;if(this.hg)for(a=this.bi,b=this.r.length;a<b;++a)c=this.r[a],c.jg=a,this.ze.KD(c.de);else for(a=this.bi,b=this.r.length;a<b;++a)this.r[a].jg=a;this.ok=!1;this.bi=-1}};b.prototype.Ke=
function(a){return this.zC()*(this.g.of||a?this.g.hm:1)};b.prototype.zC=function(){return(this.scale*this.Pc.scale-1)*this.kg+1};b.prototype.zc=function(){return this.xj?0:Ja(this.Pc.L+this.L)};var h=[],m=[],n=[];b.prototype.yw=function(){this.Eu();this.ze.iq(this.Hb,this.Ib,this.Xb,this.Wb,n);if(!n.length)return d();if(1===n.length){var a=d();Ba(a,n[0]);n.length=0;return a}for(var b=!0;1<n.length;){for(var a=n,c=void 0,f=void 0,g=void 0,h=void 0,q=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],h=a[c+
1],q=d(),B=g,y=h,F=q,D=0,I=0,G=0,C=B.length,z=y.length,w=void 0,J=void 0;for(F.length=C+z;D<C&&I<z;++G)w=B[D],J=y[I],w.jg<J.jg?(F[G]=w,++D):(F[G]=J,++I);for(;D<C;++D,++G)F[G]=B[D];for(;I<z;++I,++G)F[G]=y[I];b||(e(g),e(h));m.push(q)}1===f%2&&(b?(g=d(),Ba(g,a[f-1]),m.push(g)):m.push(a[f-1]));Ba(a,m);m.length=0;b=!1}a=n[0];n.length=0;return a};b.prototype.ug=function(a){this.Vi=this.gs||1!==this.opacity||0!==this.Wd;var b=this.g.canvas,c=a,d=!1;this.Vi&&(this.g.zp||(this.g.zp=document.createElement("canvas"),
b=this.g.zp,b.width=this.g.Ga,b.height=this.g.Fa,this.g.Zw=b.getContext("2d"),d=!0),b=this.g.zp,c=this.g.Zw,b.width!==this.g.Ga&&(b.width=this.g.Ga,d=!0),b.height!==this.g.Fa&&(b.height=this.g.Fa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.g.ab,c.mozImageSmoothingEnabled=this.g.ab,c.msImageSmoothingEnabled=this.g.ab,c.imageSmoothingEnabled=this.g.ab),this.Zh&&c.clearRect(0,0,this.g.Ga,this.g.Fa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Zh||(c.fillStyle="rgb("+this.ni[0]+","+
this.ni[1]+","+this.ni[2]+")",c.fillRect(0,0,this.g.Ga,this.g.Fa));c.save();this.xj=!0;var d=this.nd(0,0,!0,!0),f=this.nd(0,0,!1,!0);this.xj=!1;this.g.Qg&&(d=Math.round(d),f=Math.round(f));this.hu(d,f,c);var g=this.Ke();c.scale(g,g);c.translate(-d,-f);this.hg?(this.jf.left=this.ze.Ee(this.Hb),this.jf.top=this.ze.Fe(this.Ib),this.jf.right=this.ze.Ee(this.Xb),this.jf.bottom=this.ze.Fe(this.Wb),this.Th||!this.jf.Po(this.vp)?(e(this.Zk),d=this.yw(),this.Th=!1,this.vp.Do(this.jf)):d=this.Zk):d=this.r;
for(var h,m=null,f=0,g=d.length;f<g;++f)h=d[f],h!==m&&(this.AB(h,c),m=h);this.hg&&(this.Zk=d);c.restore();this.Vi&&(a.globalCompositeOperation=this.mm,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.AB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Va();var c=a.lc;c.right<this.Hb||c.bottom<this.Ib||c.left>this.Xb||c.top>this.Wb||(b.globalCompositeOperation=a.mm,a.ug(b))}};b.prototype.Du=function(){this.xj=!0;var a=this.nd(0,0,!0,!0),b=this.nd(0,0,!1,!0);this.xj=!1;this.g.Qg&&
(a=Math.round(a),b=Math.round(b));this.hu(a,b,null)};b.prototype.hu=function(a,b,c){var d=this.Ke();this.Hb=a;this.Ib=b;this.Xb=a+1/d*this.g.Ga;this.Wb=b+1/d*this.g.Fa;a=this.zc();0!==a&&(c&&(c.translate(this.g.Ga/2,this.g.Fa/2),c.rotate(-a),c.translate(this.g.Ga/-2,this.g.Fa/-2)),this.Yh.set(this.Hb,this.Ib,this.Xb,this.Wb),this.Yh.offset((this.Hb+this.Xb)/-2,(this.Ib+this.Wb)/-2),this.Ty.Ey(this.Yh,a),this.Ty.Ov(this.Yh),this.Yh.offset((this.Hb+this.Xb)/2,(this.Ib+this.Wb)/2),this.Hb=this.Yh.left,
this.Ib=this.Yh.top,this.Xb=this.Yh.right,this.Wb=this.Yh.bottom)};b.prototype.mf=function(a){var b=0,c=0;if(this.Vi=this.gs||1!==this.opacity||0<this.Za.length||0!==this.Wd){this.g.Ne||(this.g.Ne=a.qh(this.g.Ga,this.g.Fa,this.g.ab));if(this.g.Ne.km!==this.g.Ga||this.g.Ne.jm!==this.g.Fa)a.deleteTexture(this.g.Ne),this.g.Ne=a.qh(this.g.Ga,this.g.Fa,this.g.ab);a.Wg(this.g.Ne);this.Zh&&a.clear(0,0,0,0)}this.Zh||a.clear(this.ni[0]/255,this.ni[1]/255,this.ni[2]/255,1);this.xj=!0;var d=this.nd(0,0,!0,!0),
b=this.nd(0,0,!1,!0);this.xj=!1;this.g.Qg&&(d=Math.round(d),b=Math.round(b));this.hu(d,b,null);d=this.Ke();a.Ug();a.scale(d,d);a.iu(-this.zc());a.translate((this.Hb+this.Xb)/-2,(this.Ib+this.Wb)/-2);a.ah();this.hg?(this.jf.left=this.ze.Ee(this.Hb),this.jf.top=this.ze.Fe(this.Ib),this.jf.right=this.ze.Ee(this.Xb),this.jf.bottom=this.ze.Fe(this.Wb),this.Th||!this.jf.Po(this.vp)?(e(this.Zk),b=this.yw(),this.Th=!1,this.vp.Do(this.jf)):b=this.Zk):b=this.r;var f,g,h=null,c=0;for(f=b.length;c<f;++c)g=b[c],
g!==h&&(this.BB(b[c],a),h=g);this.hg&&(this.Zk=b);this.Vi&&(b=this.Za.length?this.Za[0].qd:0,c=this.Za.length?this.Za[0].index:0,0===this.Za.length||1===this.Za.length&&!a.au(b)&&1===this.opacity?(1===this.Za.length?(a.Xg(b),a.xl(this.Pc.wm(),1/this.g.Ga,1/this.g.Fa,0,0,1,1,d,this.zc(),this.Hb,this.Ib,(this.Hb+this.Xb)/2,(this.Ib+this.Wb)/2,this.$b[c]),a.dq(b)&&(this.g.nb=!0)):a.Xg(0),a.Wg(this.Pc.wm()),a.kk(this.opacity),a.Ae(this.g.Ne),a.Wi(this.Dd,this.xd),a.Ug(),a.ah(),d=this.g.Ga/2,b=this.g.Fa/
2,a.hq(-d,b,d,b,d,-b,-d,-b),a.Ae(null)):this.Pc.fu(a,this,null,this.Pc.wm()))};b.prototype.BB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Va();var c=a.lc;c.right<this.Hb||c.bottom<this.Ib||c.left>this.Xb||c.top>this.Wb||(a.hz?this.CB(a,b):(b.Xg(0),b.Wi(a.Dd,a.xd),a.mf(b)))}};b.prototype.CB=function(a,b){var c=a.Za[0].qd,d=a.Za[0].index,f=this.Ke();if(1!==a.Za.length||b.au(c)||b.nE(c)||(a.L||a.F.zc())&&b.on(c)||1!==a.opacity||a.type.Vb.Ix)this.Pc.fu(b,this,a,this.Vi?this.g.Ne:this.Pc.wm()),
b.Ug(),b.scale(f,f),b.iu(-this.zc()),b.translate((this.Hb+this.Xb)/-2,(this.Ib+this.Wb)/-2),b.ah();else{b.Xg(c);b.Wi(a.Dd,a.xd);b.dq(c)&&(this.g.nb=!0);var e=0,g=0,h=0,m=0;b.on(c)&&(c=a.lc,e=this.Ub(c.left,c.top,!0,!0),g=this.Ub(c.left,c.top,!1,!0),h=this.Ub(c.right,c.bottom,!0,!0),c=this.Ub(c.right,c.bottom,!1,!0),e/=windowWidth,g=1-g/windowHeight,h/=windowWidth,m=1-c/windowHeight);b.xl(this.Vi?this.g.Ne:this.Pc.wm(),1/a.width,1/a.height,e,g,h,m,f,this.zc(),this.Hb,this.Ib,(this.Hb+this.Xb)/2,(this.Ib+
this.Wb)/2,a.$b[d]);a.mf(b)}};b.prototype.nd=function(a,b,c,d){var f=this.g.devicePixelRatio;this.g.Kj&&(a*=f,b*=f);var f=this.g.dy,e=this.g.ey,f=(this.Pc.scrollX-f)*this.zf+f,e=(this.Pc.scrollY-e)*this.Af+e,g=f,h=e,m=1/this.Ke(!d);d?(g-=this.g.Ga*m/2,h-=this.g.Fa*m/2):(g-=this.g.width*m/2,h-=this.g.height*m/2);g+=a*m;h+=b*m;b=this.zc();0!==b&&(g-=f,h-=e,a=Math.cos(b),b=Math.sin(b),d=g*a-h*b,h=h*a+g*b,g=d+f,h+=e);return c?g:h};b.prototype.Ub=function(a,b,c,d){var f=this.g.dy,e=this.g.ey,g=(this.Pc.scrollX-
f)*this.zf+f,h=(this.Pc.scrollY-e)*this.Af+e,e=g,f=h,m=this.zc();if(0!==m){a-=g;b-=h;var n=Math.cos(-m),m=Math.sin(-m),D=a*n-b*m;b=b*n+a*m;a=D+g;b+=h}g=1/this.Ke(!d);d?(e-=this.g.Ga*g/2,f-=this.g.Fa*g/2):(e-=this.g.width*g/2,f-=this.g.height*g/2);e=(a-e)/g;f=(b-f)/g;a=this.g.devicePixelRatio;this.g.Kj&&!d&&(e/=a,f/=a);return c?e:f};b.prototype.fe=function(){var a,b,c,d={s:this.scale,a:this.L,vl:this.Hb,vt:this.Ib,vr:this.Xb,vb:this.Wb,v:this.visible,bc:this.ni,t:this.Zh,px:this.zf,py:this.Af,o:this.opacity,
zr:this.kg,fx:[],instances:[]};a=0;for(b=this.ya.length;a<b;a++)c=this.ya[a],d.fx.push({name:c.name,active:c.vd,params:this.$b[c.index]});return d};b.prototype.Oe=function(a){var b,d;this.scale=a.s;this.L=a.a;this.Hb=a.vl;this.Ib=a.vt;this.Xb=a.vr;this.Wb=a.vb;this.visible=a.v;this.ni=a.bc;this.Zh=a.t;this.zf=a.px;this.Af=a.py;this.opacity=a.o;this.kg=a.zr;var f=a.fx;a=0;for(b=f.length;a<b;a++)if(d=this.os(f[a].name))d.vd=f[a].active,this.$b[d.index]=f[a].params;this.$h();this.r.sort(c);this.ok=!0};
Tb=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,f,e,k;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=p.length&&(p.length=b.length+1);p[b.length]||(p[b.length]=[]);k=p[b.length];d=0;for(f=k.length;d<f;d++)if(e=k[d],a(b,e))return e;k.push(b);return b}
function d(a,b){this.g=a;this.Wy={};this.lw={};this.As=!1;this.Ew=new ba;this.Rr=[];this.ur=[];this.name=b[0];var c=b[1];this.yi=[];var d,f;d=0;for(f=c.length;d<f;d++)this.Hw(c[d],null,this.yi)}function e(a){this.type=a;this.r=[];this.eb=[];this.ob=!0}function g(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.zb=[];this.Xi=[];this.Dw=this.Aq=this.wu=this.kp=this.group=this.Ky=!1;this.cd=[];this.Lf=[];this.Ef=[];this.zm="";this.Pk=this.kp=this.group=!1;this.zo=null;c[1]&&(this.zm=c[1][1].toLowerCase(),
this.group=!0,this.kp=!!c[1][0],this.zo=[],this.Pk=this.kp,this.g.ji.push(this),this.g.hp[this.zm]=this);this.ag=c[2];this.Pa=c[4];this.group||(this.g.Nv[this.Pa.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new Ub(this,d[a]);f.index=a;this.cd.push(f);this.Cv(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new Vb(this,d[a]),f.index=a,this.Lf.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Hw(c[a],this,this.Ef);this.op=!1;this.cd.length&&(this.op=null==this.cd[0].type&&
this.cd[0].od==mc.prototype.X.Fz)}function f(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Le))for(c=0,d=a.oe.length;c<d;c++)f=a.oe[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function h(a,b){this.He=a;this.sheet=a.sheet;this.g=a.g;this.Da=[];this.sb=[];this.la={};this.index=-1;this.em=!1;this.od=this.g.fi(b[1]);this.trigger=0<b[3];this.kw=2===b[3];this.Eg=b[4];this.Hs=b[5];this.kD=b[6];this.Pa=b[7];this.g.Gk[this.Pa.toString()]=this;-1===b[0]?(this.type=null,this.Dc=this.ku,this.qj=null,this.ef=
-1):(this.type=this.g.U[b[0]],this.Dc=this.kD?this.AE:this.ju,b[2]?(this.qj=this.type.$o(b[2]),this.ef=this.type.ls(b[2])):(this.qj=null,this.ef=-1),this.He.parent&&this.He.parent.sq());this.kw&&(this.Dc=this.BE);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var e=new Wb(this,f[c]);this.Da.push(e)}this.sb.length=f.length}}function m(a,b){this.He=a;this.sheet=a.sheet;this.g=a.g;this.Da=[];this.sb=[];this.la={};this.index=-1;this.em=!1;this.od=this.g.fi(b[1]);-1===b[0]?(this.type=null,
this.Dc=this.ku,this.qj=null,this.ef=-1):(this.type=this.g.U[b[0]],this.Dc=this.ju,b[2]?(this.qj=this.type.$o(b[2]),this.ef=this.type.ls(b[2])):(this.qj=null,this.ef=-1));this.Pa=b[3];this.g.Bk[this.Pa.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var e=new Wb(this,f[c]);this.Da.push(e)}this.sb.length=f.length}}function n(a,b){this.fa=a;this.He=a.He;this.sheet=a.sheet;this.g=a.g;this.type=b[0];this.wg=null;this.Yi=0;this.get=null;this.Wv=0;this.Pc=null;this.key=0;this.object=
null;this.index=0;this.Cn=this.mk=this.Cn=this.mk=this.mw=this.Bj=this.Dn=null;this.Ff=!1;var c,d,f;switch(b[0]){case 0:case 7:this.wg=new Xb(this,b[1]);this.Yi=0;this.get=this.IC;break;case 1:this.wg=new Xb(this,b[1]);this.Yi=0;this.get=this.JC;break;case 5:this.wg=new Xb(this,b[1]);this.Yi=0;this.get=this.NC;break;case 3:case 8:this.Wv=b[1];this.get=this.GC;break;case 6:this.Pc=this.g.Ys[b[1]];this.get=this.OC;break;case 9:this.key=b[1];this.get=this.MC;break;case 4:this.object=this.g.U[b[1]];this.get=
this.PC;this.He.Cv(this.object);this.fa instanceof Vb?this.He.sq():this.He.parent&&this.He.parent.sq();break;case 10:this.index=b[1];a.type.za?(this.get=this.KC,this.Ff=!0):this.get=this.LC;break;case 11:this.Dn=b[1];this.Bj=null;this.get=this.HC;break;case 2:case 12:this.mw=b[1];this.get=this.FC;break;case 13:for(this.get=this.QC,this.mk=[],this.Cn=[],c=1,d=b.length;c<d;c++)f=new Wb(this.fa,b[c]),this.mk.push(f),this.Cn.push(0)}}function l(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.zb=[];
this.name=c[1];this.Gq=c[2];this.Es=c[3];this.Jm=!!c[4];this.np=!!c[5];this.Pa=c[6];this.g.Gl[this.Pa.toString()]=this;this.data=this.Es;this.parent?(this.Xj=this.Jm||this.np?-1:this.g.LE++,this.g.RA.push(this)):(this.Xj=-1,this.g.QA.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.zb=[];this.Bm=null;this.XC=c[1];this.vd=!0}function r(){this.Oy=[];this.reset(null)}var p=[];d.prototype.toString=function(){return this.name};d.prototype.Hw=function(a,b,c){switch(a[0]){case 0:a=
new Yb(this,b,a);if(a.ag)for(c.push(a),c=0,b=a.cd.length;c<b;c++)a.cd[c].trigger&&this.Iw(a,c);else a.Sw()?this.Iw(a,0):c.push(a);break;case 1:a=new Qb(this,b,a);c.push(a);break;case 2:a=new Zb(this,b,a),c.push(a)}};d.prototype.rc=function(){var a,b;a=0;for(b=this.yi.length;a<b;a++)this.yi[a].rc(a<b-1&&this.yi[a+1].op)};d.prototype.Bu=function(){this.Rr.length=0;this.ur.length=0;this.Bv(this);this.ur.length=0};d.prototype.Bv=function(a){var b,c,d,f,e=a.Rr,k=a.ur,g=this.Ew.$e();b=0;for(c=g.length;b<
c;++b)d=g[b],f=d.Bm,!d.vd||a===f||-1<k.indexOf(f)||(k.push(f),f.Bv(a),e.push(f))};d.prototype.Dc=function(a){this.g.DG||(this.As=!0,a||(this.g.Ks=!0));var b,c;b=0;for(c=this.yi.length;b<c;b++){var d=this.yi[b];d.Dc();this.g.Gr(d.zb);this.g.Ci&&this.g.sd()}a||(this.g.Ks=!1)};d.prototype.Iw=function(a,b){a.ag||this.g.Eq.push(a);var c,d,f=a.cd[b],e;e=f.type?f.type.name:"system";var k=(c=f.kw)?this.lw:this.Wy;k[e]||(k[e]=[]);e=k[e];k=f.od;if(c){if(f.Da.length&&(f=f.Da[0],1===f.type&&2===f.wg.type)){f=
f.wg.value.toLowerCase();c=0;for(d=e.length;c<d;c++)if(e[c].method==k){c=e[c].pm;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];e.push({method:k,pm:c})}}else{c=0;for(d=e.length;c<d;c++)if(e[c].method==k){e[c].pm.push([a,b]);return}nc&&k===nc.prototype.X.zk?e.unshift({method:k,pm:[[a,b]]}):e.push({method:k,pm:[[a,b]]})}};Gb=d;e.prototype.zs=function(){return this.ob?this.type.r.length:this.r.length};e.prototype.pf=function(){return this.ob?this.type.r:this.r};e.prototype.mn=function(a){a&&
(a.g.yd().pe.ag?(this.ob&&(this.r.length=0,Ba(this.eb,a.type.r),this.ob=!1),a=this.eb.indexOf(a),-1!==a&&(this.r.push(this.eb[a]),this.eb.splice(a,1))):(this.ob=!1,this.r.length=1,this.r[0]=a))};lb=e;window._c2hh_="";g.prototype.rc=function(a){var c,d=this.parent;if(this.group)for(this.Aq=!0;d;){if(!d.group){this.Aq=!1;break}d=d.parent}this.wu=!this.Sw()&&(!this.parent||this.parent.group&&this.parent.Aq);this.Dw=!!a;this.Xi=this.zb.slice(0);for(d=this.parent;d;){a=0;for(c=d.zb.length;a<c;a++)this.NA(d.zb[a]);
d=d.parent}this.zb=b(this.zb);this.Xi=b(this.Xi);a=0;for(c=this.cd.length;a<c;a++)this.cd[a].rc();a=0;for(c=this.Lf.length;a<c;a++)this.Lf[a].rc();a=0;for(c=this.Ef.length;a<c;a++)this.Ef[a].rc(a<c-1&&this.Ef[a+1].op)};g.prototype.GE=function(a){if(this.Pk!==!!a){this.Pk=!!a;var b;a=0;for(b=this.zo.length;a<b;++a)this.zo[a].bz();0<b&&this.g.pb.Aj&&this.g.pb.Aj.Bu()}};g.prototype.Cv=function(a){f(a,this.zb)};g.prototype.NA=function(a){f(a,this.Xi)};g.prototype.sq=function(){this.Ky=!0;this.parent&&
this.parent.sq()};g.prototype.Sw=function(){return this.cd.length?this.cd[0].trigger:!1};g.prototype.Dc=function(){var a,b=!1,c,d=this.g,f=this.g.yd();f.pe=this;var e=this.cd;this.op||(f.Vr=!1);if(this.ag){0===e.length&&(b=!0);f.Lc=0;for(a=e.length;f.Lc<a;f.Lc++)e[f.Lc].trigger||(c=e[f.Lc].Dc())&&(b=!0);(f.Pj=b)&&this.nq()}else{f.Lc=0;for(a=e.length;f.Lc<a;f.Lc++)if(c=e[f.Lc].Dc(),!c){f.Pj=!1;this.wu&&d.Ci&&d.sd();return}f.Pj=!0;this.nq()}this.NB(f)};g.prototype.NB=function(a){a.Pj&&this.Dw&&(a.Vr=
!0);this.wu&&this.g.Ci&&this.g.sd()};g.prototype.yE=function(a){this.g.yd().pe=this;this.cd[a].Dc()&&(this.nq(),this.g.yd().Pj=!0)};g.prototype.nq=function(){var a=this.g.yd(),b;a.le=0;for(b=this.Lf.length;a.le<b;a.le++)if(this.Lf[a.le].Dc())return;this.uy()};g.prototype.vE=function(){var a=this.g.yd(),b;for(b=this.Lf.length;a.le<b;a.le++)if(this.Lf[a.le].Dc())return;this.uy()};g.prototype.uy=function(){if(this.Ef.length){var a,b,c,d,f=this.Ef.length-1;this.g.gq(this);if(this.Ky)for(a=0,b=this.Ef.length;a<
b;a++)c=this.Ef[a],(d=!this.Aq||!this.group&&a<f)&&this.g.fq(c.zb),c.Dc(),d?this.g.ik(c.zb):this.g.Gr(c.zb);else for(a=0,b=this.Ef.length;a<b;a++)this.Ef[a].Dc();this.g.aq()}};g.prototype.zE=function(){var a=this.g.yd();a.pe=this;var b=!1,c;a.Lc=0;for(c=this.cd.length;a.Lc<c;a.Lc++)if(this.cd[a.Lc].Dc())b=!0;else if(!this.ag)return!1;return this.ag?b:!0};g.prototype.wE=function(){this.g.qm++;var a=this.g.yd().Lc,b=this.g.gq(this);if(!this.ag)for(b.Lc=a+1,a=this.cd.length;b.Lc<a;b.Lc++)if(!this.cd[b.Lc].Dc()){this.g.aq();
return}this.nq();this.g.aq()};g.prototype.fD=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.cd[b].type===a.type)return!1;return!0};Yb=g;h.prototype.rc=function(){var a,b,c;a=0;for(b=this.Da.length;a<b;a++)c=this.Da[a],c.rc(),c.Ff&&(this.em=!0)};h.prototype.BE=function(){return!0};h.prototype.ku=function(){var a,b;a=0;for(b=this.Da.length;a<b;a++)this.sb[a]=this.Da[a].get();return Sa(this.od.apply(this.g.Yg,this.sb),this.Hs)};h.prototype.AE=function(){var a,b;a=0;for(b=this.Da.length;a<
b;a++)this.sb[a]=this.Da[a].get();a=this.od.apply(this.qj?this.qj:this.type,this.sb);this.type.Of();return a};h.prototype.ju=function(){var a,b,c,d,f,e,k,g,h=this.type,m=h.$a(),l=this.He.ag&&!this.trigger;b=0;var p=h.Le,n=h.za,r=h.xh,u=this.ef,t=-1<u,P=this.em,O=this.Da,H=this.sb,L=this.Hs,U=this.od,M;if(P)for(b=0,f=O.length;b<f;++b)e=O[b],e.Ff||(H[b]=e.get(0));else for(b=0,f=O.length;b<f;++b)H[b]=O[b].get(0);if(m.ob){m.r.length=0;m.eb.length=0;M=h.r;a=0;for(d=M.length;a<d;++a){g=M[a];if(P)for(b=
0,f=O.length;b<f;++b)e=O[b],e.Ff&&(H[b]=e.get(a));t?(b=0,n&&(b=g.type.Mk[r]),b=U.apply(g.xa[u+b],H)):b=U.apply(g,H);(k=Sa(b,L))?m.r.push(g):l&&m.eb.push(g)}h.finish&&h.finish(!0);m.ob=!1;h.Of();return m.zs()}c=0;M=(k=l&&!this.He.fD(this))?m.eb:m.r;var R=!1;a=0;for(d=M.length;a<d;++a){g=M[a];if(P)for(b=0,f=O.length;b<f;++b)e=O[b],e.Ff&&(H[b]=e.get(a));t?(b=0,n&&(b=g.type.Mk[r]),b=U.apply(g.xa[u+b],H)):b=U.apply(g,H);if(Sa(b,L))if(R=!0,k){if(m.r.push(g),p)for(b=0,f=g.siblings.length;b<f;b++)e=g.siblings[b],
e.type.$a().r.push(e)}else{M[c]=g;if(p)for(b=0,f=g.siblings.length;b<f;b++)e=g.siblings[b],e.type.$a().r[c]=e;c++}else if(k){M[c]=g;if(p)for(b=0,f=g.siblings.length;b<f;b++)e=g.siblings[b],e.type.$a().eb[c]=e;c++}else if(l&&(m.eb.push(g),p))for(b=0,f=g.siblings.length;b<f;b++)e=g.siblings[b],e.type.$a().eb.push(e)}M.length=c;if(p)for(n=h.oe,a=0,d=n.length;a<d;a++)g=n[a].$a(),k?g.eb.length=c:g.r.length=c;c=R;if(k&&!R)for(a=0,d=m.r.length;a<d;a++){g=m.r[a];if(P)for(b=0,f=O.length;b<f;b++)e=O[b],e.Ff&&
(H[b]=e.get(a));b=t?U.apply(g.xa[u],H):U.apply(g,H);if(Sa(b,L)){R=!0;break}}h.finish&&h.finish(c||l);return l?R:m.zs()};Ub=h;m.prototype.rc=function(){var a,b,c;a=0;for(b=this.Da.length;a<b;a++)c=this.Da[a],c.rc(),c.Ff&&(this.em=!0)};m.prototype.ku=function(){var a,b;a=0;for(b=this.Da.length;a<b;a++)this.sb[a]=this.Da[a].get();return this.od.apply(this.g.Yg,this.sb)};m.prototype.ju=function(){var a=this.type.$a().pf(),b=this.type.za,c=this.type.xh,d=this.ef,f=-1<d,e=this.em,k=this.Da,g=this.sb,h=
this.od,m,l,p,n,r,u;if(e)for(l=0,n=k.length;l<n;++l)r=k[l],r.Ff||(g[l]=r.get(0));else for(l=0,n=k.length;l<n;++l)g[l]=k[l].get(0);m=0;for(p=a.length;m<p;++m){u=a[m];if(e)for(l=0,n=k.length;l<n;++l)r=k[l],r.Ff&&(g[l]=r.get(m));f?(l=0,b&&(l=u.type.Mk[c]),h.apply(u.xa[d+l],g)):h.apply(u,g)}return!1};Vb=m;var u=[],t=-1;n.prototype.rc=function(){var a,b;if(11===this.type)this.Bj=this.g.uw(this.Dn,this.He.parent);else if(13===this.type)for(a=0,b=this.mk.length;a<b;a++)this.mk[a].rc();this.wg&&this.wg.rc()};
n.prototype.ND=function(a){this.Ff||!a||a.Vb.tq||(this.Ff=!0)};n.prototype.Cy=function(){this.Ff=!0};n.prototype.Sc=function(){t++;u.length===t&&u.push(new $b);return u[t]};n.prototype.Cc=function(){t--};n.prototype.IC=function(a){this.Yi=a||0;a=this.Sc();this.wg.get(a);this.Cc();return a.data};n.prototype.JC=function(a){this.Yi=a||0;a=this.Sc();this.wg.get(a);this.Cc();return ja(a.data)?a.data:""};n.prototype.PC=function(){return this.object};n.prototype.GC=function(){return this.Wv};n.prototype.NC=
function(a){this.Yi=a||0;a=this.Sc();this.wg.get(a);this.Cc();return a.ed()?this.g.vm(a.data):this.g.rs(a.data)};n.prototype.OC=function(){return this.Pc};n.prototype.MC=function(){return this.key};n.prototype.LC=function(){return this.index};n.prototype.KC=function(a){a=a||0;var b=this.fa.type,c=null,c=b.$a(),d=c.pf();if(d.length)c=d[a%d.length].type;else if(c.eb.length)c=c.eb[a%c.eb.length].type;else if(b.r.length)c=b.r[a%b.r.length].type;else return 0;return this.index+c.Ro[b.xh]};n.prototype.HC=
function(){return this.Bj};n.prototype.FC=function(){return this.mw};n.prototype.QC=function(){var a,b;a=0;for(b=this.mk.length;a<b;a++)this.Cn[a]=this.mk[a].get();return this.Cn};Wb=n;l.prototype.rc=function(){this.zb=b(this.zb)};l.prototype.lk=function(a){var b=this.g.sw();this.parent&&!this.Jm&&b?(this.Xj>=b.length&&(b.length=this.Xj+1),b[this.Xj]=a):this.data=a};l.prototype.xm=function(){var a=this.g.sw();return!this.parent||this.Jm||!a||this.np?this.data:this.Xj>=a.length||"undefined"===typeof a[this.Xj]?
this.Es:a[this.Xj]};l.prototype.Dc=function(){!this.parent||this.Jm||this.np||this.lk(this.Es)};Qb=l;k.prototype.toString=function(){return"include:"+this.Bm.toString()};k.prototype.rc=function(){this.Bm=this.g.Xr[this.XC];this.sheet.Ew.add(this);this.zb=b(this.zb);for(var a=this.parent;a;)a.group&&a.zo.push(this),a=a.parent;this.bz()};k.prototype.Dc=function(){this.parent&&this.g.qn(this.g.U);this.Bm.As||this.Bm.Dc(!0);this.parent&&this.g.ik(this.g.U)};k.prototype.bz=function(){for(var a=this.parent;a;){if(a.group&&
!a.Pk){this.vd=!1;return}a=a.parent}this.vd=!0};Zb=k;r.prototype.reset=function(a){this.pe=a;this.le=this.Lc=0;this.Oy.length=0;this.Vr=this.Pj=!1};Pb=r})();
(function(){function a(a,c){this.fa=a;this.g=a.g;this.type=c[0];this.get=[this.$B,this.WB,this.hC,this.kC,this.QB,this.iC,this.dC,this.TB,this.cC,this.gC,this.RB,this.fC,this.UB,this.eC,this.aC,this.bC,this.XB,this.YB,this.SB,this.jC,this.iw,this.ZB,this.iw,this.VB][this.type];var e=null;this.be=this.Da=this.sb=this.od=this.xq=this.jd=this.first=this.value=null;this.ef=-1;this.yh=null;this.Iu=-1;this.Bj=this.Dn=null;this.rn=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new Xb(a,c[1]);break;case 18:this.first=new Xb(a,c[1]);this.jd=new Xb(a,c[2]);this.xq=new Xb(a,c[3]);break;case 19:this.od=this.g.fi(c[1]);this.od!==mc.prototype.Ie.random&&this.od!==mc.prototype.Ie.cB||this.fa.Cy();this.sb=[];this.Da=[];3===c.length?(e=c[2],this.sb.length=e.length+1):this.sb.length=1;break;case 20:this.be=this.g.U[c[1]];this.ef=-1;this.od=this.g.fi(c[2]);this.rn=c[3];cc.Function&&this.od===cc.Function.prototype.Ie.oF&&this.fa.Cy();this.yh=c[4]?new Xb(a,c[4]):null;this.sb=[];this.Da=
[];6===c.length?(e=c[5],this.sb.length=e.length+1):this.sb.length=1;break;case 21:this.be=this.g.U[c[1]];this.rn=c[2];this.yh=c[3]?new Xb(a,c[3]):null;this.Iu=c[4];break;case 22:this.be=this.g.U[c[1]];this.be.$o(c[2]);this.ef=this.be.ls(c[2]);this.od=this.g.fi(c[3]);this.rn=c[4];this.yh=c[5]?new Xb(a,c[5]):null;this.sb=[];this.Da=[];7===c.length?(e=c[6],this.sb.length=e.length+1):this.sb.length=1;break;case 23:this.Dn=c[1],this.Bj=null}this.fa.ND(this.be);4<=this.type&&17>=this.type&&(this.first=
new Xb(a,c[1]),this.jd=new Xb(a,c[2]));if(e){var g,f;g=0;for(f=e.length;g<f;g++)this.Da.push(new Xb(a,e[g]))}}function c(a,c){this.type=a||ac.yk;this.data=c||0;this.pl=null;this.type==ac.yk&&(this.data=Math.floor(this.data))}a.prototype.rc=function(){23===this.type&&(this.Bj=this.fa.g.uw(this.Dn,this.fa.He.parent));this.first&&this.first.rc();this.jd&&this.jd.rc();this.xq&&this.xq.rc();this.yh&&this.yh.rc();if(this.Da){var a,c;a=0;for(c=this.Da.length;a<c;a++)this.Da[a].rc()}};a.prototype.jC=function(a){this.sb[0]=
a;a=this.fa.Sc();var c,e;c=0;for(e=this.Da.length;c<e;c++)this.Da[c].get(a),this.sb[c+1]=a.data;this.fa.Cc();this.od.apply(this.g.Yg,this.sb)};a.prototype.iw=function(a){var c=this.be.$a(),e=c.pf();if(!e.length)if(c.eb.length)e=c.eb;else{this.rn?a.ge(""):a.tb(0);return}this.sb[0]=a;a.pl=this.be;a=this.fa.Sc();var g,c=0;for(g=this.Da.length;c<g;c++)this.Da[c].get(a),this.sb[c+1]=a.data;c=this.fa.Yi;this.yh&&(this.yh.get(a),a.ed()&&(c=a.data,e=this.be.r));this.fa.Cc();c%=e.length;0>c&&(c+=e.length);
e=e[c];-1<this.ef?(a=0,this.be.za&&(a=e.type.Mk[this.be.xh]),this.od.apply(e.xa[this.ef+a],this.sb)):this.od.apply(e,this.sb)};a.prototype.ZB=function(a){var c=this.be.$a(),e=c.pf();if(!e.length)if(c.eb.length)e=c.eb;else{this.rn?a.ge(""):a.tb(0);return}c=this.fa.Yi;if(this.yh){var g=this.fa.Sc();this.yh.get(g);if(g.ed()){c=g.data;e=this.be.r;c%=e.length;0>c&&(c+=e.length);e=e[c].Oc[this.Iu];ja(e)?a.ge(e):a.ma(e);this.fa.Cc();return}this.fa.Cc()}c%=e.length;0>c&&(c+=e.length);e=e[c];c=0;this.be.za&&
(c=e.type.Ro[this.be.xh]);e=e.Oc[this.Iu+c];ja(e)?a.ge(e):a.ma(e)};a.prototype.$B=function(a){a.type=ac.yk;a.data=this.value};a.prototype.WB=function(a){a.type=ac.tk;a.data=this.value};a.prototype.hC=function(a){a.type=ac.String;a.data=this.value};a.prototype.kC=function(a){this.first.get(a);a.ed()&&(a.data=-a.data)};a.prototype.QB=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.ed()&&c.ed()&&(a.data+=c.data,c.Tk()&&a.jl());this.fa.Cc()};a.prototype.iC=function(a){this.first.get(a);
var c=this.fa.Sc();this.jd.get(c);a.ed()&&c.ed()&&(a.data-=c.data,c.Tk()&&a.jl());this.fa.Cc()};a.prototype.dC=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.ed()&&c.ed()&&(a.data*=c.data,c.Tk()&&a.jl());this.fa.Cc()};a.prototype.TB=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.ed()&&c.ed()&&(a.data/=c.data,a.jl());this.fa.Cc()};a.prototype.cC=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.ed()&&c.ed()&&(a.data%=c.data,c.Tk()&&a.jl());this.fa.Cc()};
a.prototype.gC=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.ed()&&c.ed()&&(a.data=Math.pow(a.data,c.data),c.Tk()&&a.jl());this.fa.Cc()};a.prototype.RB=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.ed()?c.pp()?a.ge(a.data.toString()+c.data):a.data&&c.data?a.tb(1):a.tb(0):a.pp()&&(a.data=c.pp()?a.data+c.data:a.data+(Math.round(1E10*c.data)/1E10).toString());this.fa.Cc()};a.prototype.fC=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.ed()&&c.ed()&&
(a.data||c.data?a.tb(1):a.tb(0));this.fa.Cc()};a.prototype.SB=function(a){this.first.get(a);a.data?this.jd.get(a):this.xq.get(a)};a.prototype.UB=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.tb(a.data===c.data?1:0);this.fa.Cc()};a.prototype.eC=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.tb(a.data!==c.data?1:0);this.fa.Cc()};a.prototype.aC=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.tb(a.data<c.data?1:0);this.fa.Cc()};a.prototype.bC=function(a){this.first.get(a);
var c=this.fa.Sc();this.jd.get(c);a.tb(a.data<=c.data?1:0);this.fa.Cc()};a.prototype.XB=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.tb(a.data>c.data?1:0);this.fa.Cc()};a.prototype.YB=function(a){this.first.get(a);var c=this.fa.Sc();this.jd.get(c);a.tb(a.data>=c.data?1:0);this.fa.Cc()};a.prototype.VB=function(a){var c=this.Bj.xm();ia(c)?a.ma(c):a.ge(c)};Xb=a;c.prototype.Tk=function(){return this.type===ac.tk};c.prototype.ed=function(){return this.type===ac.yk||this.type===ac.tk};
c.prototype.pp=function(){return this.type===ac.String};c.prototype.jl=function(){this.Tk()||(this.pp()&&(this.data=parseFloat(this.data)),this.type=ac.tk)};c.prototype.tb=function(a){this.type=ac.yk;this.data=Math.floor(a)};c.prototype.ma=function(a){this.type=ac.tk;this.data=a};c.prototype.ge=function(a){this.type=ac.String;this.data=a};c.prototype.KE=function(a){ia(a)?(this.type=ac.tk,this.data=a):ja(a)?(this.type=ac.String,this.data=a.toString()):(this.type=ac.yk,this.data=0)};$b=c;ac={yk:0,tk:1,
String:2}})();function mc(a){this.g=a;this.he=[]}
mc.prototype.fe=function(){var a={},c,b,d,e,g,f,h,m;a.waits=[];var n=a.waits,l;c=0;for(b=this.he.length;c<b;c++){f=this.he[c];l={t:f.time,st:f.Jy,s:f.qu,ev:f.Kk.Pa,sm:[],sols:{}};f.Kk.Lf[f.le]&&(l.act=f.Kk.Lf[f.le].Pa);d=0;for(e=f.zb.length;d<e;d++)l.sm.push(f.zb[d].Pa);for(g in f.Vd)if(f.Vd.hasOwnProperty(g)){h=this.g.U[parseInt(g,10)];m={sa:f.Vd[g].oq,insts:[]};d=0;for(e=f.Vd[g].zh.length;d<e;d++)m.insts.push(f.Vd[g].zh[d].uid);l.sols[h.Pa.toString()]=m}n.push(l)}return a};
mc.prototype.Oe=function(a){a=a.waits;var c,b,d,e,g,f,h,m,n,l,k;c=this.he.length=0;for(b=a.length;c<b;c++)if(f=a[c],m=this.g.Nv[f.ev.toString()]){n=-1;d=0;for(e=m.Lf.length;d<e;d++)if(m.Lf[d].Pa===f.act){n=d;break}if(-1!==n){h={Vd:{},zb:[],Sr:!1};h.time=f.t;h.Jy=f.st||"";h.qu=!!f.s;h.Kk=m;h.le=n;d=0;for(e=f.sm.length;d<e;d++)(m=this.g.ep(f.sm[d]))&&h.zb.push(m);for(g in f.sols)if(f.sols.hasOwnProperty(g)&&(m=this.g.ep(parseInt(g,10)))){n=f.sols[g];l={oq:n.sa,zh:[]};d=0;for(e=n.insts.length;d<e;d++)(k=
this.g.Ej(n.insts[d]))&&l.zh.push(k);h.Vd[m.index.toString()]=l}this.he.push(h)}}};
(function(){function a(){}function c(){}function b(){}var d=mc.prototype;a.prototype.Gz=function(){return!0};a.prototype.bA=function(){return!0};a.prototype.aA=function(){return!0};a.prototype.yz=function(a,b,c){return bc(a,b,c)};a.prototype.zz=function(a,b,c){return bc(a.xm(),b,c)};a.prototype.Fz=function(){var a=this.g.yd();return a.Vr?!1:!a.Pj};a.prototype.jv=function(){return!0};a.prototype.Yz=function(){return!0};a.prototype.br=function(){return!0};a.prototype.cA=function(){return!0};a.prototype.Zq=
function(){return!0};a.prototype.rz=function(a,b,c){return Na(v(a),v(c))<=v(b)};a.prototype.Oz=function(a,b){return Pa(v(a),v(b))};a.prototype.Nz=function(a,b,c){a=La(a);b=La(b);c=La(c);return Pa(c,b)?Pa(a,b)&&!Pa(a,c):!(!Pa(a,b)&&Pa(a,c))};d.X=new a;c.prototype.Dz=function(a,b,c,d){if(b&&a&&(b=this.g.Yv(a,b,c,d))){this.g.Tf++;var e;this.g.trigger(Object.getPrototypeOf(a.Vb).X.Xq,b);if(b.Le)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.g.trigger(Object.getPrototypeOf(e.type.Vb).X.Xq,e);
this.g.Tf--;a=a.$a();a.ob=!1;a.r.length=1;a.r[0]=b;if(b.Le)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.$a(),a.ob=!1,a.r.length=1,a.r[0]=e}};c.prototype.nA=function(a,b){0===a.Gq?ia(b)?a.lk(b):a.lk(parseFloat(b)):1===a.Gq&&a.lk(b.toString())};c.prototype.qz=function(a,b){0===a.Gq?ia(b)?a.lk(a.xm()+b):a.lk(a.xm()+parseFloat(b)):1===a.Gq&&a.lk(a.xm()+b.toString())};var e=[],g=[];c.prototype.zA=function(a){if(!(0>a)){var b,c,d,l=this.g.yd(),k;k=e.length?e.pop():{Vd:{},zb:[]};k.Sr=!1;
k.time=this.g.Me.jb+a;k.Jy="";k.qu=!1;k.Kk=l.pe;k.le=l.le+1;a=0;for(b=this.g.U.length;a<b;a++)d=this.g.U[a],c=d.$a(),c.ob&&-1===l.pe.zb.indexOf(d)||(k.zb.push(d),d=void 0,d=g.length?g.pop():{zh:[]},d.oq=!1,d.oq=c.ob,Ba(d.zh,c.r),k.Vd[a.toString()]=d);this.he.push(k);return!0}};c.prototype.iA=function(){if(!this.g.Km&&!this.g.lm&&this.g.pb){this.g.lm=this.g.pb;var a,b,c;a=0;for(b=this.g.ji.length;a<b;a++)c=this.g.ji[a],c.GE(c.kp)}};d.Sb=new c;b.prototype["int"]=function(a,b){ja(b)?(a.tb(parseInt(b,
10)),isNaN(a.data)&&(a.data=0)):a.tb(b)};b.prototype["float"]=function(a,b){ja(b)?(a.ma(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ma(b)};b.prototype.random=function(a,b,c){void 0===c?a.ma(Math.random()*b):a.ma(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.ma(Math.sqrt(b))};b.prototype.abs=function(a,b){a.ma(Math.abs(b))};b.prototype.round=function(a,b){a.tb(Math.round(b))};b.prototype.floor=function(a,b){a.tb(Math.floor(b))};b.prototype.ceil=function(a,b){a.tb(Math.ceil(b))};b.prototype.sin=
function(a,b){a.ma(Math.sin(v(b)))};b.prototype.cos=function(a,b){a.ma(Math.cos(v(b)))};b.prototype.tan=function(a,b){a.ma(Math.tan(v(b)))};b.prototype.asin=function(a,b){a.ma(Ga(Math.asin(b)))};b.prototype.acos=function(a,b){a.ma(Ga(Math.acos(b)))};b.prototype.atan=function(a,b){a.ma(Ga(Math.atan(b)))};b.prototype.exp=function(a,b){a.ma(Math.exp(b))};b.prototype.log10=function(a,b){a.ma(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=
2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.ma(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ma(b)};b.prototype.Ba=function(a){a.ma(this.g.Ba)};b.prototype.aj=function(a){a.ma(this.g.aj)};b.prototype.time=function(a){a.ma(this.g.Me.jb)};b.prototype.Ye=function(a){a.tb(this.g.Ye)};b.prototype.Vp=function(a){a.tb(this.g.Vp)};b.prototype.hs=
function(a){a.tb(this.g.hs)};b.prototype.uh=function(a,b,c,d,e){a.ma(Ra(b,c,d,e))};b.prototype.L=function(a,b,c,d,e){a.ma(Ga(Ma(b,c,d,e)))};b.prototype.find=function(a,b,c){ja(b)&&ja(c)?a.tb(b.search(new RegExp($a(c),"i"))):a.tb(-1)};b.prototype.left=function(a,b,c){a.ge(ja(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.ge(ja(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){ja(b)&&ja(c)&&ja(d)?a.ge(b.replace(new RegExp($a(c),"gi"),d)):a.ge(ja(b)?b:"")};b.prototype.trim=
function(a,b){a.ge(ja(b)?b.trim():"")};b.prototype.cB=function(a){var b=sa(Math.random()*(arguments.length-1));a.KE(arguments[b+1])};b.prototype.Mr=function(a){a.ma(this.g.Mr/1E3)};b.prototype.Gp=function(a){a.ma(this.g.Gp)};d.Ie=new b;d.xE=function(){var a,b,c,d,l,k,r=this.g.yd();a=0;for(c=this.he.length;a<c;a++){d=this.he[a];if(-1===d.time){if(!d.qu)continue}else if(d.time>this.g.Me.jb)continue;r.pe=d.Kk;r.le=d.le;r.Lc=0;for(b in d.Vd)d.Vd.hasOwnProperty(b)&&(l=this.g.U[parseInt(b,10)].$a(),k=d.Vd[b],
l.ob=k.oq,Ba(l.r,k.zh),l=k,l.zh.length=0,g.push(l));d.Kk.vE();this.g.Gr(d.zb);d.Sr=!0}b=a=0;for(c=this.he.length;a<c;a++)d=this.he[a],this.he[b]=d,d.Sr?(Ua(d.Vd),d.zb.length=0,e.push(d)):b++;this.he.length=b}})();
(function(){kb=function(a,b){var d=a[1],e=a[3],g=a[4],f=a[5],h=a[6],m=a[7],n=a[8];b.X||(b.X={});b.Sb||(b.Sb={});b.Ie||(b.Ie={});var l=b.X,k=b.Sb,r=b.Ie;e&&(l.tF=function(a,b){return bc(this.x,a,b)},l.uF=function(a,b){return bc(this.y,a,b)},l.AF=function(){var a=this.F;this.Va();var b=this.lc;return!(b.right<a.Hb||b.bottom<a.Ib||b.left>a.Xb||b.top>a.Wb)},l.BF=function(){this.Va();var a=this.lc,b=this.g.pb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.QF=function(a,b,c){var d=this.$a(),
e=d.pf();if(!e.length)return!1;var f=e[0],k=f,g=Ra(f.x,f.y,b,c),h,m,l;h=1;for(m=e.length;h<m;h++)if(f=e[h],l=Ra(f.x,f.y,b,c),0===a&&l<g||1===a&&l>g)g=l,k=f;d.mn(k);return!0},k.kG=function(a){this.x!==a&&(this.x=a,this.ib())},k.lG=function(a){this.y!==a&&(this.y=a,this.ib())},k.gG=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ib()},k.hG=function(a,b){var c=a.AC(this);if(c){var d;c.Ag?(d=c.Ag(b,!0),c=c.Ag(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ib()}},
k.IF=function(a){0!==a&&(this.x+=Math.cos(this.L)*a,this.y+=Math.sin(this.L)*a,this.ib())},k.HF=function(a,b){0!==b&&(this.x+=Math.cos(v(a))*b,this.y+=Math.sin(v(a))*b,this.ib())},r.BA=function(a){a.ma(this.x)},r.CA=function(a){a.ma(this.y)},r.Ba=function(a){a.ma(this.g.ns(this))});g&&(l.sF=function(a,b){return bc(this.width,a,b)},l.pF=function(a,b){return bc(this.height,a,b)},k.pA=function(a){this.width!==a&&(this.width=a,this.ib())},k.dG=function(a){this.height!==a&&(this.height=a,this.ib())},k.iG=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ib()},r.qG=function(a){a.ma(this.width)},r.wF=function(a){a.ma(this.height)},r.lF=function(a){this.Va();a.ma(this.lc.left)},r.nF=function(a){this.Va();a.ma(this.lc.top)},r.mF=function(a){this.Va();a.ma(this.lc.right)},r.kF=function(a){this.Va();a.ma(this.lc.bottom)});f&&(l.rz=function(a,b){return Na(this.L,v(b))<=v(a)},l.Oz=function(a){return Pa(this.L,v(a))},l.Nz=function(a,b){var c=La(a),d=La(b),e=Ja(this.L);return Pa(d,
c)?Pa(e,c)&&!Pa(e,d):!(!Pa(e,c)&&Pa(e,d))},k.$n=function(a){a=v(Ia(a));isNaN(a)||this.L===a||(this.L=a,this.ib())},k.WF=function(a){0===a||isNaN(a)||(this.L+=v(a),this.L=Ja(this.L),this.ib())},k.XF=function(a){0===a||isNaN(a)||(this.L-=v(a),this.L=Ja(this.L),this.ib())},k.YF=function(a,b){var c=Oa(this.L,v(b),v(a));isNaN(c)||this.L===c||(this.L=c,this.ib())},k.ZF=function(a,b,c){a=Oa(this.L,Math.atan2(c-this.y,b-this.x),v(a));isNaN(a)||this.L===a||(this.L=a,this.ib())},k.jG=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.L===c||(this.L=c,this.ib())},r.eF=function(a){a.ma(Ka(this.L))});d||(l.qF=function(a,b,c){return bc(this.Oc[a],b,c)},l.yF=function(a){return this.Oc[a]},l.RF=function(a,b){var c=this.$a(),d=c.pf();if(!d.length)return!1;var e=d[0],f=e,k=e.Oc[b],g,h,m;g=1;for(h=d.length;g<h;g++)if(e=d[g],m=e.Oc[b],0===a&&m<k||1===a&&m>k)k=m,f=e;c.mn(f);return!0},l.PF=function(a){var b,c,d,e,f;if(this.g.rw().Hs){f=this.$a();if(f.ob)for(f.ob=!1,f.r.length=0,f.eb.length=0,d=this.r,b=0,c=
d.length;b<c;b++)e=d[b],e.uid===a?f.eb.push(e):f.r.push(e);else{d=b=0;for(c=f.r.length;b<c;b++)e=f.r[b],f.r[d]=e,e.uid===a?f.eb.push(e):d++;f.r.length=d}this.Of();return!!f.r.length}e=this.g.Ej(a);if(!e)return!1;f=this.$a();if(!f.ob&&-1===f.r.indexOf(e))return!1;if(this.za)for(a=e.type.Tb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.mn(e),this.Of(),!0}else if(e.type===this)return f.mn(e),this.Of(),!0;return!1},l.Xq=function(){return!0},l.$z=function(){return!0},k.eG=function(a,b){var c=this.Oc;
ia(c[a])?c[a]=ia(b)?b:parseFloat(b):ja(c[a])&&(c[a]=ja(b)?b:b.toString())},k.dF=function(a,b){var c=this.Oc;ia(c[a])?c[a]=ia(b)?c[a]+b:c[a]+parseFloat(b):ja(c[a])&&(c[a]=ja(b)?c[a]+b:c[a]+b.toString())},k.mG=function(a,b){var c=this.Oc;ia(c[a])&&(c[a]=ia(b)?c[a]-b:c[a]-parseFloat(b))},k.$F=function(a,b){this.Oc[a]=b?1:0},k.oG=function(a){this.Oc[a]=1-this.Oc[a]},k.Fd=function(){this.g.dj(this)},k.Qz||(k.Qz=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.g.Cp(this,b,!0);this.kh&&this.kh();
if(this.xa)for(a=0,b=this.xa.length;a<b;++a)c=this.xa[a],c.kh&&c.kh()}),r.vF=function(a){var b=a.pl.r.length,c,d,e;c=0;for(d=this.g.Pf.length;c<d;c++)e=this.g.Pf[c],a.pl.za?0<=e.type.Tb.indexOf(a.pl)&&b++:e.type===a.pl&&b++;a.tb(b)},r.TF=function(a){a.tb(a.pl.$a().pf().length)},r.pG=function(a){a.tb(this.uid)},r.xF=function(a){a.tb(this.ym())},r.sz||(r.sz=function(a){a.ge(JSON.stringify(this.g.lu(this,!0)))}));h&&(l.DF=function(){return this.visible},k.oA=function(a){!a!==!this.visible&&(this.visible=
a,this.g.nb=!0)},l.rF=function(a,b){return bc(fb(100*this.opacity),a,b)},k.fG=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.g.nb=!0)},r.Opacity=function(a){a.ma(fb(100*this.opacity))});m&&(l.zF=function(a){return a?this.F===a:!1},l.SF=function(a){var b=this.$a(),c=b.pf();if(!c.length)return!1;var d=c[0],e=d,f,k;f=1;for(k=c.length;f<k;f++)if(d=c[f],0===a){if(d.F.index>e.F.index||d.F.index===e.F.index&&d.qf()>e.qf())e=d}else if(d.F.index<e.F.index||d.F.index===e.F.index&&
d.qf()<e.qf())e=d;b.mn(e);return!0},k.LF=function(){var a=this.F,b=a.r;b.length&&b[b.length-1]===this||(a.wl(this,!1),a.gm(this,!1),this.g.nb=!0)},k.JF=function(){var a=this.F,b=a.r;b.length&&b[0]===this||(a.wl(this,!1),a.lE(this),this.g.nb=!0)},k.KF=function(a){a&&a!=this.F&&(this.F.wl(this,!0),this.F=a,a.gm(this,!0),this.g.nb=!0)},k.sG=function(a,b){var c=0===a;if(b){var d=b.vC(this);d&&d.uid!==this.uid&&(this.F.index!==d.F.index&&(this.F.wl(this,!0),this.F=d.F,d.F.gm(this,!0)),this.F.RD(this,d,
c),this.g.nb=!0)}},r.FF=function(a){a.tb(this.F.Ox)},r.EF=function(a){a.ge(this.F.name)},r.rG=function(a){a.tb(this.qf())});n&&(k.bG=function(a,b){if(this.g.Z){var c=this.type.qs(b);if(!(0>c)){var d=1===a;this.ii[c]!==d&&(this.ii[c]=d,this.$h(),this.g.nb=!0)}}},k.cG=function(a,b,c){if(this.g.Z){var d=this.type.qs(a);0>d||(a=this.type.ya[d],d=this.$b[d],b=Math.floor(b),0>b||b>=d.length||(1===this.g.Z.EC(a.qd,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.vd&&(this.g.nb=!0))))}})};Hb=function(){this.Dr=this.Ar=!0;
this.type.co=!0;this.g.nb=!0;var a,b,d=this.Br;a=0;for(b=d.length;a<b;++a)d[a](this);this.F.hg&&this.Va()};Ib=function(a){a&&this.Br.push(a)};Kb=function(){if(this.Ar){var a=this.lc,b=this.qb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Zd*this.width,-this.$d*this.height);this.L?(a.offset(-this.x,-this.y),b.Ey(a,this.L),b.offset(this.x,this.y),b.Ov(a)):b.vn(a);a.normalize();this.Ar=!1;this.ZE()}};var a=new xa(0,0,0,0);Lb=function(){if(this.F.hg){var c=this.F.ze,b=this.lc;
a.set(c.Ee(b.left),c.Fe(b.top),c.Ee(b.right),c.Fe(b.bottom));this.de.Po(a)||(this.de.right<this.de.left?c.update(this,null,a):c.update(this,this.de,a),this.de.Do(a),this.F.Th=!0)}};Mb=function(){if(this.Dr&&this.ph){this.Va();var c=this.type.wo,b=this.lc;a.set(c.Ee(b.left),c.Fe(b.top),c.Ee(b.right),c.Fe(b.bottom));this.ti.Po(a)||(this.ti.right<this.ti.left?c.update(this,null,a):c.update(this,this.ti,a),this.ti.Do(a),this.Dr=!1)}};Jb=function(a,b){return this.lc.wd(a,b)&&this.qb.wd(a,b)?this.La&&!this.La.Nj()?
(this.La.sj(this.width,this.height,this.L),this.La.wd(a-this.x,b-this.y)):!0:!1};zb=function(){this.type.Fq();return this.Ij};Nb=function(){this.F.Eu();return this.jg};Ob=function(){this.Za.length=0;var a,b;a=0;for(b=this.ii.length;a<b;a++)this.ii[a]&&this.Za.push(this.type.ya[a]);this.hz=!!this.Za.length};Ab=function(){return"Inst"+this.ny};nb=function(a){if(a&&a.Le&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.$a().pf();return a.length?
a[0]:null};ob=function(a){var b=this.$a().pf();return b.length?b[a.ym()%b.length]:null};mb=function(){if(this.Bl&&!this.za){var a,b;a=0;for(b=this.r.length;a<b;a++)this.r[a].Ij=a;var d=a,e=this.g.Pf;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].Ij=d++);this.Bl=!1}};xb=function(a){if(a<this.r.length)return this.r[a];a-=this.r.length;var b=this.g.Pf,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};pb=function(){return this.Zi[this.sh]};qb=function(){this.sh++;
this.sh===this.Zi.length?this.Zi.push(new lb(this)):this.Zi[this.sh].ob=!0};rb=function(){this.sh++;this.sh===this.Zi.length&&this.Zi.push(new lb(this));var a=this.Zi[this.sh],b=this.Zi[this.sh-1];b.ob?a.ob=!0:(a.ob=!1,Ba(a.r,b.r),Ba(a.eb,b.eb))};sb=function(){this.sh--};tb=function(a){var b,d,e,g,f,h=0;if(!this.za)for(b=0,d=this.Tb.length;b<d;b++)for(f=this.Tb[b],e=0,g=f.vc.length;e<g;e++){if(a===f.vc[e].name)return this.la.lastBehIndex=h,f.vc[e];h++}b=0;for(d=this.vc.length;b<d;b++){if(a===this.vc[b].name)return this.la.lastBehIndex=
h,this.vc[b];h++}return null};ub=function(a){return this.$o(a)?this.la.lastBehIndex:-1};vb=function(a){var b,d;b=0;for(d=this.ya.length;b<d;b++)if(this.ya[b].name===a)return b;return-1};wb=function(){if(this.Le&&!this.za){var a,b,d,e,g,f,h;this.Fq();f=this.$a();var m=f.ob,n=(a=this.g.yd())&&a.pe&&a.pe.ag;a=0;for(b=this.oe.length;a<b;a++)if(g=this.oe[a],g!==this&&(g.Fq(),h=g.$a(),h.ob=m,!m)){h.r.length=f.r.length;d=0;for(e=f.r.length;d<e;d++)h.r[d]=g.vw(f.r[d].Ij);if(n)for(h.eb.length=f.eb.length,
d=0,e=f.eb.length;d<e;d++)h.eb[d]=g.vw(f.eb[d].Ij)}}};yb=function(){return"Type"+this.Pa};bc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var kc={};function oc(a){this.g=a}
(function(){function a(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function c(a){a=a.toLowerCase();return ca.hasOwnProperty(a)&&ca[a].length?ca[a][0].Je():E.destination}function b(){return E.createGain?E.createGain():E.createGainNode()}function d(a){return E.createDelay?E.createDelay(a):E.createDelayNode(a)}function e(a){a.start?a.start(0):a.noteOn(0)}function g(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function f(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function h(a,
c,d,e,f,k){this.type="filter";this.gc=[a,c,d,e,f,k];this.Sa=b();this.wa=b();this.wa.gain.value=k;this.pa=b();this.pa.gain.value=1-k;this.xc=E.createBiquadFilter();this.xc.type="number"===typeof this.xc.type?a:Ye[a];this.xc.frequency.value=c;this.xc.detune&&(this.xc.detune.value=d);this.xc.Q.value=e;this.xc.gain.value=f;this.Sa.connect(this.xc);this.Sa.connect(this.pa);this.xc.connect(this.wa)}function m(a,c,e){this.type="delay";this.gc=[a,c,e];this.Sa=b();this.wa=b();this.wa.gain.value=e;this.pa=
b();this.pa.gain.value=1-e;this.hn=b();this.lf=d(a);this.lf.delayTime.value=a;this.Lo=b();this.Lo.gain.value=c;this.Sa.connect(this.hn);this.Sa.connect(this.pa);this.hn.connect(this.wa);this.hn.connect(this.lf);this.lf.connect(this.Lo);this.Lo.connect(this.hn)}function n(a,c,d,e){this.type="convolve";this.gc=[c,d,e];this.Sa=b();this.wa=b();this.wa.gain.value=d;this.pa=b();this.pa.gain.value=1-d;this.vj=E.createConvolver();a&&(this.vj.normalize=c,this.vj.buffer=a);this.Sa.connect(this.vj);this.Sa.connect(this.pa);
this.vj.connect(this.wa)}function l(a,c,f,k,g){this.type="flanger";this.gc=[a,c,f,k,g];this.Sa=b();this.pa=b();this.pa.gain.value=1-g/2;this.wa=b();this.wa.gain.value=g/2;this.So=b();this.So.gain.value=k;this.lf=d(a+c);this.lf.delayTime.value=a;this.hd=E.createOscillator();this.hd.frequency.value=f;this.xe=b();this.xe.gain.value=c;this.Sa.connect(this.lf);this.Sa.connect(this.pa);this.lf.connect(this.wa);this.lf.connect(this.So);this.So.connect(this.lf);this.hd.connect(this.xe);this.xe.connect(this.lf.delayTime);
e(this.hd)}function k(a,c,d,f,k,g){this.type="phaser";this.gc=[a,c,d,f,k,g];this.Sa=b();this.pa=b();this.pa.gain.value=1-g/2;this.wa=b();this.wa.gain.value=g/2;this.xc=E.createBiquadFilter();this.xc.type="number"===typeof this.xc.type?7:"allpass";this.xc.frequency.value=a;this.xc.detune&&(this.xc.detune.value=c);this.xc.Q.value=d;this.hd=E.createOscillator();this.hd.frequency.value=k;this.xe=b();this.xe.gain.value=f;this.Sa.connect(this.xc);this.Sa.connect(this.pa);this.xc.connect(this.wa);this.hd.connect(this.xe);
this.xe.connect(this.xc.frequency);e(this.hd)}function r(a){this.type="gain";this.gc=[a];this.Ya=b();this.Ya.gain.value=a}function p(a,c){this.type="tremolo";this.gc=[a,c];this.Ya=b();this.Ya.gain.value=1-c/2;this.hd=E.createOscillator();this.hd.frequency.value=a;this.xe=b();this.xe.gain.value=c/2;this.hd.connect(this.xe);this.xe.connect(this.Ya.gain);e(this.hd)}function u(a,c){this.type="ringmod";this.gc=[a,c];this.Sa=b();this.wa=b();this.wa.gain.value=c;this.pa=b();this.pa.gain.value=1-c;this.sn=
b();this.sn.gain.value=0;this.hd=E.createOscillator();this.hd.frequency.value=a;this.hd.connect(this.sn.gain);e(this.hd);this.Sa.connect(this.sn);this.Sa.connect(this.pa);this.sn.connect(this.wa)}function t(a,c,d,e,f){this.type="distortion";this.gc=[a,c,d,e,f];this.Sa=b();this.cq=b();this.bq=b();this.FE(d,Math.pow(10,e/20));this.wa=b();this.wa.gain.value=f;this.pa=b();this.pa.gain.value=1-f;this.Hq=E.createWaveShaper();this.Io=new Float32Array(65536);this.rC(a,c);this.Hq.Io=this.Io;this.Sa.connect(this.cq);
this.Sa.connect(this.pa);this.cq.connect(this.Hq);this.Hq.connect(this.bq);this.bq.connect(this.wa)}function q(a,b,c,d,e){this.type="compressor";this.gc=[a,b,c,d,e];this.Ya=E.createDynamicsCompressor();try{this.Ya.threshold.value=a,this.Ya.knee.value=b,this.Ya.ratio.value=c,this.Ya.attack.value=d,this.Ya.release.value=e}catch(f){}}function B(a,b){this.type="analyser";this.gc=[a,b];this.Ya=E.createAnalyser();this.Ya.fftSize=a;this.Ya.smoothingTimeConstant=b;this.pC=new Float32Array(this.Ya.frequencyBinCount);
this.Hy=new Uint8Array(a);this.ln=0}function y(){this.ua=null;this.Fp=0;this.$i=[];this.Ht=this.up=this.tp=0}function F(a,c){this.src=a;this.Oa=K;this.Uf=c;this.Dv=!1;var d=this;this.Gt=this.Vt=null;this.tl=[];this.pq=0;this.Lu=this.$r=this.Ly=this.Yp=!1;1===K&&c&&(this.Oa=0,this.Vt=b());this.pj=this.kb=null;var e;switch(this.Oa){case 0:this.kb=new Audio;this.kb.addEventListener("canplaythrough",function(){d.Lu=!0});1===K&&E.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Ly=!0,
this.kb.addEventListener("canplay",function(){d.Gt||(d.Gt=E.createMediaElementSource(d.kb),d.Gt.connect(d.Vt))}));this.kb.autoplay=!1;this.kb.BG="auto";this.kb.src=a;break;case 1:e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=function(){d.pj=e.response;d.iB()};e.onerror=function(){d.$r=!0};e.send();break;case 2:this.kb=!0;break;case 3:this.kb=!0}}function D(a,d){var e=this;this.tag=d;this.Be=this.yg=!0;this.src=a.src;this.buffer=a;this.Oa=K;this.Uf=a.Uf;this.playbackRate=
1;this.Lr=!0;this.sf=this.Uh=!1;this.ee=0;this.Im=this.Uk=this.Eg=!1;this.volume=1;this.Mj=1===L&&!this.Uf||2===L;this.nl=1;this.startTime=this.Mj?w.Me.jb:w.dh.jb;this.qc=this.yc=null;this.Og=!1;this.pc=null;this.ay=this.$x=this.Zx=this.Yx=this.cy=this.by=0;this.N=null;var f=!1;1!==this.Oa||0!==this.buffer.Oa||this.buffer.Ly||(this.Oa=0);switch(this.Oa){case 0:this.Uf?(this.N=a.kb,f=!a.Dv,a.Dv=!0):(this.N=new Audio,this.N.autoplay=!1,this.N.src=a.kb.src,f=!0);f&&this.N.addEventListener("ended",function(){V=
e.tag;e.Be=!0;w.trigger(oc.prototype.X.Yq,J)});break;case 1:this.yc=b();this.yc.connect(c(d));1===this.buffer.Oa?a.kb&&(this.N=E.createBufferSource(),this.N.buffer=a.kb,this.N.connect(this.yc)):(this.N=this.buffer.kb,this.buffer.Vt.connect(this.yc));break;case 2:this.N=new window.Media(N+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.Lr=!0,e.Be=!0,V=e.tag,w.trigger(oc.prototype.X.Yq,J))});break;case 3:this.N=!0}}function I(a,b){ca.hasOwnProperty(a)?ca[a].push(b):ca[a]=[b];var c,
d,e,f,k=E.destination;if(ca.hasOwnProperty(a)&&(e=ca[a],e.length))for(k=e[0].Je(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.gf(E.destination):f.gf(e[c+1].Je());gb.length=0;if(a.length)for(c=0,d=P.length;c<d;c++)e=P[c],hb(a,e.tag)&&gb.push(e);else O&&!O.Hj()&&(gb.length=1,gb[0]=O);c=0;for(d=gb.length;c<d;c++)gb[c].qE(k);ma&&Mc===a&&(ma.disconnect(),ma.connect(k))}function G(){}function C(){}var z=oc.prototype;z.Zc=function(a){this.Vb=a;this.g=a.g};z.Zc.prototype.mb=function(){};var w=null,J=null,V="",
N="",K=0,E=null,da=[],P=[],O=null,H=!1,L=0,U=!1,M=1,R=0,Q=0,va=1,W=1,Da=10,oa=1E4,Ha=1,ma=null,Mc="",Bb=!1,Cb=[],ca={},Ye="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");h.prototype.gf=function(a){this.wa.disconnect();this.wa.connect(a);this.pa.disconnect();this.pa.connect(a)};h.prototype.remove=function(){this.Sa.disconnect();this.xc.disconnect();this.wa.disconnect();this.pa.disconnect()};h.prototype.Je=function(){return this.Sa};m.prototype.gf=function(a){this.wa.disconnect();
this.wa.connect(a);this.pa.disconnect();this.pa.connect(a)};m.prototype.remove=function(){this.Sa.disconnect();this.hn.disconnect();this.lf.disconnect();this.Lo.disconnect();this.wa.disconnect();this.pa.disconnect()};m.prototype.Je=function(){return this.Sa};n.prototype.gf=function(a){this.wa.disconnect();this.wa.connect(a);this.pa.disconnect();this.pa.connect(a)};n.prototype.remove=function(){this.Sa.disconnect();this.vj.disconnect();this.wa.disconnect();this.pa.disconnect()};n.prototype.Je=function(){return this.Sa};
l.prototype.gf=function(a){this.pa.disconnect();this.pa.connect(a);this.wa.disconnect();this.wa.connect(a)};l.prototype.remove=function(){this.Sa.disconnect();this.lf.disconnect();this.hd.disconnect();this.xe.disconnect();this.pa.disconnect();this.wa.disconnect();this.So.disconnect()};l.prototype.Je=function(){return this.Sa};k.prototype.gf=function(a){this.pa.disconnect();this.pa.connect(a);this.wa.disconnect();this.wa.connect(a)};k.prototype.remove=function(){this.Sa.disconnect();this.xc.disconnect();
this.hd.disconnect();this.xe.disconnect();this.pa.disconnect();this.wa.disconnect()};k.prototype.Je=function(){return this.Sa};r.prototype.gf=function(a){this.Ya.disconnect();this.Ya.connect(a)};r.prototype.remove=function(){this.Ya.disconnect()};r.prototype.Je=function(){return this.Ya};p.prototype.gf=function(a){this.Ya.disconnect();this.Ya.connect(a)};p.prototype.remove=function(){this.hd.disconnect();this.xe.disconnect();this.Ya.disconnect()};p.prototype.Je=function(){return this.Ya};u.prototype.gf=
function(a){this.wa.disconnect();this.wa.connect(a);this.pa.disconnect();this.pa.connect(a)};u.prototype.remove=function(){this.hd.disconnect();this.sn.disconnect();this.Sa.disconnect();this.wa.disconnect();this.pa.disconnect()};u.prototype.Je=function(){return this.Sa};t.prototype.FE=function(a,b){.01>a&&(a=.01);this.cq.gain.value=a;this.bq.gain.value=Math.pow(1/a,.6)*b};t.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};t.prototype.rC=
function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Io[32768+f]=e,this.Io[32768-f-1]=-e};t.prototype.gf=function(a){this.wa.disconnect();this.wa.connect(a);this.pa.disconnect();this.pa.connect(a)};t.prototype.remove=function(){this.Sa.disconnect();this.cq.disconnect();this.Hq.disconnect();this.bq.disconnect();this.wa.disconnect();this.pa.disconnect()};t.prototype.Je=function(){return this.Sa};q.prototype.gf=function(a){this.Ya.disconnect();
this.Ya.connect(a)};q.prototype.remove=function(){this.Ya.disconnect()};q.prototype.Je=function(){return this.Ya};B.prototype.Uc=function(){this.Ya.getFloatFrequencyData(this.pC);this.Ya.getByteTimeDomainData(this.Hy);for(var b=this.Ya.fftSize,c=0,d=this.ln=0,e=0;c<b;c++)e=(this.Hy[c]-128)/128,0>e&&(e=-e),this.ln<e&&(this.ln=e),d+=e*e;this.ln=a(this.ln);a(Math.sqrt(d/b))};B.prototype.gf=function(a){this.Ya.disconnect();this.Ya.connect(a)};B.prototype.remove=function(){this.Ya.disconnect()};B.prototype.Je=
function(){return this.Ya};y.prototype.tn=function(a){if(this.ua=a)this.tp=this.ua.x,this.up=this.ua.y;this.$i.length=0};y.prototype.ip=function(){return!!this.ua};y.prototype.Uc=function(a){this.ua&&0!==a&&(this.Ht=Ma(this.tp,this.up,this.ua.x,this.ua.y),a=Ra(this.tp,this.up,this.ua.x,this.ua.y)/a,4>this.$i.length||this.$i.shift(),this.$i.push(a),this.tp=this.ua.x,this.up=this.ua.y)};y.prototype.zw=function(){if(!this.$i.length)return 0;var a,b,c=0;a=0;for(b=this.$i.length;a<b;a++)c+=this.$i[a];
return c/this.$i.length};y.prototype.us=function(){return Math.cos(this.Ht)*this.zw()};y.prototype.vs=function(){return Math.sin(this.Ht)*this.zw()};var le=!1;F.prototype.iB=function(){if(!this.kb&&this.pj){var a=this;if(E.decodeAudioData)E.decodeAudioData(this.pj,function(b){a.kb=b;a.pj=null;var c,d,e;if(ha(a.Zp)||U)ha(a.Co)||(c=a.Co.vj,c.normalize=a.Nx,c.buffer=b);else if(a.tl.length){c=0;for(d=a.tl.length;c<d;c++){b=a.tl[c];e=new D(a,b.Ry);e.ou(!0);if("undefined"!==typeof b.Px&&(b.ua=w.Ej(b.Px),
!b.ua))continue;if(b.ua){var f=Qa(b.ua.x,b.ua.y,-b.ua.F.zc(),R,Q,!0),k=Qa(b.ua.x,b.ua.y,-b.ua.F.zc(),R,Q,!1);e.nu(f,k,Ga(b.ua.L-b.ua.F.zc()),b.Bs,b.It,b.Kt);e.tn(b.ua)}else e.nu(b.x,b.y,b.H,b.Bs,b.It,b.Kt);e.play(a.ht,a.Ku,a.pq);a.Yp&&e.pause();P.push(e)}a.tl.length=0}else e=new D(a,a.Zp),e.play(a.ht,a.Ku,a.pq),a.Yp&&e.pause(),P.push(e)},function(){a.$r=!0});else if(this.kb=E.createBuffer(this.pj,!1),this.pj=null,ha(this.Zp)||U)ha(this.Co)||(b=this.Co.vj,b.normalize=this.Nx,b.buffer=this.kb);else{var b=
new D(this,this.Zp);b.play(this.ht,this.Ku,this.pq);this.Yp&&b.pause();P.push(b)}}};F.prototype.Nw=function(){switch(this.Oa){case 0:var a=4<=this.kb.readyState;a&&(this.Lu=!0);return a||this.Lu;case 1:return!!this.pj||!!this.kb;case 2:return!0;case 3:return!0}return!1};F.prototype.gD=function(){switch(this.Oa){case 0:return this.Nw();case 1:return!!this.kb;case 2:return!0;case 3:return!0}return!1};F.prototype.WC=function(){switch(this.Oa){case 0:return!!this.kb.error;case 1:return this.$r}return!1};
D.prototype.Hj=function(){var a;switch(this.Oa){case 0:return this.N.ended;case 1:if(1===this.buffer.Oa){if(!this.yg&&!this.Be&&this.N.loop||this.sf)return!1;a=this.Mj?w.Me.jb:w.dh.jb;return a-this.startTime>this.buffer.kb.duration}return this.N.ended;case 2:return this.Lr;case 3:!0}return!0};D.prototype.aB=function(){return this.yg||this.Be?!0:this.Hj()};D.prototype.ou=function(a){1===K&&(!this.Og&&a?this.yc&&(this.qc||(this.qc=E.createPanner(),this.qc.panningModel="number"===typeof this.qc.panningModel?
va:["equalpower","HRTF","soundfield"][va],this.qc.distanceModel="number"===typeof this.qc.distanceModel?W:["linear","inverse","exponential"][W],this.qc.refDistance=Da,this.qc.maxDistance=oa,this.qc.rolloffFactor=Ha),this.yc.disconnect(),this.yc.connect(this.qc),this.qc.connect(c(this.tag)),this.Og=!0):this.Og&&!a&&this.yc&&(this.qc.disconnect(),this.yc.disconnect(),this.yc.connect(c(this.tag)),this.Og=!1))};D.prototype.nu=function(a,b,c,d,e,f){this.Og&&1===K&&(this.qc.setPosition(a,b,0),this.qc.setOrientation(Math.cos(v(c)),
Math.sin(v(c)),0),this.qc.coneInnerAngle=d,this.qc.coneOuterAngle=e,this.qc.coneOuterGain=f,this.by=a,this.cy=b,this.Yx=c,this.Zx=d,this.$x=e,this.ay=f)};D.prototype.tn=function(a){this.Og&&1===K&&(this.pc||(this.pc=new y),this.pc.tn(a))};D.prototype.Uc=function(a){if(this.Og&&1===K&&this.pc&&this.pc.ip()&&this.Rk()){this.pc.Uc(a);a=this.pc.ua;var b=Qa(a.x,a.y,-a.F.zc(),R,Q,!0),c=Qa(a.x,a.y,-a.F.zc(),R,Q,!1);this.qc.setPosition(b,c,0);b=0;"undefined"!==typeof this.pc.ua.L&&(b=a.L-a.F.zc(),this.qc.setOrientation(Math.cos(b),
Math.sin(b),0));b=Qa(this.pc.us(),this.pc.vs(),-a.F.zc(),0,0,!0);c=Qa(this.pc.us(),this.pc.vs(),-a.F.zc(),0,0,!1);this.qc.setVelocity(b,c,0)}};D.prototype.play=function(a,b,c){var d=this.N;this.Eg=a;this.volume=b;c=c||0;switch(this.Oa){case 0:1!==d.playbackRate&&(d.playbackRate=1);d.volume!==b*M&&(d.volume=b*M);d.loop!==a&&(d.loop=a);d.muted&&(d.muted=!1);if(d.currentTime!==c)try{d.currentTime=c}catch(f){}if(this.Uf&&Bb&&!w.se)Cb.push(this);else try{this.N.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+
this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.nl=1;if(1===this.buffer.Oa)this.yg||(this.N=E.createBufferSource(),this.N.buffer=this.buffer.kb,this.N.connect(this.yc)),this.N.loop=a,this.yc.gain.value=b*M,0===c?e(this.N):g(this.N,c,this.Dj());else{1!==d.playbackRate&&(d.playbackRate=1);d.loop!==a&&(d.loop=a);this.yc.gain.value=b*M;if(d.currentTime!==c)try{d.currentTime=c}catch(h){}this.Uf&&Bb&&!w.se?Cb.push(this):d.play()}break;case 2:(!this.yg&&this.Be||0!==c)&&d.seekTo(c);d.play();this.Lr=
!1;break;case 3:w.Md?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Mj?w.Me.jb:w.dh.jb)-c;this.sf=this.Be=this.yg=!1};D.prototype.stop=function(){switch(this.Oa){case 0:this.N.paused||this.N.pause();break;case 1:1===this.buffer.Oa?f(this.N):this.N.paused||this.N.pause();break;case 2:this.N.stop();break;case 3:w.Md&&AppMobi.context.stopSound(this.src)}this.Be=!0;this.sf=!1};D.prototype.pause=function(){if(!(this.yg||this.Be||this.Hj()||
this.sf)){switch(this.Oa){case 0:this.N.paused||this.N.pause();break;case 1:1===this.buffer.Oa?(this.ee=this.ss(),this.Eg&&(this.ee%=this.Dj()),f(this.N)):this.N.paused||this.N.pause();break;case 2:this.N.pause();break;case 3:w.Md&&AppMobi.context.stopSound(this.src)}this.sf=!0}};D.prototype.uE=function(){if(!(this.yg||this.Be||this.Hj())&&this.sf){switch(this.Oa){case 0:this.N.play();break;case 1:1===this.buffer.Oa?(this.N=E.createBufferSource(),this.N.buffer=this.buffer.kb,this.N.connect(this.yc),
this.N.loop=this.Eg,this.yc.gain.value=M*this.volume*this.nl,this.startTime=(this.Mj?w.Me.jb:w.dh.jb)-this.ee,g(this.N,this.ee,this.Dj())):this.N.play();break;case 2:this.N.play();break;case 3:w.Md&&AppMobi.context.resumeSound(this.src)}this.sf=!1}};D.prototype.seek=function(a){if(!(this.yg||this.Be||this.Hj()))switch(this.Oa){case 0:try{this.N.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.Oa)this.sf?this.ee=a:(this.pause(),this.ee=a,this.uE());else try{this.N.currentTime=a}catch(c){}break;
case 3:w.Md&&AppMobi.context.seekSound(this.src,a)}};D.prototype.qE=function(a){1===this.Oa&&(this.Og?(this.qc.disconnect(),this.qc.connect(a)):(this.yc.disconnect(),this.yc.connect(a)))};D.prototype.Dj=function(){switch(this.Oa){case 0:if("undefined"!==typeof this.N.duration)return this.N.duration;break;case 1:return this.buffer.kb.duration;case 2:return this.N.getDuration();case 3:if(w.Md)return AppMobi.context.getDurationSound(this.src)}return 0};D.prototype.ss=function(){var a=this.Dj(),b=0;switch(this.Oa){case 0:"undefined"!==
typeof this.N.currentTime&&(b=this.N.currentTime);break;case 1:if(1===this.buffer.Oa){if(this.sf)return this.ee;b=(this.Mj?w.Me.jb:w.dh.jb)-this.startTime}else"undefined"!==typeof this.N.currentTime&&(b=this.N.currentTime);break;case 3:w.Md&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.Eg&&b>a&&(b=a);return b};D.prototype.Rk=function(){return!this.sf&&!this.yg&&!this.Be&&!this.Hj()};D.prototype.XE=function(){var a=this.volume*M;switch(this.Oa){case 0:this.N.volume&&this.N.volume!==a&&
(this.N.volume=a);break;case 1:this.yc.gain.value=a*this.nl}};D.prototype.Oo=function(a){switch(this.Oa){case 0:this.N.muted!==!!a&&(this.N.muted=!!a);break;case 1:this.nl=a?0:1,this.yc.gain.value=M*this.volume*this.nl}};D.prototype.HE=function(){this.Uk=!0;this.Oo(this.Uk||this.Im)};D.prototype.By=function(a){this.Im=!!a;this.Oo(this.Uk||this.Im)};D.prototype.ez=function(){var a=this.playbackRate;this.Mj&&(a*=w.aj);switch(this.Oa){case 0:this.N.playbackRate!==a&&(this.N.playbackRate=a);break;case 1:1===
this.buffer.Oa?this.N.playbackRate.value!==a&&(this.N.playbackRate.value=a):this.N.playbackRate!==a&&(this.N.playbackRate=a)}};D.prototype.JE=function(a){switch(this.Oa){case 0:a?this.Rk()?(this.N.pause(),this.Uh=!0):this.Uh=!1:this.Uh&&this.N.play();break;case 1:a?this.Rk()?(1===this.buffer.Oa?(this.ee=this.ss(),this.Eg&&(this.ee%=this.Dj()),f(this.N)):this.N.pause(),this.Uh=!0):this.Uh=!1:this.Uh&&(1===this.buffer.Oa?(this.N=E.createBufferSource(),this.N.buffer=this.buffer.kb,this.N.connect(this.yc),
this.N.loop=this.Eg,this.yc.gain.value=M*this.volume*this.nl,this.startTime=(this.Mj?w.Me.jb:w.dh.jb)-this.ee,g(this.N,this.ee,this.Dj())):this.N.play());break;case 2:a?this.Rk()?(this.N.pause(),this.Uh=!0):this.Uh=!1:this.Uh&&this.N.play()}};z.Yb=function(a){this.type=a;w=this.g=a.g;J=this;this.Od=null;this.Om=-600;!(this.g.qp||this.g.lp&&(this.g.Em||this.g.mp))||this.g.Fm||this.g.oc||(Bb=!0);E=null;"undefined"!==typeof AudioContext?(K=1,E=new AudioContext):"undefined"!==typeof webkitAudioContext&&
(K=1,E=new webkitAudioContext);(this.g.qp&&1===K||Bb)&&document.addEventListener("touchstart",function(){var a,b,c;!le&&E&&(a=E.createBuffer(1,1,22050),b=E.createBufferSource(),b.buffer=a,b.connect(E.destination),e(b),le=!0);if(Bb){if(!U)for(a=0,b=Cb.length;a<b;++a)c=Cb[a],c.Be||c.sf||c.N.play();Cb.length=0}},!0);1!==K&&(this.g.Di&&"undefined"!==typeof window.Media?K=2:this.g.Mw&&(K=3));2===K&&(N=location.href,a=N.lastIndexOf("/"),-1<a&&(N=N.substr(0,a+1)),N=N.replace("file://",""));if(this.g.Ow&&
this.g.hD&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.g.dj(this);else{if(this.g.Md)H=this.g.lp;else try{H=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){H=!1}this.g.Cl(this)}};var wa=z.Yb.prototype;wa.mb=function(){this.g.Ck=this;L=this.W[0];this.Vh=this.W[1];this.gE=0!==this.W[2];va=this.W[3];W=this.W[4];this.Om=-this.W[5];Da=this.W[6];oa=this.W[7];Ha=this.W[8];this.Od=
new y;var a=this.g.Ga||this.g.width,b=this.g.Fa||this.g.height;1===K&&(E.listener.speedOfSound=this.W[9],E.listener.dopplerFactor=this.W[10],E.listener.setPosition(a/2,b/2,this.Om),E.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ma&&ma.disconnect();Mc=b.toLowerCase();ma=E.createMediaStreamSource(a);ma.connect(c(Mc))});this.g.OA(function(a){J.$D(a)});var d=this;this.g.sr(function(a){d.Ot(a)})};wa.Ot=function(a){var b,c,d;b=0;for(c=P.length;b<c;b++)d=P[b],d.pc&&d.pc.ua===
a&&(d.pc.ua=null,d.Og&&d.Rk()&&d.Eg&&d.stop());this.Od.ua===a&&(this.Od.ua=null)};wa.fe=function(){var a={silent:U,masterVolume:M,listenerZ:this.Om,listenerUid:this.Od.ip()?this.Od.ua.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,k,g;c=0;for(d=P.length;c<d;c++)e=P[c],!e.Rk()||3===this.Vh||e.Uf&&1===this.Vh||!e.Uf&&2===this.Vh||(f=e.ss(),e.Eg&&(f%=e.Dj()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Uf,playbackTime:f,volume:e.volume,looping:e.Eg,muted:e.Uk,playbackRate:e.playbackRate,paused:e.sf,
resume_position:e.ee},e.Og&&(f.pan={},g=f.pan,e.pc&&e.pc.ip()?g.objUid=e.pc.ua.uid:(g.x=e.by,g.y=e.cy,g.a=e.Yx),g.ia=e.Zx,g.oa=e.$x,g.og=e.ay),b.push(f));b=a.effects;for(k in ca)if(ca.hasOwnProperty(k)){e=[];c=0;for(d=ca[k].length;c<d;c++)e.push({type:ca[k][c].type,params:ca[k][c].gc});b[k]=e}return a};var Db=[];wa.Oe=function(a){var b=a.silent;M=a.masterVolume;this.Om=a.listenerZ;this.Od.tn(null);var c=a.listenerUid;-1!==c&&(this.Od.Fp=c,Db.push(this.Od));var c=a.playing,d,e,f,g,F,D,G,C,z,w,E;if(3!==
this.Vh)for(d=0,e=P.length;d<e;d++)z=P[d],z.Uf&&1===this.Vh||(z.Uf||2!==this.Vh)&&z.stop();for(F in ca)if(ca.hasOwnProperty(F))for(d=0,e=ca[F].length;d<e;d++)ca[F][d].remove();Ua(ca);for(F in a.effects)if(a.effects.hasOwnProperty(F))for(D=a.effects[F],d=0,e=D.length;d<e;d++)switch(f=D[d].type,w=D[d].params,f){case "filter":I(F,new h(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "delay":I(F,new m(w[0],w[1],w[2]));break;case "convolve":f=w[2];z=this.Zo(f,!1);z.kb?f=new n(z.kb,w[0],w[1],f):(f=new n(null,
w[0],w[1],f),z.Nx=w[0],z.Co=f);I(F,f);break;case "flanger":I(F,new l(w[0],w[1],w[2],w[3],w[4]));break;case "phaser":I(F,new k(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "gain":I(F,new r(w[0]));break;case "tremolo":I(F,new p(w[0],w[1]));break;case "ringmod":I(F,new u(w[0],w[1]));break;case "distortion":I(F,new t(w[0],w[1],w[2],w[3],w[4]));break;case "compressor":I(F,new q(w[0],w[1],w[2],w[3],w[4]));break;case "analyser":I(F,new B(w[0],w[1]))}d=0;for(e=c.length;d<e;d++)3===this.Vh||(a=c[d],f=a.buffersrc,
g=a.is_music,F=a.tag,D=a.playbackTime,G=a.looping,C=a.volume,E=(w=a.pan)&&w.hasOwnProperty("objUid")?w.objUid:-1,g&&1===this.Vh)||!g&&2===this.Vh||((z=this.qw(f,F,g,G,C))?(z.ee=a.resume_position,z.ou(!!w),z.play(G,C,D),z.ez(),z.XE(),z.Oo(z.Uk||z.Im),a.paused&&z.pause(),a.muted&&z.HE(),z.Oo(z.Uk||z.Im),w&&(-1!==E?(z.pc=z.pc||new y,z.pc.Fp=E,Db.push(z.pc)):z.nu(w.x,w.y,w.a,w.ia,w.oa,w.og))):(z=this.Zo(f,g),z.pq=D,z.Yp=a.paused,w&&(-1!==E?z.tl.push({Px:E,Bs:w.ia,It:w.oa,Kt:w.og,Ry:F}):z.tl.push({x:w.x,
y:w.y,H:w.a,Bs:w.ia,It:w.oa,Kt:w.og,Ry:F}))));if(b&&!U){d=0;for(e=P.length;d<e;d++)P[d].By(!0);U=!0}else if(!b&&U){d=0;for(e=P.length;d<e;d++)P[d].By(!1);U=!1}};wa.kh=function(){var a,b,c,d;a=0;for(b=Db.length;a<b;a++)c=Db[a],d=this.g.Ej(c.Fp),c.tn(d),c.Fp=-1,d&&(R=d.x,Q=d.y);Db.length=0};wa.$D=function(a){if(!this.gE){!a&&E&&E.resume&&E.resume();var b,c;b=0;for(c=P.length;b<c;b++)P[b].JE(a);a&&E&&E.suspend&&E.suspend()}};wa.Uc=function(){var a=this.g.Ba,b,c,d;b=0;for(c=P.length;b<c;b++)d=P[b],d.Uc(a),
0===d.Oa||3===d.Oa||d.yg||d.Be||!d.Hj()||(d.Be=!0,V=d.tag,w.trigger(oc.prototype.X.Yq,J)),0!==L&&d.ez();var e,f;for(e in ca)if(ca.hasOwnProperty(e))for(d=ca[e],b=0,c=d.length;b<c;b++)f=d[b],f.Uc&&f.Uc();1===K&&this.Od.ip()&&(this.Od.Uc(a),R=this.Od.ua.x,Q=this.Od.ua.y,E.listener.setPosition(this.Od.ua.x,this.Od.ua.y,this.Om),E.listener.setVelocity(this.Od.us(),this.Od.vs(),0))};var Eb=[];wa.IE=function(a){var b,c,d,e,f,k=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===
e.substr(e.length-4))&&H||!f&&!H)Eb.push({filename:e,size:d,ua:null}),k+=d;return k};wa.ME=function(){var a,b,c,d;a=0;for(b=Eb.length;a<b;++a)c=Eb[a],d=this.g.as+c.filename,c.ua=this.Zo(d,!1)};wa.BC=function(){var a=0,b,c,d;b=0;for(c=Eb.length;b<c;++b)d=Eb[b],d.ua.gD()||d.ua.WC()||this.g.oc||this.g.mp?a+=d.size:d.ua.Nw()&&(a+=Math.floor(d.size/2));return a};wa.Zo=function(a,b){var c,d,e,f=null;c=0;for(d=da.length;c<d;c++)if(e=da[c],e.src===a){f=e;break}f||(f=new F(a,b),da.push(f));return f};wa.qw=
function(a,b,c,d,e){var f,k,g;f=0;for(k=P.length;f<k;f++)if(g=P[f],g.src===a&&(g.aB()||c))return g.tag=b,g;a=this.Zo(a,c);if(!a.kb)return"<preload>"!==b&&(a.Zp=b,a.ht=d,a.Ku=e),null;g=new D(a,b);P.push(g);return g};var gb=[];G.prototype.Yq=function(a){return hb(V,a)};z.X=new G;C.prototype.Play=function(a,b,c,d){!U&&(c=Math.pow(10,c/20),0>c&&(c=0),1<c&&(c=1),O=this.qw(this.g.as+a[0]+(H?".ogg":".m4a"),d,a[1],0!==b,c))&&(O.ou(!1),O.play(0!==b,c))};z.Sb=new C;z.Ie=new function(){}})();
function pc(a){this.g=a}
(function(){function a(){}function c(){}var b=pc.prototype;b.Zc=function(a){this.Vb=a;this.g=a.g};b.Zc.prototype.mb=function(){};b.Yb=function(a){this.type=a;this.g=a.g;this.Cr=Array(4);this.Uy=this.Dq=this.Dl=this.Ri=this.Qi=0;this.ys=!1};var d=b.Yb.prototype;d.mb=function(){var a=this;if(!this.g.oc){jQuery(document).mousemove(function(b){a.Rt(b)});jQuery(document).mousedown(function(b){a.Qt(b)});jQuery(document).mouseup(function(b){a.St(b)});jQuery(document).dblclick(function(b){a.WD(b)});var b=
function(b){a.dE(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var e={left:0,top:0};d.Rt=function(a){var b=this.g.oc?e:jQuery(this.g.canvas).offset();this.Qi=a.pageX-b.left;this.Ri=a.pageY-b.top};d.Hx=function(){return 0<this.g.Yd?!0:0<=this.Qi&&0<=this.Ri&&this.Qi<this.g.width&&this.Ri<this.g.height};d.Qt=function(a){this.Hx()&&(this.g.xs&&!this.g.Cg&&a.preventDefault(),this.Cr[a.which]=!0,this.g.se=!0,this.g.trigger(pc.prototype.X.Xz,this),this.Dl=
a.which-1,this.Dq=0,this.g.trigger(pc.prototype.X.gv,this),this.g.trigger(pc.prototype.X.$q,this),this.g.se=!1)};d.St=function(a){this.Cr[a.which]&&(this.g.xs&&!this.g.Cg&&a.preventDefault(),this.g.xs=!0,this.Cr[a.which]=!1,this.g.se=!0,this.Dl=a.which-1,this.g.trigger(pc.prototype.X.dA,this),this.g.se=!1)};d.WD=function(a){this.Hx()&&(a.preventDefault(),this.g.se=!0,this.Dl=a.which-1,this.Dq=1,this.g.trigger(pc.prototype.X.gv,this),this.g.trigger(pc.prototype.X.$q,this),this.g.se=!1)};d.dE=function(a){this.Uy=
0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.ys=!1;this.g.se=!0;this.g.trigger(pc.prototype.X.eA,this);this.g.se=!1;this.ys&&ib(a)&&a.preventDefault()};a.prototype.gv=function(a,b){return a===this.Dl&&b===this.Dq};a.prototype.Xz=function(){return!0};a.prototype.dA=function(a){return a===this.Dl};a.prototype.$q=function(a,b,c){return a!==this.Dl||b!==this.Dq?!1:this.g.RE(c,this.Qi,this.Ri)};a.prototype.eA=function(a){this.ys=!0;return a===this.Uy};b.X=new a;b.Sb=new function(){};c.prototype.BA=
function(a,b){var c,d,e,l,k;ha(b)?(c=this.g.vm(0),d=c.scale,e=c.kg,l=c.zf,k=c.L,c.scale=1,c.kg=1,c.zf=1,c.L=0,a.ma(c.nd(this.Qi,this.Ri,!0)),c.scale=d,c.kg=e,c.zf=l,c.L=k):(c=ia(b)?this.g.vm(b):this.g.rs(b))?a.ma(c.nd(this.Qi,this.Ri,!0)):a.ma(0)};c.prototype.CA=function(a,b){var c,d,e,l,k;ha(b)?(c=this.g.vm(0),d=c.scale,e=c.kg,l=c.Af,k=c.L,c.scale=1,c.kg=1,c.Af=1,c.L=0,a.ma(c.nd(this.Qi,this.Ri,!1)),c.scale=d,c.kg=e,c.Af=l,c.L=k):(c=ia(b)?this.g.vm(b):this.g.rs(b))?a.ma(c.nd(this.Qi,this.Ri,!1)):
a.ma(0)};b.Ie=new c})();function nc(a){this.g=a}
(function(){function a(){if(0===this.Qr.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Al?b.drawImage(this.Rb,this.ql,this.rl,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Rb,0,0,this.width,this.height);this.Qr=a.toDataURL("image/png")}return this.Qr}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;r.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function e(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var k=r.length?r.pop():[0,0,0];k[0]=b;k[1]=c;k[2]=e;a[f]=k}}function g(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function f(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return p=a[b][2],!0;p=-2;return!1}function h(){}var m=nc.prototype;m.Zc=function(a){this.Vb=a;this.g=a.g};var n=m.Zc.prototype;n.mb=function(){if(!this.za){var b,c,d,e,f,k,g,h,m;this.Mf=[];this.Am=!1;b=0;for(c=this.me.length;b<c;b++){f=this.me[b];g={};g.name=f[0];g.speed=f[1];g.loop=f[2];g.gu=f[3];
g.mq=f[4];g.gy=f[5];g.Pa=f[6];g.frames=[];d=0;for(e=f[7].length;d<e;d++)k=f[7][d],h={},h.uu=k[0],h.Qy=k[1],h.ql=k[2],h.rl=k[3],h.width=k[4],h.height=k[5],h.duration=k[6],h.Zd=k[7],h.$d=k[8],h.Cs=k[9],h.$p=k[10],h.hy=k[11],h.Al=0!==h.width,h.Qr="",h.yG=a,m={left:0,top:0,right:1,bottom:1},h.pu=m,h.ic=null,(m=this.g.nC(k[0]))?h.Rb=m:(h.Rb=new Image,h.Rb.fB=k[0],h.Rb.eB=k[1],h.Rb.$A=null,this.g.kz(h.Rb,k[0])),g.frames.push(h),this.Mf.push(h);this.me[b]=g}}};n.dz=function(){var a,b,c;a=0;for(b=this.r.length;a<
b;a++)c=this.r[a],c.Go=c.hf.ic};n.Wp=function(){if(!this.za){var a,b,c;a=0;for(b=this.Mf.length;a<b;++a)c=this.Mf[a],c.Rb.$A=null,c.ic=null;this.Am=!1;this.dz()}};n.Tt=function(){if(!this.za&&this.r.length){var a,b,c;a=0;for(b=this.Mf.length;a<b;++a)c=this.Mf[a],c.ic=this.g.Z.Ep(c.Rb,this.g.ab,c.hy);this.dz()}};n.nD=function(){if(!this.za&&!this.Am&&this.g.Z){var a,b,c;a=0;for(b=this.Mf.length;a<b;++a)c=this.Mf[a],c.ic=this.g.Z.Ep(c.Rb,this.g.ab,c.hy);this.Am=!0}};n.Au=function(){if(!this.za&&!this.r.length&&
this.Am){var a,b,c;a=0;for(b=this.Mf.length;a<b;++a)c=this.Mf[a],this.g.Z.deleteTexture(c.ic),c.ic=null;this.Am=!1}};var l=[];n.Zt=function(a){var b,c,d;b=l.length=0;for(c=this.Mf.length;b<c;++b)d=this.Mf[b].Rb,-1===l.indexOf(d)&&(a.drawImage(d,0,0),l.push(d))};m.Yb=function(a){this.type=a;this.g=a.g;a=this.type.me[0].frames[0].$p;this.ye?this.La.wn(a):this.La=new ab(a)};var k=m.Yb.prototype;k.mb=function(){this.visible=0===this.W[0];this.jp=this.Lj=!1;this.ph=0!==this.W[3];1===this.type.me.length&&
1===this.type.me[0].frames.length||0===this.type.me[0].speed||(this.g.Cl(this),this.Lj=!0);this.Db=this.pw(this.W[1])||this.type.me[0];this.Y=this.W[2];0>this.Y&&(this.Y=0);this.Y>=this.Db.frames.length&&(this.Y=this.Db.frames.length-1);var a=this.Db.frames[this.Y];this.La.wn(a.$p);this.Zd=a.Zd;this.$d=a.$d;this.Hk=this.Db.speed;this.ye?this.Nf.reset():this.Nf=new Za;this.xg=this.Nf.jb;this.li=!0;this.mh=0;this.ki=!0;this.so=this.Gv="";this.Uv=0;this.ro=-1;this.type.nD();var b,c,d,e,f,k,g,a=0;for(b=
this.type.me.length;a<b;a++)for(e=this.type.me[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Rb.width,f.height=f.Rb.height),f.Al&&(g=f.Rb,k=f.pu,k.left=f.ql/g.width,k.top=f.rl/g.height,k.right=(f.ql+f.width)/g.width,k.bottom=(f.rl+f.height)/g.height,0===f.ql&&0===f.rl&&f.width===g.width&&f.height===g.height&&(f.Al=!1));this.hf=this.Db.frames[this.Y];this.Go=this.hf.ic};k.fe=function(){var a={a:this.Db.Pa,f:this.Y,cas:this.Hk,fs:this.xg,ar:this.mh,at:this.Nf.jb};this.li||(a.ap=
this.li);this.ki||(a.af=this.ki);return a};k.Oe=function(a){var b=this.sC(a.a);b&&(this.Db=b);this.Y=a.f;0>this.Y&&(this.Y=0);this.Y>=this.Db.frames.length&&(this.Y=this.Db.frames.length-1);this.Hk=a.cas;this.xg=a.fs;this.mh=a.ar;this.Nf.reset();this.Nf.jb=a.at;this.li=a.hasOwnProperty("ap")?a.ap:!0;this.ki=a.hasOwnProperty("af")?a.af:!0;this.hf=this.Db.frames[this.Y];this.Go=this.hf.ic;this.La.wn(this.hf.$p);this.Zd=this.hf.Zd;this.$d=this.hf.$d};k.xr=function(a){this.Y=a?0:this.Db.frames.length-
1;this.li=!1;this.Gv=this.Db.name;this.jp=!0;this.g.trigger(nc.prototype.X.Wz,this);this.g.trigger(nc.prototype.X.Vz,this);this.jp=!1;this.mh=0};k.zG=function(){return this.Nf.jb};k.Uc=function(){this.Nf.add(this.g.ns(this));this.so.length&&this.bw();0<=this.ro&&this.dw();var a=this.Nf.jb,b=this.Db,c=b.frames[this.Y],d=c.duration/this.Hk;this.li&&a>=this.xg+d&&(this.ki?this.Y++:this.Y--,this.xg+=d,this.Y>=b.frames.length&&(b.gy?(this.ki=!1,this.Y=b.frames.length-2):b.loop?this.Y=b.mq:(this.mh++,this.mh>=
b.gu?this.xr(!1):this.Y=b.mq)),0>this.Y&&(b.gy?(this.Y=1,this.ki=!0,b.loop||(this.mh++,this.mh>=b.gu&&this.xr(!0))):b.loop?this.Y=b.mq:(this.mh++,this.mh>=b.gu?this.xr(!0):this.Y=b.mq)),0>this.Y?this.Y=0:this.Y>=b.frames.length&&(this.Y=b.frames.length-1),a>this.xg+b.frames[this.Y].duration/this.Hk&&(this.xg=a),a=b.frames[this.Y],this.zk(c,a),this.g.nb=!0)};k.pw=function(a){var b,c,d;b=0;for(c=this.type.me.length;b<c;b++)if(d=this.type.me[b],hb(d.name,a))return d;return null};k.sC=function(a){var b,
c,d;b=0;for(c=this.type.me.length;b<c;b++)if(d=this.type.me[b],d.Pa===a)return d;return null};k.bw=function(){var a=this.Db.frames[this.Y],b=this.pw(this.so);this.so="";!b||hb(b.name,this.Db.name)&&this.li||(this.Db=b,this.Hk=b.speed,0>this.Y&&(this.Y=0),this.Y>=this.Db.frames.length&&(this.Y=this.Db.frames.length-1),1===this.Uv&&(this.Y=0),this.li=!0,this.xg=this.Nf.jb,this.ki=!0,this.zk(a,this.Db.frames[this.Y]),this.g.nb=!0)};k.dw=function(){var a=this.Db.frames[this.Y],b=this.Y;this.Y=sa(this.ro);
0>this.Y&&(this.Y=0);this.Y>=this.Db.frames.length&&(this.Y=this.Db.frames.length-1);b!==this.Y&&(this.zk(a,this.Db.frames[this.Y]),this.xg=this.Nf.jb,this.g.nb=!0);this.ro=-1};k.zk=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Zd=b.Zd;this.$d=b.$d;this.La.wn(b.$p);this.ib();this.hf=b;this.Go=b.ic;c=0;for(d=this.xa.length;c<d;c++)e=this.xa[c],e.ZD&&e.ZD(a,b);this.g.trigger(nc.prototype.X.zk,this)};k.ug=function(a){a.globalAlpha=this.opacity;
var b=this.hf,c=b.Al,d=b.Rb,e=this.x,f=this.y,k=this.width,g=this.height;if(0===this.L&&0<=k&&0<=g)e-=this.Zd*k,f-=this.$d*g,this.g.Qg&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.ql,b.rl,b.width,b.height,e,f,k,g):a.drawImage(d,e,f,k,g);else{this.g.Qg&&(e=Math.round(e),f=Math.round(f));a.save();var h=0<k?1:-1,m=0<g?1:-1;a.translate(e,f);1===h&&1===m||a.scale(h,m);a.rotate(this.L*h*m);e=0-this.Zd*na(k);f=0-this.$d*na(g);c?a.drawImage(d,b.ql,b.rl,b.width,b.height,e,f,na(k),na(g)):a.drawImage(d,
e,f,na(k),na(g));a.restore()}};k.mf=function(a){a.Ae(this.Go);a.kk(this.opacity);var b=this.hf,c=this.qb;if(this.g.Qg){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Al?a.Sh(c.Ab+d,c.Bb+e,c.Vc+d,c.Wc+e,c.Jc+d,c.Kc+e,c.Hc+d,c.Ic+e,b.pu):a.hq(c.Ab+d,c.Bb+e,c.Vc+d,c.Wc+e,c.Jc+d,c.Kc+e,c.Hc+d,c.Ic+e)}else b.Al?a.Sh(c.Ab,c.Bb,c.Vc,c.Wc,c.Jc,c.Kc,c.Hc,c.Ic,b.pu):a.hq(c.Ab,c.Bb,c.Vc,c.Wc,c.Jc,c.Kc,c.Hc,c.Ic)};k.xC=function(a){var b=this.hf,c,d;c=0;for(d=b.Cs.length;c<d;c++)if(hb(a,b.Cs[c][0]))return c;
return-1};k.Ag=function(a,b){var c=this.hf,d=c.Cs,e;e=ja(a)?this.xC(a):a-1;e=sa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Zd)*this.width,d=d[e][2],d=(d-c.$d)*this.height,c=Math.cos(this.L);e=Math.sin(this.L);var k=f*c-d*e,d=d*c+f*e,f=k+this.x,d=d+this.y;return b?f:d};var r=[],p=-2,u=[];c.prototype.Zz=function(a){if(!a)return!1;var c=this.g,d=c.rw(),k=d.type;d.la.collmemory||(d.la.collmemory={},c.sr(function(a){return function(c){c=c.uid;var d,e;for(d in a)a.hasOwnProperty(d)&&
(e=a[d],e[0]===c||e[1]===c)&&(b(a[d]),delete a[d])}}(d.la.collmemory)));var d=d.la.collmemory,h=k.$a(),m=a.$a(),h=h.pf(),l,n,r,q,t,N,K,E=this.g.Ye,da=E-1,P=c.yd().pe;for(n=0;n<h.length;n++){r=h[n];m.ob?(r.Va(),this.g.uC(r.F,a,r.lc,u),l=u):l=m.pf();for(q=0;q<l.length;q++)t=l[q],c.SE(r,t)||c.bB(r,t)?(N=f(d,r,t),N=!N||p<da,e(d,r,t,E),N&&(c.fq(P.zb),N=k.$a(),K=a.$a(),N.ob=!1,K.ob=!1,k===a?(N.r.length=2,N.r[0]=r,N.r[1]=t,k.Of()):(N.r.length=1,K.r.length=1,N.r[0]=r,K.r[0]=t,k.Of(),a.Of()),P.wE(),c.ik(P.zb))):
g(d,r,t);u.length=0}return!1};var t=new ba,q=!1;new xa(0,0,0,0);n.finish=function(a){if(q){if(a){var b=this.g.yd().pe.ag;a=null.$a();var c=t.$e(),d,e;if(a.ob){a.ob=!1;a.r.length=c.length;d=0;for(e=c.length;d<e;d++)a.r[d]=c[d];if(b)for(d=a.eb.length=0,e=null.r.length;d<e;d++)c=null.r[d],t.contains(c)||a.eb.push(c)}else if(b)for(b=a.r.length,a.r.length=b+c.length,d=0,e=c.length;d<e;d++)a.r[b+d]=c[d],Fa(a.eb,c[d]);else Ba(a.r,c);null.Of()}t.clear();q=!1}};c.prototype.Vz=function(a){return hb(this.Gv,
a)};c.prototype.Wz=function(){return!0};c.prototype.zk=function(){return!0};m.X=new c;h.prototype.vA=function(a){this.li=!0;this.xg=this.Nf.jb;1===a&&0!==this.Y&&(this.ro=0,this.jp||this.dw());this.Lj||(this.g.Cl(this),this.Lj=!0)};h.prototype.jA=function(a,b){this.so=a;this.Uv=b;this.Lj||(this.g.Cl(this),this.Lj=!0);this.jp||this.bw()};h.prototype.kA=function(a){this.Hk=na(a);this.ki=0<=a;this.Lj||(this.g.Cl(this),this.Lj=!0)};m.Sb=new h;m.Ie=new function(){}})();function qc(a){this.g=a}
(function(){function a(a,b){return a.length?a.pop():new b}function c(a,b,c){if(c){var d;c=0;for(d=b.length;c<d;c++)a.length<h&&a.push(b[c]);b.length=0}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a.length<h&&a.push(b[d]),delete b[d])}function b(b,c,d){var e=b.Nd;d=d.replace(/\s\s*$/,"");c>=e.length&&e.push(a(m,Object));c=e[c];c.text=d;c.width=b.Ft(d);b.Wh=pa(b.Wh,c.width)}function d(){}function e(){}var g=qc.prototype;g.mb=function(){};g.Zc=function(a){this.Vb=a;this.g=a.g};var f=g.Zc.prototype;
f.mb=function(){this.za||(this.Rb=new Image,this.g.kz(this.Rb,this.uu),this.ic=null)};f.Wp=function(){this.za||(this.ic=null)};f.Tt=function(){if(!this.za&&this.r.length){this.ic||(this.ic=this.g.Z.Ep(this.Rb,this.g.ab,this.vu));var a,b;a=0;for(b=this.r.length;a<b;a++)this.r[a].ic=this.ic}};f.Au=function(){this.za||this.r.length||!this.ic||(this.g.Z.deleteTexture(this.ic),this.ic=null)};f.Zt=function(a){a.drawImage(this.Rb,0,0)};g.Yb=function(a){this.type=a;this.g=a.g};f=g.Yb.prototype;f.sl=function(){c(m,
this.Nd,!0);c(n,this.uo,!1);c(l,this.vo,!1);Ua(this.si)};f.mb=function(){this.Rb=this.type.Rb;this.to=this.W[0];this.qi=this.W[1];this.characterSet=this.W[2];this.text=this.W[3];this.ri=this.W[4];this.visible=0===this.W[5];this.Fj=this.W[6]/2;this.nk=this.W[7]/2;this.Hn=0===this.W[9];this.Fk=this.W[10];this.lineHeight=this.W[11];this.$g=this.Wh=0;this.ye?(this.Nd.length=0,Ua(this.uo),Ua(this.vo),Ua(this.si)):(this.Nd=[],this.uo={},this.vo={},this.si={});this.Xe=!0;this.Sj=this.width;this.g.Z&&(this.type.ic||
(this.type.ic=this.g.Z.Ep(this.type.Rb,this.g.ab,this.type.vu)),this.ic=this.type.ic);this.uA()};f.fe=function(){var a={t:this.text,csc:this.ri,csp:this.Fk,lh:this.lineHeight,tw:this.Wh,th:this.$g,lrt:this.Rj,cw:{}},b;for(b in this.si)a.cw[b]=this.si[b];return a};f.Oe=function(a){this.text=a.t;this.ri=a.csc;this.Fk=a.csp;this.lineHeight=a.lh;this.Wh=a.tw;this.$g=a.th;this.Rj=a.lrt;for(var b in a.cw)this.si[b]=a.cw[b];this.Xe=!0;this.Sj=this.width};var h=1E3,m=[],n=[],l=[];f.uA=function(){for(var b=
this.Rb,c=b.width,d=b.height,b=this.to,e=this.qi,f=b/c,k=e/d,g=this.characterSet,c=Math.floor(c/b),d=Math.floor(d/e),h=0;h<g.length&&!(h>=c*d);h++){var m=h%c,r=Math.floor(h/c),C=g.charAt(h);if(this.g.Z){var z=this.vo,w=m*f,J=r*k,m=(m+1)*f,r=(r+1)*k;void 0===z[C]&&(z[C]=a(l,xa));z[C].left=w;z[C].top=J;z[C].right=m;z[C].bottom=r}else z=this.uo,m*=b,r*=e,w=b,J=e,void 0===z[C]&&(z[C]=a(n,Object)),z[C].x=m,z[C].y=r,z[C].tc=w,z[C].Bw=J}};var k=[];g.kr=function(a){k.length=0;for(var b="",c,d=0;d<a.length;)if(c=
a.charAt(d),"\n"===c)b.length&&(k.push(b),b=""),k.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));k.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&k.push(b)};g.mr=function(b){var d=b.text,e=b.Nd;if(d&&d.length){var f=b.width;if(2>=f)c(m,e,!0);else{var k=b.ri,g=b.Fk;if(d.length*(b.to*k+g)-g<=f&&-1===d.indexOf("\n")&&(g=b.Ft(d),g<=f)){c(m,e,!0);e.push(a(m,Object));e[0].text=d;e[0].width=g;b.Wh=g;b.$g=b.qi*k+b.lineHeight;
return}this.nr(b);b.$g=e.length*(b.qi*k+b.lineHeight)}}else c(m,e,!0)};g.nr=function(a){var c=a.Hn,d=a.text,e=a.Nd,f=a.width;c&&(this.kr(d),d=k);var g="",l,n,r,G=0,C=!1;for(r=0;r<d.length;r++)"\n"===d[r]?(!0===C?C=!1:(b(a,G,g),G++),g=""):(C=!1,l=g,g+=d[r],n=a.Ft(g.replace(/\s\s*$/,"")),n>f&&(""===l?(b(a,G,g),g="",C=!0):(b(a,G,l),g=d[r]),G++,c||" "!==g||(g="")));g.replace(/\s\s*$/,"").length&&(b(a,G,g),G++);for(r=G;r<e.length;r++)m.length<h&&m.push(e[r]);e.length=G};f.Ft=function(a){for(var b=this.Fk,
c=a.length,d=0,e=0;e<c;e++)d+=this.ms(a.charAt(e))*this.ri+b;return d-(0<d?b:0)};f.ms=function(a){var b=this.si;return void 0!==b[a]?b[a]:this.to};f.oy=function(){if(this.Xe||this.width!==this.Sj)this.$g=this.Wh=0,this.type.Vb.mr(this),this.Xe=!1,this.Sj=this.width};f.ug=function(a){var b=this.Rb;if(""!==this.text&&null!=b&&(this.oy(),!(this.height<this.qi*this.ri+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.g.Qg&&(b=Math.round(b),c=Math.round(c));var d=this.F.Hb,e=this.F.Ib,
f=this.F.Xb,k=this.F.Wb;a.save();a.translate(b,c);a.rotate(this.L);for(var g=this.Fj,h=this.ri,m=this.qi*h,l=this.lineHeight,n=this.Fk,r=this.Nd,J,V=-(this.Zd*this.width),N=-(this.$d*this.height),N=N+this.nk*pa(0,this.height-this.$g),K,E,da,P=0;P<r.length;P++){var O=r[P].text;J=g*pa(0,this.width-r[P].width);K=V+J;N+=l;if(c+N+m<e)N+=m;else{for(var H=0;H<O.length;H++){E=O.charAt(H);J=this.ms(E);var L=this.uo[E];if(b+K+J*h+n<d)K+=J*h+n;else{if(K+J*h>this.width+1E-5)break;void 0!==L&&(E=K,da=N,0===this.L&&
(E=Math.round(E),da=Math.round(da)),a.drawImage(this.Rb,L.x,L.y,L.tc,L.Bw,E,da,L.tc*h,L.Bw*h));K+=J*h+n;if(b+K>f)break}}N+=m;if(N+m+l>this.height||c+N>k)break}}a.restore()}};var r=new ya;f.mf=function(a){a.Ae(this.ic);a.kk(this.opacity);if(this.text&&(this.oy(),!(this.height<this.qi*this.ri+this.lineHeight))){this.Va();var b=this.qb,c=0,d=0;this.g.Qg&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y);var e=this.F.Hb,f=this.F.Ib,k=this.F.Xb,g=this.F.Wb,h=this.L,m=this.Fj,l=this.nk,n=this.ri,
w=this.qi*n,J=this.lineHeight,V=this.Fk,N=this.Nd,K=this.$g,E,da,P;0!==h&&(da=Math.cos(h),P=Math.sin(h));for(var c=b.Ab+c,b=b.Bb+d,O,l=l*pa(0,this.height-K),H,L,K=0;K<N.length;K++)if(d=N[K].text,O=E=m*pa(0,this.width-N[K].width),l+=J,0===h&&b+l+w<f)l+=w;else{for(var U=0;U<d.length;U++){var M=d.charAt(U);E=this.ms(M);M=this.vo[M];if(c+O+E*n+V<e)O+=E*n+V;else{if(O+E*n>this.width+1E-5)break;if(void 0!==M){var R=this.to*n,Q=this.qi*n;H=O;L=l;0===h&&(H=Math.round(H),L=Math.round(L));r.Ab=H;r.Bb=L;r.Vc=
H+R;r.Wc=L;r.Hc=H;r.Ic=L+Q;r.Jc=H+R;r.Kc=L+Q;0!==h&&(H=r,L=da,R=P,Q=void 0,Q=H.Ab*L-H.Bb*R,H.Bb=H.Bb*L+H.Ab*R,H.Ab=Q,Q=H.Vc*L-H.Wc*R,H.Wc=H.Wc*L+H.Vc*R,H.Vc=Q,Q=H.Hc*L-H.Ic*R,H.Ic=H.Ic*L+H.Hc*R,H.Hc=Q,Q=H.Jc*L-H.Kc*R,H.Kc=H.Kc*L+H.Jc*R,H.Jc=Q);r.offset(c,b);a.Sh(r.Ab,r.Bb,r.Vc,r.Wc,r.Jc,r.Kc,r.Hc,r.Ic,M)}O+=E*n+V;if(0===h&&c+O>k)break}}l+=w;if(l+w+J>this.height||b+l>g)break}}};g.X=new function(){};d.prototype.uv=function(a){ia(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=
a,this.Xe=!0,this.g.nb=!0)};f.aG=function(a,b){var c=parseInt(b,10);this.si[a]!==c&&(this.si[a]=c,this.Xe=!0,this.g.nb=!0)};g.Sb=new d;e.prototype.Text=function(a){a.ge(this.text)};g.Ie=new e})();function rc(a){this.g=a}
(function(){function a(){return h.length?h.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)h.push(a[b]);a.length=0}function b(){}function d(){}var e=rc.prototype;e.mb=function(){e.Sb.pA=function(a){this.width!==a&&(this.width=a,this.Xe=!0,this.ib())}};e.Zc=function(a){this.Vb=a;this.g=a.g};var g=e.Zc.prototype;g.mb=function(){};g.Wp=function(){if(!this.za){var a,b,c;a=0;for(b=this.r.length;a<b;a++)c=this.r[a],c.Ng=null,c.hk=null,c.we=null}};e.Yb=function(a){this.type=a;this.g=a.g;this.ye?
this.Nd.length=0:this.Nd=[];this.Xe=!0};g=e.Yb.prototype;g.mb=function(){this.text=this.W[0];this.visible=0===this.W[1];this.font=this.W[2];this.color=this.W[3];this.Fj=this.W[4];this.nk=this.W[5];this.Hn=0===this.W[7];this.Sj=this.yp=this.width;this.xp=this.height;this.bt=this.W[8];this.Wo=this.Lk="";this.$g=this.Wh=this.pn=0;this.eE();this.we=this.hk=this.Ng=null;this.Lx=!1;this.Rj=this.g.Ye;this.ye?this.ul.set(0,0,1,1):this.ul=new xa(0,0,1,1);this.g.Z&&this.g.Cl(this)};g.eE=function(){var a=this.font.split(" "),
b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.pn=parseInt(a[b].substr(0,a[b].length-2));this.bu=Math.ceil(this.pn/72*96)+4;0<b&&(this.Wo=a[b-1]);this.Lk=a[b+1];for(b+=2;b<a.length;b++)this.Lk+=" "+a[b];break}};g.fe=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Fj,va:this.nk,wr:this.Hn,lho:this.bt,fn:this.Lk,fs:this.Wo,ps:this.pn,pxh:this.bu,tw:this.Wh,th:this.$g,lrt:this.Rj}};g.Oe=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Fj=a.ha;this.nk=
a.va;this.Hn=a.wr;this.bt=a.lho;this.Lk=a.fn;this.Wo=a.fs;this.pn=a.ps;this.bu=a.pxh;this.Wh=a.tw;this.$g=a.th;this.Rj=a.lrt;this.Xe=!0;this.Sj=this.yp=this.width;this.xp=this.height};g.Uc=function(){if(this.g.Z&&this.we&&300<=this.g.Ye-this.Rj){var a=this.F;this.Va();var b=this.lc;if(b.right<a.Hb||b.bottom<a.Ib||b.left>a.Xb||b.top>a.Wb)this.g.Z.deleteTexture(this.we),this.Ng=this.hk=this.we=null}};g.sl=function(){this.Ng=this.hk=null;this.g.Z&&this.we&&this.g.Z.deleteTexture(this.we);this.we=null};
g.JG=function(){this.font=this.Wo+" "+this.pn.toString()+"pt "+this.Lk;this.Xe=!0;this.g.nb=!0};g.ug=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.F.Ke(),a.save(),a.scale(c,c));if(this.Xe||this.width!==this.Sj)this.type.Vb.mr(this.text,this.Nd,a,this.width,this.Hn),this.Xe=!1,this.Sj=this.width;this.Va();var c=b?0:this.qb.Ab,d=b?0:this.qb.Bb;this.g.Qg&&(c=c+.5|0,d=d+.5|0);0===this.L||b||(a.save(),a.translate(c,d),a.rotate(this.L),
d=c=0);var e=d+this.height,f=this.bu,f=f+this.bt,g,h;1===this.nk?d+=Math.max(this.height/2-this.Nd.length*f/2,0):2===this.nk&&(d+=Math.max(this.height-this.Nd.length*f-2,0));for(h=0;h<this.Nd.length&&!(g=c,1===this.Fj?g=c+(this.width-this.Nd[h].width)/2:2===this.Fj&&(g=c+(this.width-this.Nd[h].width)),a.fillText(this.Nd[h].text,g,d),d+=f,d>=e-f);h++);(0!==this.L||b)&&a.restore();this.Rj=this.g.Ye};g.mf=function(a){if(!(1>this.width||1>this.height)){var b=this.Xe||this.Lx;this.Lx=!1;var c=this.F.Ke(),
d=this.F.zc(),e=this.ul,f=c*this.width,g=c*this.height,h=Math.ceil(f),q=Math.ceil(g),B=this.g.Ga/2,y=this.g.Fa/2;this.hk||(this.Ng=document.createElement("canvas"),this.Ng.width=h,this.Ng.height=q,this.yp=h,this.xp=q,b=!0,this.hk=this.Ng.getContext("2d"));if(h!==this.yp||q!==this.xp)this.Ng.width=h,this.Ng.height=q,this.we&&(a.deleteTexture(this.we),this.we=null),b=!0;b&&(this.hk.clearRect(0,0,h,q),this.ug(this.hk,!0),this.we||(this.we=a.qh(h,q,this.g.ab,this.g.Cg)),a.cF(this.Ng,this.we,this.g.Cg));
this.yp=h;this.xp=q;a.Ae(this.we);a.kk(this.opacity);a.Ug();a.translate(-B,-y);a.ah();var F=this.qb,b=this.F.Ub(F.Ab,F.Bb,!0,!0),B=this.F.Ub(F.Ab,F.Bb,!1,!0),y=this.F.Ub(F.Vc,F.Wc,!0,!0),D=this.F.Ub(F.Vc,F.Wc,!1,!0),I=this.F.Ub(F.Jc,F.Kc,!0,!0),G=this.F.Ub(F.Jc,F.Kc,!1,!0),C=this.F.Ub(F.Hc,F.Ic,!0,!0),F=this.F.Ub(F.Hc,F.Ic,!1,!0);if(this.g.Qg||0===this.L&&0===d)var z=(b+.5|0)-b,w=(B+.5|0)-B,b=b+z,B=B+w,y=y+z,D=D+w,I=I+z,G=G+w,C=C+z,F=F+w;0===this.L&&0===d?(y=b+h,D=B,I=y,G=B+q,C=b,F=G,e.right=1,e.bottom=
1):(e.right=f/h,e.bottom=g/q);a.Sh(b,B,y,D,I,G,C,F,e);a.Ug();a.scale(c,c);a.iu(-this.F.zc());a.translate((this.F.Hb+this.F.Xb)/-2,(this.F.Ib+this.F.Wb)/-2);a.ah();this.Rj=this.g.Ye}};var f=[];e.kr=function(a){f.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(f.push(b),b=""),f.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&f.push(b)};
var h=[];e.mr=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=e.measureText(b).width;if(h<=f){c(d);d.push(a());d[0].text=b;d[0].width=h;return}}this.nr(b,d,e,f,g)}else c(d)};e.nr=function(b,c,d,e,g){g&&(this.kr(b),b=f);var p="",u,t,q,B=0;for(q=0;q<b.length;q++)"\n"===b[q]?(B>=c.length&&c.push(a()),t=c[B],t.text=p,t.width=d.measureText(p).width,B++,p=""):(u=p,p+=b[q],t=d.measureText(p).width,t>=e&&(B>=c.length&&c.push(a()),t=c[B],t.text=u,t.width=
d.measureText(u).width,B++,p=b[q],g||" "!==p||(p="")));p.length&&(B>=c.length&&c.push(a()),t=c[B],t.text=p,t.width=d.measureText(p).width,B++);for(q=B;q<c.length;q++)h.push(c[q]);c.length=B};e.X=new function(){};b.prototype.uv=function(a){ia(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Xe=!0,this.g.nb=!0)};e.Sb=new b;d.prototype.Text=function(a){a.ge(this.text)};e.Ie=new d})();
function sc(a){this.g=a;var c=this;this.g.oc||(jQuery(document).mousemove(function(a){c.Rt(a)}),jQuery(document).mousedown(function(a){c.Qt(a)}),jQuery(document).mouseup(function(a){c.St(a)}));a=0<this.g.Yd?document:this.g.canvas;this.g.Md?a=window.Canvas:this.g.rf&&(a=window);window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Vx(a)},!1),a.addEventListener("pointermove",function(a){c.Ux(a)},!1),a.addEventListener("pointerup",function(a){c.Xp(a)},!1),a.addEventListener("pointercancel",
function(a){c.Xp(a)},!1)):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Vx(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Ux(a)},!1),a.addEventListener("MSPointerUp",function(a){c.Xp(a)},!1),a.addEventListener("MSPointerCancel",function(a){c.Xp(a)},!1)):(a.addEventListener("touchstart",function(a){c.bE(a)},!1),a.addEventListener("touchmove",function(a){c.aE(a)},!1),a.addEventListener("touchend",function(a){c.Wx(a)},!1),a.addEventListener("touchcancel",
function(a){c.Wx(a)},!1))}
(function(){function a(a){var c,d;c=0;for(d=a.xa.length;c<d;c++)if(a.xa[c]instanceof b.Yb)return a.xa[c];return null}function c(){}var b=sc.prototype,d={left:0,top:0};b.Qt=function(a){1===a.which&&this.Lt("leftmouse",a.pageX,a.pageY)};b.Rt=function(a){1===a.which&&this.Mt("leftmouse",a.pageX,a.pageY)};b.St=function(a){1===a.which&&this.Nt("leftmouse")};b.bE=function(a){a.preventDefault&&ib(a)&&a.preventDefault();var b,c,d,e;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],e=d.identifier,
this.Lt(e?e.toString():"<none>",d.pageX,d.pageY)};b.aE=function(a){a.preventDefault&&a.preventDefault();var b,c,d,e;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],e=d.identifier,this.Mt(e?e.toString():"<none>",d.pageX,d.pageY)};b.Wx=function(a){a.preventDefault&&ib(a)&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=d.identifier,this.Nt(d?d.toString():"<none>")};b.Vx=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&
(a.preventDefault&&ib(a)&&a.preventDefault(),this.Lt(a.pointerId.toString(),a.pageX,a.pageY))};b.Ux=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&(a.preventDefault&&a.preventDefault(),this.Mt(a.pointerId.toString(),a.pageX,a.pageY))};b.Xp=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&(a.preventDefault&&ib(a)&&a.preventDefault(),this.Nt(a.pointerId.toString()))};b.Lt=function(b,c,e){var m=this.g.oc?d:jQuery(this.g.canvas).offset();c-=m.left;
e-=m.top;var n,l,k,r,m=this.ol.$e(),p,u,t,q=null;p=0;for(u=m.length;p<u;p++)if(t=m[p],n=a(t),n.enabled&&!n.yj&&(n=t.F.nd(c,e,!0),l=t.F.nd(c,e,!1),t.Va(),t.wd(n,l)))q?t.F.index>q.F.index?(q=t,k=n,r=l):t.F.index===q.F.index&&t.qf()>q.qf()&&(q=t,k=n,r=l):(q=t,k=n,r=l);q&&a(q).XD(b,k,r)};b.Mt=function(b,c,e){var m=this.g.oc?d:jQuery(this.g.canvas).offset();c-=m.left;e-=m.top;var n,l=this.ol.$e(),k,r,p;k=0;for(r=l.length;k<r;k++)n=l[k],p=a(n),!p.enabled||!p.yj||p.yj&&p.Tr!==b||(m=n.F.nd(c,e,!0),n=n.F.nd(c,
e,!1),p.YD(m,n))};b.Nt=function(b){var c=this.ol.$e(),d,e,n;d=0;for(e=c.length;d<e;d++)n=c[d],n=a(n),n.yj&&n.Tr===b&&n.cE()};b.Zc=function(a){this.behavior=a;this.g=a.g};b.Zc.prototype.mb=function(){};b.Yb=function(a,b){this.type=a;this.behavior=a.behavior;this.V=b;this.g=a.g};var e=b.Yb.prototype;e.mb=function(){this.yj=!1;this.gw=this.fw=0;this.Tr="<none>";this.yr=this.W[0];this.enabled=0!==this.W[1]};e.fe=function(){return{enabled:this.enabled}};e.Oe=function(a){this.enabled=a.enabled;this.yj=
!1};e.XD=function(a,b,c){this.fw=b-this.V.x;this.gw=c-this.V.y;this.yj=!0;this.Tr=a;this.g.se=!0;this.g.trigger(sc.prototype.X.hv,this.V);this.g.se=!1};e.YD=function(a,b){var c=a-this.fw,d=b-this.gw;if(0===this.yr){if(this.V.x!==c||this.V.y!==d)this.V.x=c,this.V.y=d,this.V.ib()}else 1===this.yr?this.V.x!==c&&(this.V.x=c,this.V.ib()):2===this.yr&&this.V.y!==d&&(this.V.y=d,this.V.ib())};e.cE=function(){this.yj=!1;this.g.se=!0;this.g.trigger(sc.prototype.X.iv,this.V);this.g.se=!1};e.Uc=function(){};
c.prototype.hv=function(){return!0};c.prototype.iv=function(){return!0};c.prototype.Xn=function(){return!!this.enabled};b.X=new c;b.Sb=new function(){};b.Ie=new function(){}})();function x(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)fa("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,b,d,e){this.type=c.Ik;this.wb=new l;this.xb=new l;this.ig=null;void 0!==a&&(this.I=a);void 0!==b&&(this.J=b);void 0!==d&&this.wb.C(d);void 0!==e&&this.xb.C(e);this.ml=this.Ex=this.Fu=this.it=this.Tg=0;this.Jk=this.zj=!1}function c(a){this.I=a.I;this.J=a.J;this.ig=a.ig;this.type=a.type;this.next=null}function b(a,
b){this.Kp=[];this.Gb=[];this.$j=[];this.Gh=null;this.AD=[];this.ec=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.Lb=a;this.Fb=b;this.HD=c}function g(a,b){var c=a.ig;a.ig=null;this.Ja=b;this.u=new m(a.position,n.uk(a.L));this.$m=[];this.Wm=a.vd;a.type===g.Ge&&(a.Qf=0);this.Ac=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.ec,a);a.ig=c}function f(a,b,c,d){this.Ym=a;this.nt=c;this.Nh={};this.Nh.Qd=l.p(0,0);this.Np=!1;this.Lp=d.Qf;this.pt=d.zg;this.zt=
d.Vg;this.Np=d.Ls}function h(){}function m(a,b){this.position=l.p(0,0);this.m=new n;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.C(a),this.m.If(b))}function n(){this.i=l.p(0,0);this.j=l.p(0,0);this.gi()}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}A=l;l.jh=[];l.p=function(a,b){if(0<A.jh.length){var c=A.jh.pop();c.Set(a,b);return c}return new A(a,b)};l.jc=function(a){1E4>A.jh.length&&A.jh.push(a)};l.prototype.da=function(){this.y=this.x=0};l.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};l.prototype.C=function(a){this.x=a.x;this.y=a.y};l.GF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return l.p(a,b)};l.prototype.uc=function(){return l.p(this.x,this.y)};l.prototype.fh=function(a){this.x+=a.x;this.y+=a.y};l.prototype.jr=function(a){this.x-=a.x;this.y-=a.y};l.prototype.Id=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};l.prototype.qg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.Zn=function(){return this.x*
this.x+this.y*this.y};l.prototype.Jd=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};l.prototype.Wq=function(){this.x=-this.x;this.y=-this.y};S=n;n.uk=function(a){void 0===a&&(a=0);var b=new n;b.Set(a);return b};n.pg=function(a,b){var c=new n;c.hr(a,b);return c};n.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.i.x=b;this.j.x=-a;this.i.y=a;this.j.y=b};n.prototype.hr=function(a,b){this.i.C(a);
this.j.C(b)};n.prototype.uc=function(){var a=new n;a.If(this);return a};n.prototype.If=function(a){this.i.C(a.i);this.j.C(a.j)};n.prototype.In=function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.j.x+=a.j.x;this.j.y+=a.j.y};n.prototype.gi=function(){this.i.x=1;this.j.x=0;this.i.y=0;this.j.y=1};n.prototype.da=function(){this.i.x=0;this.j.x=0;this.i.y=0;this.j.y=0};n.prototype.Gd=function(){return Math.atan2(this.i.y,this.i.x)};n.prototype.Pq=function(a){var b=this.i.x,c=this.j.x,d=this.i.y,e=this.j.y,
f=b*e-c*d;0!==f&&(f=1/f);a.i.x=f*e;a.j.x=-f*c;a.i.y=-f*d;a.j.y=f*b;return a};n.prototype.hi=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.i.x,e=this.j.x,f=this.i.y,g=this.j.y,h=d*g-e*f;0!==h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};n.prototype.eh=function(){this.i.eh();this.j.eh()};tc=m;m.prototype.kc=function(a,b){this.position.C(a);this.m.If(b)};m.prototype.gi=function(){this.position.da();this.m.gi()};m.prototype.Set=function(a){this.position.C(a.position);this.m.If(a.m)};
m.prototype.$n=function(){return Math.atan2(this.m.i.y,this.m.i.x)};T=h;h.Yn=function(a){void 0===a&&(a=0);return isFinite(a)};h.Jb=function(a,b){return a.x*b.x+a.y*b.y};h.cj=function(a,b){return a.x*b.y-a.y*b.x};h.gh=function(a,b){void 0===b&&(b=0);return l.p(b*a.y,-b*a.x)};h.Lq=function(a,b){void 0===a&&(a=0);return l.p(-a*b.y,a*b.x)};h.Zb=function(a,b){return l.p(a.i.x*b.x+a.j.x*b.y,a.i.y*b.x+a.j.y*b.y)};h.hh=function(a,b){return l.p(h.Jb(b,a.i),h.Jb(b,a.j))};h.Fc=function(a,b){var c=h.Zb(a.m,
b);c.x+=a.position.x;c.y+=a.position.y;return c};h.Uq=function(a,b){var c=h.ub(b,a.position),d=c.x*a.m.i.x+c.y*a.m.i.y;c.y=c.x*a.m.j.x+c.y*a.m.j.y;c.x=d;return c};h.Ll=function(a,b){return l.p(a.x+b.x,a.y+b.y)};h.ub=function(a,b){return l.p(a.x-b.x,a.y-b.y)};h.Ez=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};h.Tu=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};h.Sz=function(a,b){void 0===a&&(a=0);return l.p(a*b.x,a*b.y)};h.oz=function(a,b){return n.pg(h.Ll(a.i,b.i),h.Ll(a.j,
b.j))};h.Tz=function(a,b){return n.pg(h.Zb(a,b.i),h.Zb(a,b.j))};h.Uz=function(a,b){var c=l.p(h.Jb(a.i,b.i),h.Jb(a.j,b.i)),d=l.p(h.Jb(a.i,b.j),h.Jb(a.j,b.j));return n.pg(c,d)};h.eh=function(a){void 0===a&&(a=0);return 0<a?a:-a};h.Il=function(a){return l.p(h.eh(a.x),h.eh(a.y))};h.mz=function(a){return n.pg(h.Il(a.i),h.Il(a.j))};h.cv=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};h.dv=function(a,b){return l.p(h.cv(a.x,b.x),h.cv(a.y,b.y))};h.av=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};h.bv=function(a,b){return l.p(h.av(a.x,b.x),h.av(a.y,b.y))};h.Cb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};h.tz=function(a,b,c){return h.bv(b,h.dv(a,c))};h.nG=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};h.UF=function(){return 2*Math.random()-1};h.VF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};h.MF=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};h.CF=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};h.WA=new l(0,0);h.VA=n.pg(new l(1,0),new l(0,1));h.uG=new m(h.WA,h.VA);X=function(){this.position=l.p(0,0);this.ct=l.p(0,0);this.ig=null;this.L=0;this.ct.Set(0,0);this.oj=this.Tj=this.Fv=0;this.Jv=this.Ev=!0;this.rj=this.bs=!1;this.type=g.Ge;this.vd=!0;this.Fw=1};uc=f;f.prototype.Qa=function(){return this.Ym};f.prototype.Ec=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");
return null};f.prototype.ij=function(){return this.Np};vc=g;g.prototype.sk=function(a){var b=a.ig;a.ig=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Ja.ec,this.Ac,a);a.ig=b;a=new f(this,0,c,a);this.Ja.$j[c]=a;this.$m.push(a);return a};g.prototype.Oq=function(){return 0===this.$m.length?null:this.$m[0]};g.prototype.Su=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Ja.ec,a.nt);delete this.Ja.$j[a.nt]};g.prototype.am=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",
this.Ja.ec,this.Ac,a.x,a.y,b);this.u.m.Set(b);this.u.position.C(a)};g.prototype.gr=function(a){this.am(a,this.Gd())};g.prototype.ej=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Ja.ec,this.Ac);return l.p(a[0],a[1])};g.prototype.wk=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Ja.ec,this.Ac);return l.p(a[0],a[1])};g.prototype.fj=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Ja.ec,this.Ac);return l.p(a[0],a[1])};
g.prototype.td=function(a){return h.Uq(this.u,a)};g.prototype.vk=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.Ja.ec,this.Ac)};g.prototype.ud=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Ja.ec,this.Ac)};g.prototype.Sn=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Ja.ec,this.Ac)};g.prototype.md=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.Ja.ec,this.Ac,a)};g.prototype.kj=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",
this.Ja.ec,this.Ac,a.x,a.y)};g.prototype.lg=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Ja.ec,this.Ac,a.x,a.y,b.x,b.y,c)};g.prototype.Jn=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Ja.ec,this.Ac,a,b)};g.prototype.Zl=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Ja.ec,this.Ac,a)};g.prototype.hj=function(){return this.Wm};g.prototype.Gd=function(){return this.u.m.Gd()};g.prototype.$n=function(a){void 0===a&&(a=0);this.am(this.u.position,
a)};g.prototype.di=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Ja.ec,this.Ac),b=[],c=0;c<a.length;c++)b.push(this.Ja.Kp[a[c]]);return b};vc.Ge=0;vc.Lv=1;vc.Gc=2;e.prototype.Sq=function(){return this.HD};wc=d;d.prototype.Kn=function(){};wc.Kv=new d;xc=function(){};yc=b;b.prototype.qv=function(a){this.Gh=a};b.prototype.pv=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",this.ec,function(c,d){return a.lj(b.$j[c],b.$j[d])})};b.prototype.Kq=
function(a){a=new g(a,this);return this.Kp[a.Ac]=a};b.prototype.Pn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.ec,a.Ac);delete this.Kp[a.Ac];for(var b=0;b<a.$m.length;++b)delete this.$j[a.$m[b].nt]};b.prototype.On=function(a){if(a.I.Ac!==a.J.Ac){var b=a.I,d=a.J;a.I=b.Ac;a.J=d.Ac;var e="createDistanceJoint";a.type===c.Ik&&(e="createRevoluteJoint");var f=new c(a);f.zD=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.ec,a);a.I=b;a.J=d;this.AD.push(f);return f}};b.prototype.Qn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",
this.ec,a.zD)};b.prototype.ih=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.ec,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.Kp[c[a+0]];if(null===d)break;d.u.position.Set(c[a+1],c[a+2]);d.u.m.Set(c[a+3])}if(null!==this.Gh)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.ec),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.$j[c[a+0]],g=this.$j[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.Gh.Kn(new e(f,
g,d))}};b.prototype.Ru=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.ec)};zc=function(a){this.jq=a;this.type="circle"};Y=function(){};Y.prototype.ao=function(a,b){this.type="box";this.width=a;this.height=b};Y.prototype.nv=function(){this.type="edge"};Y.prototype.$l=function(a,b){this.type="polygon";this.jz=[];for(var c=0;c<b;c++)this.jz.push(a[c].x),this.jz.push(a[c].y)};Ac=function(){this.ig=this.shape=null;this.zg=.2;this.Qf=this.Vg=0;this.Ls=!1;this.filter={Ek:1,kl:65535,Bi:0}};
Z=c;c.prototype.Pl=function(){return this.I};c.prototype.Nq=function(){return this.J};c.prototype.Xc=function(){return this.type};c.Ur=0;c.Ik=1;Bc=function(a,b,d,e){this.type=c.Ur;this.wb=l.p(0,0);this.xb=l.p(0,0);this.ig=null;void 0!==a&&(this.I=a);void 0!==b&&(this.J=b);void 0!==d&&this.wb.C(d);void 0!==e&&this.xb.C(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.Jo=this.Yo=0};a.prototype.kc=function(a,b,c){this.I=a;this.J=b;this.wb=this.I.td(c);this.xb=this.J.td(c);
this.Tg=this.J.Gd()-this.I.Gd()};Cc=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var T={},Dc=2/180*Math.PI,Ec=8/180*Math.PI,Fc=.5*Math.PI,Gc=Fc*Fc,Hc=2/180*Math.PI,Ic=Number.MIN_VALUE*Number.MIN_VALUE;T.Jb=function(a,c){return a.x*c.x+a.y*c.y};T.cj=function(a,c){return a.x*c.y-a.y*c.x};T.gh=function(a,c){return A.p(c*a.y,-c*a.x)};T.Lq=function(a,c){return A.p(-a*c.y,a*c.x)};T.Zb=function(a,c){return A.p(a.i.x*c.x+a.j.x*c.y,a.i.y*
c.x+a.j.y*c.y)};T.hh=function(a,c){return A.p(T.Jb(c,a.i),T.Jb(c,a.j))};T.Fc=function(a,c){var b=T.Zb(a.m,c);b.x+=a.position.x;b.y+=a.position.y;return b};T.Uq=function(a,c){var b=T.ub(c,a.position),d=b.x*a.m.i.x+b.y*a.m.i.y;b.y=b.x*a.m.j.x+b.y*a.m.j.y;b.x=d;return b};T.Ll=function(a,c){return A.p(a.x+c.x,a.y+c.y)};T.ub=function(a,c){return A.p(a.x-c.x,a.y-c.y)};T.Ez=function(a,c){return Math.sqrt(T.Tu(a,c))};T.Tu=function(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d};T.Sz=function(a,c){return A.p(a*
c.x,a*c.y)};T.oz=function(a,c){return S.pg(T.Ll(a.i,c.i),T.Ll(a.j,c.j))};T.Tz=function(a,c){return S.pg(T.Zb(a,c.i),T.Zb(a,c.j))};T.Uz=function(a,c){var b=A.p(T.Jb(a.i,c.i),T.Jb(a.j,c.i)),d=A.p(T.Jb(a.i,c.j),T.Jb(a.j,c.j));return S.pg(b,d)};T.Il=function(a){return A.p(Math.abs(a.x),Math.abs(a.y))};T.mz=function(a){return S.pg(T.Il(a.i),T.Il(a.j))};T.Cb=function(a,c,b){return a<c?c:a>b?b:a};T.tz=function(a,c,b){return A.p(T.Cb(a.x,c.x,b.x),T.Cb(a.y,c.y,b.y))};var S=function(){this.i=A.p(0,0);this.j=
A.p(0,0);this.gi()};S.uk=function(a){var c=new S;c.Set(a);return c};S.pg=function(a,c){var b=new S;b.hr(a,c);return b};s=S.prototype;s.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.i.Set(c,a);this.j.Set(-a,c)};s.hr=function(a,c){this.i.C(a);this.j.C(c)};s.uc=function(){var a=new S;a.If(this);return a};s.If=function(a){this.i.C(a.i);this.j.C(a.j)};s.In=function(a){this.i.fh(a.i);this.j.fh(a.j)};s.gi=function(){this.i.Set(1,0);this.j.Set(0,1)};s.da=function(){this.i.Set(0,0);this.j.Set(0,0)};
s.Gd=function(){return Math.atan2(this.i.y,this.i.x)};s.Pq=function(a){var c=this.i.x*this.j.y-this.j.x*this.i.y;0!==c&&(c=1/c);a.i.x=c*this.j.y;a.j.x=-c*this.j.x;a.i.y=-c*this.i.y;a.j.y=c*this.i.x;return a};s.hi=function(a,c,b){var d=this.i.x*this.j.y-this.j.x*this.i.y;0!==d&&(d=1/d);a.x=d*(this.j.y*c-this.j.x*b);a.y=d*(this.i.x*b-this.i.y*c);return a};s.eh=function(){this.i.eh();this.j.eh()};var Kc=function(a,c,b){this.i=new Jc(0,0,0);this.j=new Jc(0,0,0);this.na=new Jc(0,0,0);a&&this.i.C(a);c&&
this.j.C(c);b&&this.na.C(b)};s=Kc.prototype;s.uc=function(){return new Kc(this.i,this.j,this.na)};s.If=function(a){this.i.C(a.i);this.j.C(a.j);this.na.C(a.na)};s.In=function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.i.z+=a.i.z;this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.na.x+=a.na.x;this.na.y+=a.na.y;this.na.z+=a.na.z};s.gi=function(){this.i.Set(1,0,0);this.j.Set(0,1,0);this.na.Set(0,0,1)};s.da=function(){this.i.Set(0,0,0);this.j.Set(0,0,0);this.na.Set(0,0,0)};s.Ak=function(a,c,b){var d=this.i.x,
e=this.j.x,g=this.i.y,f=this.j.y,h=d*f-e*g;0!=h&&(h=1/h);a.x=h*(f*c-e*b);a.y=h*(d*b-g*c);return a};s.cm=function(a,c,b,d){var e=this.i.x,g=this.i.y,f=this.i.z,h=this.j.x,m=this.j.y,n=this.j.z,l=this.na.x,k=this.na.y,r=this.na.z,p=e*(m*r-n*k)+g*(n*l-h*r)+f*(h*k-m*l);0!=p&&(p=1/p);a.x=p*(c*(m*r-n*k)+b*(n*l-h*r)+d*(h*k-m*l));a.y=p*(e*(b*r-d*k)+g*(d*l-c*r)+f*(c*k-b*l));a.z=p*(e*(m*d-n*b)+g*(n*c-h*d)+f*(h*b-m*c));return a};var Lc=function(){this.K=A.p(0,0);this.bd=A.p(0,0);this.q=A.p(0,0)};Lc.prototype.Set=
function(a){this.K.C(a.K);this.bd.C(a.bd);this.q.C(a.q);this.df=a.df;this.H=a.H;this.Ed=a.Ed};Lc.prototype.uc=function(){var a=new Lc;a.K.C(this.K);a.bd.C(this.bd);a.q.C(this.q);a.df=this.df;a.H=this.H;a.Ed=this.Ed;return a};Lc.prototype.je=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.bd.x+c*this.q.x;a.position.y=(1-c)*this.bd.y+c*this.q.y;a.m.Set((1-c)*this.df+c*this.H);var b=a.m;a.position.x-=b.i.x*this.K.x+b.j.x*this.K.y;a.position.y-=b.i.y*this.K.x+b.j.y*this.K.y};Lc.prototype.ci=function(a){void 0===
a&&(a=0);if(this.Ed<a&&1-this.Ed>Number.MIN_VALUE){var c=(a-this.Ed)/(1-this.Ed);this.bd.x=(1-c)*this.bd.x+c*this.q.x;this.bd.y=(1-c)*this.bd.y+c*this.q.y;this.df=(1-c)*this.df+c*this.H;this.Ed=a}};var tc=function(a,c){this.position=A.p(0,0);this.m=new S;a&&this.position.C(a);c&&this.m.If(c)};tc.prototype.kc=function(a,c){this.position.C(a);this.m.If(c)};tc.prototype.gi=function(){this.position.da();this.m.gi()};tc.prototype.Set=function(a){this.position.C(a.position);this.m.If(a.m)};tc.prototype.Gd=
function(){return Math.atan2(this.m.i.y,this.m.i.x)};var A=function(a,c){this.x=a;this.y=c};A.jh=[];A.p=function(a,c){if(0<A.jh.length){var b=A.jh.pop();b.Set(a,c);return b}return new A(a,c)};A.jc=function(a){A.jh.push(a)};s=A.prototype;s.da=function(){this.y=this.x=0};s.Set=function(a,c){this.x=a;this.y=c};s.C=function(a){this.x=a.x;this.y=a.y};s.ei=function(){return A.p(-this.x,-this.y)};s.Wq=function(){this.x=-this.x;this.y=-this.y};s.uc=function(){return A.p(this.x,this.y)};s.fh=function(a){this.x+=
a.x;this.y+=a.y};s.jr=function(a){this.x-=a.x;this.y-=a.y};s.Id=function(a){this.x*=a;this.y*=a};s.gh=function(a){var c=this.x;this.x=a*this.y;this.y=-a*c};s.Lq=function(a){var c=this.x;this.x=-a*this.y;this.y=a*c};s.dv=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};s.bv=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};s.eh=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};s.qg=function(){return Math.sqrt(this.Zn())};s.Zn=function(){return this.x*
this.x+this.y*this.y};s.Jd=function(){var a=this.qg();if(a<Number.MIN_VALUE)return 0;var c=1/a;this.x*=c;this.y*=c;return a};s.Yn=function(){return isFinite(this.x)&&isFinite(this.y)};var Jc=function(a,c,b){this.x=a;this.y=c;this.z=b};s=Jc.prototype;s.da=function(){this.z=this.y=this.x=0};s.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};s.C=function(a){this.x=a.x;this.y=a.y;this.z=a.z};s.ei=function(){return new Jc(-this.x,-this.y,-this.z)};s.Wq=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};
s.uc=function(){return new Jc(this.x,this.y,this.z)};s.fh=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};s.jr=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};s.Id=function(a){this.x*=a;this.y*=a;this.z*=a};var Nc=function(){this.Ta=.005};s=Nc.prototype;s.gj=function(){};s.uc=function(){};s.Set=function(a){this.Ta=a.Ta};s.rk=function(){};s.Ml=function(){};s.Nn=function(){};s.er=function(){};var zc=function(a){this.Ta=.005;this.Ta=a;this.hl=a*a;this.fb=A.p(0,0)};x(zc,Nc);s=zc.prototype;s.gj=function(){return zc.Hf};
s.uc=function(){var a=new zc(this.Ta);a.Set(this);return a};s.Set=function(a){Nc.prototype.Set.call(this,a);a instanceof zc&&this.fb.C(a.fb)};s.rk=function(a,c){var b=c.m,d=c.position.x+(b.i.x*this.fb.x+b.j.x*this.fb.y),b=c.position.y+(b.i.y*this.fb.x+b.j.y*this.fb.y);a.Ca.Set(d-this.Ta,b-this.Ta);a.Ea.Set(d+this.Ta,b+this.Ta)};s.Ml=function(a,c){a.Mg=c*Math.PI*this.hl;a.oh.C(this.fb);a.xk=a.Mg*(.5*this.hl+(this.fb.x*this.fb.x+this.fb.y*this.fb.y))};s.Nn=function(a,c,b,d){b=T.Fc(b,this.fb);var e=
-(T.Jb(a,b)-c);if(e<-this.Ta+Number.MIN_VALUE)return 0;if(e>this.Ta)return d.C(b),Math.PI*this.hl;c=e*e;e=this.hl*(Math.asin(e/this.Ta)+Math.PI/2)+e*Math.sqrt(this.hl-c);c=-2/3*Math.pow(this.hl-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};s.er=function(a){a.G=[this.fb];a.ja=1;a.Ta=this.Ta};zc.Hf="b2CircleShape";var Oc=function(a,c){this.Ta=.005;this.ka=a;this.Ia=c;this.Zj=A.p(this.Ia.x-this.ka.x,this.Ia.y-this.ka.y);this.qt=this.Zj.Jd();this.ra=A.p(this.Zj.y,-this.Zj.x);A.p(-.04*(this.ra.x-this.Zj.x)+
this.ka.x,-.04*(this.ra.y-this.Zj.y)+this.ka.y);A.p(-.04*(this.ra.x+this.Zj.x)+this.Ia.x,-.04*(this.ra.y+this.Zj.y)+this.Ia.y);A.p(-this.ra.x,-this.ra.y)};x(Oc,Nc);Oc.prototype.gj=function(){return"b2EdgeShape"};Oc.prototype.rk=function(a,c){var b=c.m,d=c.position.x+(b.i.x*this.ka.x+b.j.x*this.ka.y),e=c.position.y+(b.i.y*this.ka.x+b.j.y*this.ka.y),g=c.position.x+(b.i.x*this.Ia.x+b.j.x*this.Ia.y),b=c.position.y+(b.i.y*this.Ia.x+b.j.y*this.Ia.y);d<g?(a.Ca.x=d,a.Ea.x=g):(a.Ca.x=g,a.Ea.x=d);e<b?(a.Ca.y=
e,a.Ea.y=b):(a.Ca.y=b,a.Ea.y=e)};Oc.prototype.Ml=function(a){a.Mg=0;a.oh.C(this.ka);a.xk=0};Oc.prototype.Nn=function(a,c,b,d){void 0===c&&(c=0);var e=A.p(a.x*c,a.y*c),g=T.Fc(b,this.ka);b=T.Fc(b,this.Ia);var f=T.Jb(a,g)-c;a=T.Jb(a,b)-c;if(0<f){if(0<a)return 0;g.x=-a/(f-a)*g.x+f/(f-a)*b.x;g.y=-a/(f-a)*g.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*g.x+f/(f-a)*b.x,b.y=-a/(f-a)*g.y+f/(f-a)*b.y);d.x=(e.x+g.x+b.x)/3;d.y=(e.y+g.y+b.y)/3;return.5*((g.x-e.x)*(b.y-e.y)-(g.y-e.y)*(b.x-e.x))};var Pc=function(){this.Mg=
0;this.oh=A.p(0,0);this.xk=0},Y=function(){this.Ta=.005;this.Qd=A.p(0,0);this.G=[];this.ta=[]};x(Y,Nc);Y.prototype.gj=function(){return Y.Hf};Y.prototype.uc=function(){var a=new Y;a.Set(this);return a};Y.prototype.Set=function(a){Nc.prototype.Set.call(this,a);if(a instanceof Y){this.Qd.C(a.Qd);this.Na=a.Na;this.Yl(this.Na);for(var c=0;c<this.Na;c++)this.G[c].C(a.G[c]),this.ta[c].C(a.ta[c])}};Y.prototype.$l=function(a){this.ov(a)};Y.fF=function(a){var c=new Y;c.$l(a);return c};Y.prototype.ov=function(a){var c=
a.length;this.Na=c;this.Yl(c);for(c=c=0;c<this.Na;c++)this.G[c].C(a[c]);for(c=0;c<this.Na;++c)a=T.ub(this.G[c+1<this.Na?c+1:0],this.G[c]),this.ta[c].C(T.gh(a,1)),this.ta[c].Jd();this.Qd=Y.Bz(this.G,this.Na)};Y.jF=function(a){var c=new Y;c.ov(a);return c};Y.prototype.ao=function(a,c){this.Na=4;this.Yl(4);this.G[0].Set(-a,-c);this.G[1].Set(a,-c);this.G[2].Set(a,c);this.G[3].Set(-a,c);this.ta[0].Set(0,-1);this.ta[1].Set(1,0);this.ta[2].Set(0,1);this.ta[3].Set(-1,0);this.Qd.da()};Y.gF=function(a,c){var b=
new Y;b.ao(a,c);return b};Y.prototype.lA=function(a,c,b,d){this.Na=4;this.Yl(4);this.G[0].Set(-a,-c);this.G[1].Set(a,-c);this.G[2].Set(a,c);this.G[3].Set(-a,c);this.ta[0].Set(0,-1);this.ta[1].Set(1,0);this.ta[2].Set(0,1);this.ta[3].Set(-1,0);this.Qd=b;a=new S;a.Set(d);b=new tc(b,a);for(d=0;d<this.Na;++d)this.G[d]=T.Fc(b,this.G[d]),this.ta[d]=T.Zb(b.m,this.ta[d])};Y.iF=function(a,c,b,d){var e=new Y;e.lA(a,c,b,d);return e};Y.prototype.nv=function(a,c){this.Na=2;this.Yl(2);this.G[0].C(a);this.G[1].C(c);
this.Qd.x=.5*(a.x+c.x);this.Qd.y=.5*(a.y+c.y);this.ta[0]=T.gh(T.ub(c,a),1);this.ta[0].Jd();this.ta[1].x=-this.ta[0].x;this.ta[1].y=-this.ta[0].y};Y.hF=function(a,c){var b=new Y;b.nv(a,c);return b};s=Y.prototype;s.rk=function(a,c){for(var b=c.m,d=this.G[0],e=c.position.x+(b.i.x*d.x+b.j.x*d.y),g=c.position.y+(b.i.y*d.x+b.j.y*d.y),f=e,h=g,m=1;m<this.Na;++m)var d=this.G[m],n=c.position.x+(b.i.x*d.x+b.j.x*d.y),d=c.position.y+(b.i.y*d.x+b.j.y*d.y),e=e<n?e:n,g=g<d?g:d,f=f>n?f:n,h=h>d?h:d;a.Ca.x=e-this.Ta;
a.Ca.y=g-this.Ta;a.Ea.x=f+this.Ta;a.Ea.y=h+this.Ta};s.Ml=function(a,c){if(2==this.Na)a.oh.x=.5*(this.G[0].x+this.G[1].x),a.oh.y=.5*(this.G[0].y+this.G[1].y),a.Mg=0,a.xk=0;else{for(var b=0,d=0,e=0,g=0,f=1/3,h=0;h<this.Na;++h)var m=this.G[h],n=h+1<this.Na?this.G[h+1]:this.G[0],l=m.x-0,k=m.y-0,r=n.x-0,p=n.y-0,u=l*p-k*r,t=.5*u,e=e+t,b=b+t*f*(0+m.x+n.x),d=d+t*f*(0+m.y+n.y),m=l,g=g+u*(f*(.25*(m*m+r*m+r*r)+(0*m+0*r))+0+(f*(.25*(k*k+p*k+p*p)+(0*k+0*p))+0));a.Mg=c*e;a.oh.Set(1/e*b,1/e*d);a.xk=c*g}};s.Nn=function(a,
c,b,d){var e=T.hh(b.m,a),g=c-T.Jb(a,b.position),f=[],h=0,m=-1;c=-1;var n=!1;for(a=a=0;a<this.Na;++a){f[a]=T.Jb(e,this.G[a])-g;var l=f[a]<-Number.MIN_VALUE;0<a&&(l?n||(m=a-1,h++):n&&(c=a-1,h++));n=l}switch(h){case 0:return n?(a=new Pc,this.Ml(a,1),d.C(T.Fc(b,a.oh)),a.Mg):0;case 1:-1==m?m=this.Na-1:c=this.Na-1}a=(m+1)%this.Na;e=(c+1)%this.Na;g=(0-f[m])/(f[a]-f[m]);f=(0-f[c])/(f[e]-f[c]);m=A.p(this.G[m].x*(1-g)+this.G[a].x*g,this.G[m].y*(1-g)+this.G[a].y*g);c=A.p(this.G[c].x*(1-f)+this.G[e].x*f,this.G[c].y*
(1-f)+this.G[e].y*f);f=0;g=A.p(0,0);for(h=this.G[a];a!=e;)a=(a+1)%this.Na,n=a==e?c:this.G[a],l=.5*((h.x-m.x)*(n.y-m.y)-(h.y-m.y)*(n.x-m.x)),f+=l,g.x+=l*(m.x+h.x+n.x)/3,g.y+=l*(m.y+h.y+n.y)/3,h=n;g.Id(1/f);d.C(T.Fc(b,g));return f};s.er=function(a){a.G=this.G;a.ja=this.Na;a.Ta=this.Ta};s.Vn=function(a){for(var c=0,b=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.Na;++d){var e=this.G[d].x*a.x+this.G[d].y*a.y;e>b&&(c=d,b=e)}return c};s.Sl=function(a){for(var c=0,b=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.Na;++d){var e=
this.G[d].x*a.x+this.G[d].y*a.y;e>b&&(c=d,b=e)}return this.G[c]};s.Yl=function(a){this.G=[];this.ta=[];for(var c=this.G.length;c<a;c++)this.G[c]=A.p(0,0),this.ta[c]=A.p(0,0)};Y.Bz=function(a,c){for(var b=A.p(0,0),d=0,e=1/3,g=0;g<c;++g){var f=a[g],h=g+1<c?a[g+1]:a[0],m=.5*((f.x-0)*(h.y-0)-(f.y-0)*(h.x-0)),d=d+m;b.x+=m*e*(0+f.x+h.x);b.y+=m*e*(0+f.y+h.y)}b.x*=1/d;b.y*=1/d;return b};Y.EG=new S;Y.Hf="b2PolygonShape";var Qc=function(){this.qr=this.or=this.rr=this.Kd=0};s=Qc.prototype;s.jj=function(a){this.Kd=
a;this.rr=this.Kd&255;this.or=(this.Kd&65280)>>8&255;this.qr=(this.Kd&16711680)>>16&255;this.Av=(this.Kd&4278190080)>>24&255};s.Set=function(a){this.jj(a.Kd)};s.tv=function(a){this.rr=a;this.Kd=this.Kd&4294967040|this.rr&255};s.rv=function(a){this.or=a;this.Kd=this.Kd&4294902015|this.or<<8&65280};s.sv=function(a){this.qr=a;this.Kd=this.Kd&4278255615|this.qr<<16&16711680};s.mA=function(a){this.Av=a;this.Kd=this.Kd&16777215|this.Av<<24&4278190080};s.uc=function(){var a=new Qc;a.Set(this);return a};
var Rc=function(){this.Ze=A.p(0,0);this.id=new Qc};Rc.prototype.Set=function(a){this.Ze.C(a.Ze);this.id.Set(a.id)};var Sc=function(){this.Ca=A.p(0,0);this.Ea=A.p(0,0)},Tc=[],Uc=function(){if(0<Tc.length){var a=Tc.pop();a.da();return a}return new Sc};s=Sc.prototype;s.da=function(){this.Ca.Set(0,0);this.Ea.Set(0,0)};s.Yn=function(){return 0>this.Ea.x-this.Ca.x||0>this.Ea.y-this.Ca.y?!1:this.Ca.Yn()&&this.Ea.Yn()};s.Jz=function(){return A.p((this.Ca.x+this.Ea.x)/2,(this.Ca.y+this.Ea.y)/2)};s.Jq=function(a){var c;
return c=(c=(c=(c=this.Ca.x<=a.Ca.x)&&this.Ca.y<=a.Ca.y)&&a.Ea.x<=this.Ea.x)&&a.Ea.y<=this.Ea.y};s.dm=function(a){return 0<a.Ca.x-this.Ea.x||0<a.Ca.y-this.Ea.y||0<this.Ca.x-a.Ea.x||0<this.Ca.y-a.Ea.y?!1:!0};s.Mn=function(a,c){this.Ca.x=Math.min(a.Ca.x,c.Ca.x);this.Ca.y=Math.min(a.Ca.y,c.Ca.y);this.Ea.x=Math.max(a.Ea.x,c.Ea.x);this.Ea.y=Math.max(a.Ea.y,c.Ea.y)};var Vc=function(a,c,b,d){var e=0,g=c[0].Ze,f=c[1].Ze,h=b.x*g.x+b.y*g.y-d;b=b.x*f.x+b.y*f.y-d;0>=h&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);
0>h*b&&(b=h/(h-b),d=a[e].Ze,d.x=g.x+b*(f.x-g.x),d.y=g.y+b*(f.y-g.y),a[e].id=0<h?c[0].id:c[1].id,e++);return e},Wc=function(a,c,b,d,e){for(var g=c.m.i.x*a.ta[b].x+c.m.j.x*a.ta[b].y,f=c.m.i.y*a.ta[b].x+c.m.j.y*a.ta[b].y,h=e.m.i.x*g+e.m.i.y*f,m=e.m.j.x*g+e.m.j.y*f,n=0,l=Number.MAX_VALUE,k=0;k<d.Na;k++){var r=d.G[k].x*h+d.G[k].y*m;r<l&&(l=r,n=k)}return(e.position.x+(e.m.i.x*d.G[n].x+e.m.j.x*d.G[n].y)-(c.position.x+(c.m.i.x*a.G[b].x+c.m.j.x*a.G[b].y)))*g+(e.position.y+(e.m.i.y*d.G[n].x+e.m.j.y*d.G[n].y)-
(c.position.y+(c.m.i.y*a.G[b].x+c.m.j.y*a.G[b].y)))*f},Xc=function(a,c,b,d){for(var e=d.position.x+(d.m.i.x*b.Qd.x+d.m.j.x*b.Qd.y),g=d.position.y+(d.m.i.y*b.Qd.x+d.m.j.y*b.Qd.y),e=e-(c.position.x+(c.m.i.x*a.Qd.x+c.m.j.x*a.Qd.y)),g=g-(c.position.y+(c.m.i.y*a.Qd.x+c.m.j.y*a.Qd.y)),f=e*c.m.i.x+g*c.m.i.y,g=e*c.m.j.x+g*c.m.j.y,e=0,h=-Number.MAX_VALUE,m=0;m<a.Na;++m){var n=a.ta[m].x*f+a.ta[m].y*g;n>h&&(h=n,e=m)}f=Wc(a,c,e,b,d);g=e-1;0>g&&(g=a.Na-1);h=Wc(a,c,g,b,d);m=e+1;m>=a.Na&&(m=0);var n=Wc(a,c,m,b,
d),l=0,k=0;if(h>f&&h>n)for(l=g,k=h;;)if(e=l-1,0>e&&(e=a.Na-1),f=Wc(a,c,e,b,d),f>k)l=e,k=f;else break;else if(n>f)for(l=m,k=n;;)if(e=l+1,e>=a.Na&&(e=0),f=Wc(a,c,e,b,d),f>k)l=e,k=f;else break;else l=e,k=f;return{Mv:l,rq:k}},Zc=function(a,c,b){var d=new Yc;d.fA(c,b.Qh,b.Bq,b.Rh,b.Cq);for(var e=0;20>e;){for(var g=[],f=0;f<d.ja;f++)g[f]={},g[f].mc=d.G[f].mc,g[f].nc=d.G[f].nc;2==d.ja?d.qA():3==d.ja&&d.rA();if(3==d.ja)break;f=d.Lz();if(f.Zn()<Ic)break;var h=f.ei();d.G[d.ja].mc=b.Qh.Vn(T.hh(b.Bq.m,h));d.G[d.ja].rd=
T.Fc(b.Bq,b.Qh.kd(d.G[d.ja].mc));d.G[d.ja].nc=b.Rh.Vn(T.hh(b.Cq.m,f));d.G[d.ja].Gf=T.Fc(b.Cq,b.Rh.kd(d.G[d.ja].nc));d.G[d.ja].tc=T.ub(d.G[d.ja].Gf,d.G[d.ja].rd);A.jc(f);A.jc(h);e++;h=!1;for(f=0;f<g.length;f++)if(d.G[d.ja].mc==g[f].mc&&d.G[d.ja].nc==g[f].nc){h=!0;break}if(h)break;d.ja++}d.Mz(a.bg,a.cg);a.uh=T.ub(a.bg,a.cg).qg();d.AA(c);b.gz&&(c=b.Qh.Ta,b=b.Rh.Ta,a.uh>c+b&&a.uh>Number.MIN_VALUE?(a.uh-=c+b,d=T.ub(a.cg,a.bg),d.Jd(),a.bg.x+=c*d.x,a.bg.y+=c*d.y,a.cg.x-=b*d.x,a.cg.y-=b*d.y,A.jc(d)):(b=A.p(0,
0),b.x=.5*(a.bg.x+a.cg.x),b.y=.5*(a.bg.y+a.cg.y),a.bg.x=a.cg.x=b.x,a.bg.y=a.cg.y=b.y,a.uh=0,A.jc(b)))},$c=function(){},ad=function(){this.bg=A.p(0,0);this.cg=A.p(0,0);this.uh=0},bd=function(){};bd.prototype.Set=function(a){a.er(this)};bd.prototype.Vn=function(a){for(var c=0,b=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.ja;d++){var e=this.G[d].x*a.x+this.G[d].y*a.y;e>b&&(c=d,b=e)}return c};bd.prototype.Sl=function(a){return this.G[this.Vn(a)]};bd.prototype.kd=function(a){void 0===a&&(a=0);return this.G[a]};
var cd=function(){this.Lg=null};s=cd.prototype;s.Nl=function(a,c){var b=dd(c);b.Ra.Ca.x=a.Ca.x-.1;b.Ra.Ca.y=a.Ca.y-.1;b.Ra.Ea.x=a.Ea.x+.1;b.Ra.Ea.y=a.Ea.y+.1;this.Zu(b);return b};s.Ol=function(a){this.kv(a);a.Fd()};s.Tq=function(a,c,b){if(a.Ra.Jq(c))return!1;this.kv(a);var d=.1+2*Math.abs(b.x);b=.1+2*Math.abs(b.y);a.Ra.Ca.x=c.Ca.x-d;a.Ra.Ca.y=c.Ca.y-b;a.Ra.Ea.x=c.Ea.x+d;a.Ra.Ea.y=c.Ea.y+b;this.Zu(a);return!0};s.Ql=function(a){return a.Ra};s.cr=function(a,c){if(null!==this.Lg){var b=[];for(b.push(this.Lg);0<
b.length;){var d=b.pop();if(d.Ra.dm(c))if(d.$u()){if(!a(d.nf))break}else b.push(d.ne),b.push(d.tg)}}};s.Zu=function(a){if(null===this.Lg)this.Lg=a,this.Lg.parent=null;else{var c=this.Iz(a),b=c.parent,d=dd();d.parent=b;d.Ra.Mn(a.Ra,c.Ra);if(b)for(c.parent.ne==c?b.ne=d:b.tg=d,d.ne=c,d.tg=a,c.parent=d,a.parent=d;b&&!b.Ra.Jq(d.Ra);)b.Ra.Mn(b.ne.Ra,b.tg.Ra),d=b,b=b.parent;else d.ne=c,d.tg=a,c.parent=d,this.Lg=a.parent=d}};s.Iz=function(a){a=a.Ra.Jz();for(var c=this.Lg;!c.$u();)var b=c.ne,c=c.tg,d=Math.abs((b.Ra.Ca.x+
b.Ra.Ea.x)/2-a.x)+Math.abs((b.Ra.Ca.y+b.Ra.Ea.y)/2-a.y),e=Math.abs((c.Ra.Ca.x+c.Ra.Ea.x)/2-a.x)+Math.abs((c.Ra.Ca.y+c.Ra.Ea.y)/2-a.y),c=d<e?b:c;A.jc(a);return c};s.kv=function(a){if(a==this.Lg)this.Lg=null;else{var c=a.parent,b=c.parent;a=c.ne==a?c.tg:c.ne;if(b)for(b.ne==c?b.ne=a:b.tg=a,a.parent=b;b;){a=b.Ra;b.Ra.Mn(b.ne.Ra,b.tg.Ra);if(a.Jq(b.Ra))break;b=b.parent}else this.Lg=a,a.parent=null;c.Fd()}};var ed=function(){this.Oh=new cd;this.Rp=[]};s=ed.prototype;s.Nl=function(a,c){var b=this.Oh.Nl(a,
c);this.Qu(b);return b};s.Ol=function(a){this.xA(a);this.Oh.Ol(a)};s.Tq=function(a,c,b){this.Oh.Tq(a,c,b)&&this.Qu(a)};s.dm=function(a,c){return this.Oh.Ql(a).dm(this.Oh.Ql(c))};s.Ql=function(a){return this.Oh.Ql(a)};s.yA=function(a){for(var c=[];0<this.Rp.length;){var b=this.Rp.pop();this.Oh.cr(function(a){a!=b.nf&&c.push(new fd(b.nf,a));return!0},this.Oh.Ql(b))}for(var d=0;d<c.length;){var e=c[d];a(e.tm,e.um);for(d++;d<c.length;){var g=c[d];if(!(g.tm==e.tm&&g.um==e.um||g.tm==e.um&&g.um==e.tm))break;
d++}}};s.cr=function(a,c){this.Oh.cr(a,c)};s.Qu=function(a){this.Rp.push(a)};s.xA=function(a){Fa(this.Rp,a)};var gd=function(a){this.Ra=Uc();this.nf=this.parent=this.tg=this.ne=null;"undefined"!=typeof a&&(this.nf=a)},hd=[],dd=function(a){if(0<hd.length){var c=hd.pop();"undefined"!=typeof a&&(c.nf=a);c.Ra.da();return c}return new gd(a)};gd.prototype.Fd=function(){this.nf=this.parent=this.tg=this.ne=null;hd.push(this)};gd.prototype.$u=function(){return null===this.ne};var fd=function(a,c){this.tm=
a;this.um=c},jd=function(){this.Ua=this.cc=0;this.ga=[];for(var a=0;2>a;a++)this.ga[a]=new id;this.fd=A.p(0,0);this.qa=A.p(0,0)};jd.prototype.Yc=function(){for(var a=0;2>a;a++)this.ga[a].Yc();this.fd.da();this.qa.da();this.cc=this.Ua=0};jd.prototype.Set=function(a){this.cc=a.cc;for(var c=0;2>c;c++)this.ga[c].Set(a.ga[c]);this.fd.C(a.fd);this.qa.C(a.qa);this.Ua=a.Ua};jd.prototype.uc=function(){var a=new jd;a.Set(this);return a};var id=function(){this.qa=A.p(0,0);this.wf=new Qc;this.Yc()};id.prototype.Yc=
function(){this.qa.da();this.fk=this.bk=0;this.wf.jj(0)};id.prototype.Set=function(a){this.qa.C(a.qa);this.bk=a.bk;this.fk=a.fk;this.wf.Set(a.wf)};var kd=function(){this.qa=A.p(0,0);this.O=A.p(0,0)};kd.prototype.kc=function(a,c,b,d,e){this.Mi=c;this.Ni=d;var g,f,h,m=h=f=0,n=0;d=c=0;var l,k,m=0;1==a.count?(this.Ua=ld,g=this.Mi.kd(a.mc[0]),a=this.Ni.kd(a.nc[0]),k=g,l=b.m,f=b.position.x+(l.i.x*k.x+l.j.x*k.y),h=b.position.y+(l.i.y*k.x+l.j.y*k.y),k=a,l=e.m,m=e.position.x+(l.i.x*k.x+l.j.x*k.y),n=e.position.y+
(l.i.y*k.x+l.j.y*k.y),this.O.x=m-f,this.O.y=n-h,this.O.Jd()):(a.nc[0]==a.nc[1]?(this.Ua=md,c=this.Mi.kd(a.mc[0]),d=this.Mi.kd(a.mc[1]),a=this.Ni.kd(a.nc[0]),this.qa.x=.5*(c.x+d.x),this.qa.y=.5*(c.y+d.y),this.O=T.gh(T.ub(d,c),1),this.O.Jd(),k=this.O,l=b.m,c=l.i.x*k.x+l.j.x*k.y,d=l.i.y*k.x+l.j.y*k.y,k=this.qa,l=b.m,f=b.position.x+(l.i.x*k.x+l.j.x*k.y),h=b.position.y+(l.i.y*k.x+l.j.y*k.y),k=a,l=e.m,m=e.position.x+(l.i.x*k.x+l.j.x*k.y),n=e.position.y+(l.i.y*k.x+l.j.y*k.y),m=(m-f)*c+(n-h)*d):a.mc[0]==
a.mc[0]?(this.Ua=nd,f=this.Ni.kd(a.nc[0]),h=this.Ni.kd(a.nc[1]),g=this.Mi.kd(a.mc[0]),this.qa.x=.5*(f.x+h.x),this.qa.y=.5*(f.y+h.y),this.O=T.gh(T.ub(h,f),1),this.O.Jd(),k=this.O,l=e.m,c=l.i.x*k.x+l.j.x*k.y,d=l.i.y*k.x+l.j.y*k.y,k=this.qa,l=e.m,m=e.position.x+(l.i.x*k.x+l.j.x*k.y),n=e.position.y+(l.i.y*k.x+l.j.y*k.y),k=g,l=b.m,f=b.position.x+(l.i.x*k.x+l.j.x*k.y),h=b.position.y+(l.i.y*k.x+l.j.y*k.y),m=(f-m)*c+(h-n)*d):(c=this.Mi.kd(a.mc[0]),d=this.Mi.kd(a.mc[1]),f=this.Ni.kd(a.nc[0]),h=this.Ni.kd(a.nc[1]),
m=T.Zb(b.m,T.ub(d,c)),n=T.Zb(e.m,T.ub(h,f)),e=m.x*m.x+m.y*m.y,b=n.x*n.x+n.y*n.y,g=T.ub(n,m),a=m.x*g.x+m.y*g.y,g=n.x*g.x+n.y*g.y,n=m.x*n.x+m.y*n.y,l=e*b-n*n,m=0,0!=l&&(m=T.Cb((n*g-a*b)/l,0,1)),0>(n*m+g)/b&&(m=T.Cb((n-a)/e,0,1)),g=A.p(0,0),g.x=c.x+m*(d.x-c.x),g.y=c.y+m*(d.y-c.y),a=A.p(0,0),a.x=f.x+m*(h.x-f.x),a.y=f.y+m*(h.y-f.y),0==m||1==m?(this.Ua=nd,this.O=T.gh(T.ub(h,f),1),this.O.Jd(),this.qa=a):(this.Ua=md,this.O=T.gh(T.ub(d,c),1),this.qa=g)),0>m&&this.O.Wq())};kd.prototype.ng=function(a,c){var b,
d,e=0;switch(this.Ua){case ld:b=T.hh(a.m,this.O);d=T.hh(c.m,this.O.ei());b=this.Mi.Sl(b);d=this.Ni.Sl(d);b=T.Fc(a,b);d=T.Fc(c,d);e=(d.x-b.x)*this.O.x+(d.y-b.y)*this.O.y;break;case md:e=T.Zb(a.m,this.O);b=T.Fc(a,this.qa);d=T.hh(c.m,e.ei());d=this.Ni.Sl(d);d=T.Fc(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case nd:e=T.Zb(c.m,this.O),d=T.Fc(c,this.qa),b=T.hh(a.m,e.ei()),b=this.Mi.Sl(b),b=T.Fc(a,b),e=(b.x-d.x)*e.x+(b.y-d.y)*e.y}return e};var ld=1,md=2,nd=4,Yc=function(){this.ka=new od;this.Ia=new od;this.ue=
new od;this.G=[this.ka,this.Ia,this.ue]};s=Yc.prototype;s.fA=function(a,c,b,d,e){var g,f;this.ja=a.count;for(var h=this.G,m=0;m<this.ja;m++){var n=h[m];n.mc=a.mc[m];n.nc=a.nc[m];g=c.kd(n.mc);f=d.kd(n.nc);n.rd=T.Fc(b,g);n.Gf=T.Fc(e,f);n.tc=T.ub(n.Gf,n.rd);n.H=0}1<this.ja&&(a=a.OD,g=this.Yu(),g<.5*a||2*a<g||g<Number.MIN_VALUE)&&(this.ja=0);0==this.ja&&(n=h[0],n.mc=0,n.nc=0,g=c.kd(0),f=d.kd(0),n.rd=T.Fc(b,g),n.Gf=T.Fc(e,f),n.tc=T.ub(n.Gf,n.rd),this.ja=1)};s.AA=function(a){a.OD=this.Yu();a.count=this.ja;
for(var c=this.G,b=0;b<this.ja;b++)a.mc[b]=c[b].mc,a.nc[b]=c[b].nc};s.Lz=function(){if(1==this.ja)return this.ka.tc.ei();if(2==this.ja){var a=T.ub(this.Ia.tc,this.ka.tc);return 0<T.cj(a,this.ka.tc.ei())?T.Lq(1,a):T.gh(a,1)}return A.p(0,0)};s.Mz=function(a,c){1==this.ja?(a.C(this.ka.rd),c.C(this.ka.Gf)):2==this.ja?(a.x=this.ka.H*this.ka.rd.x+this.Ia.H*this.Ia.rd.x,a.y=this.ka.H*this.ka.rd.y+this.Ia.H*this.Ia.rd.y,c.x=this.ka.H*this.ka.Gf.x+this.Ia.H*this.Ia.Gf.x,c.y=this.ka.H*this.ka.Gf.y+this.Ia.H*
this.Ia.Gf.y):3==this.ja&&(c.x=a.x=this.ka.H*this.ka.rd.x+this.Ia.H*this.Ia.rd.x+this.ue.H*this.ue.rd.x,c.y=a.y=this.ka.H*this.ka.rd.y+this.Ia.H*this.Ia.rd.y+this.ue.H*this.ue.rd.y)};s.Yu=function(){return 1==this.ja?0:2==this.ja?T.ub(this.ka.tc,this.Ia.tc).qg():3==this.ja?T.cj(T.ub(this.Ia.tc,this.ka.tc),T.ub(this.ue.tc,this.ka.tc)):0};s.qA=function(){var a=this.ka.tc,c=this.Ia.tc,b=T.ub(c,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.ja=this.ka.H=1:(c=c.x*b.x+c.y*b.y,0>=c?(this.ja=this.Ia.H=1,this.ka.Set(this.Ia)):
(b=1/(c+a),this.ka.H=c*b,this.Ia.H=a*b,this.ja=2))};s.rA=function(){var a=this.ka.tc,c=this.Ia.tc,b=this.ue.tc,d=T.ub(c,a),e=T.Jb(c,d),g=-T.Jb(a,d),f=T.ub(b,a),h=T.Jb(b,f),m=-T.Jb(a,f),n=T.ub(b,c),l=T.Jb(b,n),n=-T.Jb(c,n),f=T.cj(d,f),d=f*T.cj(c,b),b=f*T.cj(b,a),a=f*T.cj(a,c);0>=g&&0>=m?this.ja=this.ka.H=1:0<e&&0<g&&0>=a?(h=1/(e+g),this.ka.H=e*h,this.Ia.H=g*h,this.ja=2):0<h&&0<m&&0>=b?(e=1/(h+m),this.ka.H=h*e,this.ue.H=m*e,this.ja=2,this.Ia.Set(this.ue)):0>=e&&0>=n?(this.ja=this.Ia.H=1,this.ka.Set(this.Ia)):
0>=h&&0>=l?(this.ja=this.ue.H=1,this.ka.Set(this.ue)):0<l&&0<n&&0>=d?(e=1/(l+n),this.Ia.H=l*e,this.ue.H=n*e,this.ja=2,this.ka.Set(this.ue)):(e=1/(d+b+a),this.ka.H=d*e,this.Ia.H=b*e,this.ue.H=a*e,this.ja=3)};var pd=function(){this.mc=[0,0,0];this.nc=[0,0,0]},od=function(){};od.prototype.Set=function(a){this.rd.C(a.rd);this.Gf.C(a.Gf);this.tc.C(a.tc);this.H=a.H;this.mc=a.mc;this.nc=a.nc};var qd=function(){this.Qh=new bd;this.Rh=new bd;this.My=new Lc;this.Ny=new Lc},rd=function(){this.ra=A.p(0,0);this.ga=
[];for(var a=this.cc=0;2>a;a++)this.ga[a]=A.p(0,0)};rd.prototype.kc=function(a,c,b,d,e){if(0!=a.cc){var g=0,f,h,m=0,n=0,l=0,k=0,r=0;f=0;switch(a.Ua){case 1:h=c.m;f=a.qa;g=c.position.x+h.i.x*f.x+h.j.x*f.y;c=c.position.y+h.i.y*f.x+h.j.y*f.y;h=d.m;f=a.ga[0].qa;a=d.position.x+h.i.x*f.x+h.j.x*f.y;d=d.position.y+h.i.y*f.x+h.j.y*f.y;f=a-g;h=d-c;m=f*f+h*h;m>Ic?(m=Math.sqrt(m),this.ra.x=f/m,this.ra.y=h/m):(this.ra.x=1,this.ra.y=0);f=c+b*this.ra.y;d-=e*this.ra.y;this.ga[0].x=.5*(g+b*this.ra.x+(a-e*this.ra.x));
this.ga[0].y=.5*(f+d);break;case 2:h=c.m;f=a.fd;m=h.i.x*f.x+h.j.x*f.y;n=h.i.y*f.x+h.j.y*f.y;h=c.m;f=a.qa;l=c.position.x+h.i.x*f.x+h.j.x*f.y;k=c.position.y+h.i.y*f.x+h.j.y*f.y;this.ra.x=m;this.ra.y=n;for(g=0;g<a.cc;g++)h=d.m,f=a.ga[g].qa,r=d.position.x+h.i.x*f.x+h.j.x*f.y,f=d.position.y+h.i.y*f.x+h.j.y*f.y,this.ga[g].x=r+.5*(b-(r-l)*m-(f-k)*n-e)*m,this.ga[g].y=f+.5*(b-(r-l)*m-(f-k)*n-e)*n;break;case 4:for(h=d.m,f=a.fd,m=h.i.x*f.x+h.j.x*f.y,n=h.i.y*f.x+h.j.y*f.y,h=d.m,f=a.qa,l=d.position.x+h.i.x*f.x+
h.j.x*f.y,k=d.position.y+h.i.y*f.x+h.j.y*f.y,this.ra.x=-m,this.ra.y=-n,g=0;g<a.cc;g++)h=c.m,f=a.ga[g].qa,r=c.position.x+h.i.x*f.x+h.j.x*f.y,f=c.position.y+h.i.y*f.x+h.j.y*f.y,this.ga[g].x=r+.5*(e-(r-l)*m-(f-k)*n-b)*m,this.ga[g].y=f+.5*(e-(r-l)*m-(f-k)*n-b)*n}}};var vc=function(a,c){this.Hd="Body"+vc.Vq++;this.u=new tc;this.u.position.C(a.position);this.u.m.Set(a.L);this.k=new Lc;this.k.K.da();this.k.Ed=1;this.k.df=this.k.H=a.L;this.k.q.x=this.u.m.i.x*this.k.K.x+this.u.m.j.x*this.k.K.y;this.k.q.y=
this.u.m.i.y*this.k.K.x+this.u.m.j.y*this.k.K.y;this.k.q.x+=this.u.position.x;this.k.q.y+=this.u.position.y;this.k.bd.C(this.k.q);this.n=a.ct.uc();this.Ih=A.p(0,0);this.cl=a.rj;this.uD=a.bs;this.kt=a.Ev;this.lt=a.Jv;this.Wm=a.vd;this.Ja=c;this.Gb=null;this.Xd=new sd;this.uj=new td;this.B=a.Fv;this.BD=a.Tj;this.pD=a.oj;this.gn=this.gk=0;this.Ua=a.type;this.P=this.Ua==X.Gc?1:0;this.D=this.Ua==X.Gc?1:0;this.M=this.uf=0;this.yD=a.Fw;this.Ok=new ud;this.Pp=[]};s=vc.prototype;s.sk=function(a){a=new uc(this,
this.u,a);this.Wm&&a.Nl(this.Ja.Rd.bl,this.u);this.Ok.nz(a);a.Ym=this;0<a.Lp&&this.mv();this.Ja.yt=!0;return a};s.Fd=function(){A.jc(this.n);A.jc(this.Ih)};s.Su=function(a){this.Ok.gA(a);for(var c=this.Xd.Ka(vd);c;c=c.next)a!=c.Mc.Lb&&a!=c.Mc.Fb||this.Ja.Rd.Fd(c.Mc);this.Wm&&a.Ol(this.Ja.Rd.bl);a.Fd();a.Ym=null;this.mv()};s.am=function(a,c){this.u.m.Set(c);this.u.position.C(a);var b=this.u.m,d=this.k.K;this.k.q.x=b.i.x*d.x+b.j.x*d.y;this.k.q.y=b.i.y*d.x+b.j.y*d.y;this.k.q.x+=this.u.position.x;this.k.q.y+=
this.u.position.y;this.k.bd.C(this.k.q);this.k.df=this.k.H=c;b=this.Ja.Rd.bl;for(d=this.Ok.Ka();d;d=d.next)d.nf.vv(b,this.u,this.u);this.Ja.Rd.Rn()};s.je=function(){return this.u};s.gr=function(a){this.am(a,this.Gd())};s.Gd=function(){return this.k.H};s.$n=function(a){this.am(this.u.position,a)};s.wk=function(){return this.k.q};s.fj=function(){return this.k.K};s.kj=function(a){this.Ua!=X.Ge&&this.n.C(a)};s.ej=function(){return this.n};s.Zl=function(a){void 0===a&&(a=0);this.Ua!=X.Ge&&(this.B=a)};
s.Sn=function(){return this.B};s.lg=function(a,c){this.Ua==X.Gc&&(this.md(!0),this.Ih.x+=a.x,this.Ih.y+=a.y,this.gk+=(c.x-this.k.q.x)*a.y-(c.y-this.k.q.y)*a.x)};s.Jn=function(a){void 0===a&&(a=0);this.Ua==X.Gc&&(this.md(!0),this.gk+=a)};s.vk=function(){return this.P};s.Xu=function(a){a||(a=new Pc);a.Mg=this.P;a.xk=this.uf;a.oh.C(this.k.K);return a};s.mv=function(){this.M=this.uf=this.D=this.P=0;this.k.K.da();if(this.Ua!=X.Ge&&this.Ua!=X.Lv){for(var a=A.p(0,0),c=this.Ok.Ka();c;c=c.next){var b=c.nf;
0!=b.Lp&&(b=b.Xu(),this.P+=b.Mg,a.x+=b.oh.x*b.Mg,a.y+=b.oh.y*b.Mg,this.uf+=b.xk)}0<this.P?(this.D=1/this.P,a.x*=this.D,a.y*=this.D):this.D=this.P=1;0<this.uf&&!this.uD?(this.uf-=this.P*(a.x*a.x+a.y*a.y),this.uf*=this.yD,this.M=1/this.uf):this.M=this.uf=0;c=this.k.q.uc();this.k.K.C(a);this.k.bd.C(T.Fc(this.u,this.k.K));this.k.q.C(this.k.bd);this.n.x+=this.B*-(this.k.q.y-c.y);this.n.y+=this.B*+(this.k.q.x-c.x);A.jc(a);A.jc(c)}};s.Wn=function(a){var c=this.u.m;a=A.p(c.i.x*a.x+c.j.x*a.y,c.i.y*a.x+c.j.y*
a.y);a.x+=this.u.position.x;a.y+=this.u.position.y;return a};s.Rq=function(a){return T.Zb(this.u.m,a)};s.td=function(a){return T.Uq(this.u,a)};s.Qq=function(a){return T.hh(this.u.m,a)};s.Kz=function(a){return A.p(this.n.x-this.B*(a.y-this.k.q.y),this.n.y+this.B*(a.x-this.k.q.x))};s.Xc=function(){return this.Ua};s.md=function(a){if(this.lt!=a)for(this.lt=a,this.gn=0,a||(this.n.da(),this.B=0,this.Ih.da(),this.gk=0),a=0;a<this.Pp.length;a++)this.Pp[a].yv(this)};s.ud=function(){return this.lt};s.hj=function(){return this.Wm};
s.Oq=function(){return this.Ok};s.Jl=function(a){this.uj.Jl(a)};s.Xl=function(a){this.uj.Xl(a)};s.di=function(){return this.Xd};s.wv=function(){var a=vc.CE;a.m.Set(this.k.df);var c=a.m,b=this.k.K;a.position.x=this.k.bd.x-(c.i.x*b.x+c.j.x*b.y);a.position.y=this.k.bd.y-(c.i.y*b.x+c.j.y*b.y);c=this.Ja.Rd.bl;for(b=this.Ok.Ka();b;b=b.next)b.nf.vv(c,a,this.u)};s.Kb=function(){this.u.m.Set(this.k.H);var a=this.u.m,c=this.k.K;this.u.position.x=this.k.q.x-(a.i.x*c.x+a.j.x*c.y);this.u.position.y=this.k.q.y-
(a.i.y*c.x+a.j.y*c.y)};s.lj=function(a){if(this.Ua!=X.Gc&&a.Ua!=X.Gc)return!1;for(var c=this.Gb;c;c=c.next)if(c.Ve==a&&0==c.Dh.wx)return!1;return!0};s.ci=function(a){this.k.ci(a);this.k.q.C(this.k.bd);this.k.H=this.k.df;this.Kb()};vc.Vq=0;var X=function(){this.position=A.p(0,0);this.ct=A.p(0,0);this.oj=this.Tj=this.Fv=this.L=0;this.Jv=this.Ev=!0;this.rj=this.bs=!1;this.type=X.Ge;this.vd=!0;this.Fw=1};X.Ge=0;X.Lv=1;X.Gc=2;var xd=function(){this.mo=[];for(var a=0;a<=wd;a++)this.mo[a]=null;this.no=[];
for(a=0;a<=wd;a++)this.no[a]=null;this.Dk={}};s=xd.prototype;s.Ka=function(a){return this.mo[a]};s.pk=function(a){var c=a.Hd;null==this.Dk[c]&&(this.mg(a,c,wd),this.yv(a),a.Pp.push(this))};s.yv=function(a){var c=a.Xc(),b=a.Hd,d=a.ud(),e=a.hj();c==X.Gc?this.mg(a,b,yd):this.rg(b,yd);c!=X.Ge?this.mg(a,b,zd):this.rg(b,zd);c!=X.Ge&&e&&d?this.mg(a,b,Ad):this.rg(b,Ad);d?this.mg(a,b,Bd):this.rg(b,Bd);e?this.mg(a,b,Cd):this.rg(b,Cd)};s.Wl=function(a){var c=a.Hd;if(null!=this.Dk[c]){Fa(a.Pp,this);for(a=0;a<=
wd;a++)this.rg(c,a);delete this.Dk[c]}};s.rg=function(a,c){var b=this.Dk[a];if(null!=b){var d=b[c];null!=d&&(b[c]=null,b=d.Cf,d=d.next,null==b?this.mo[c]=d:b.Jf(d),null==d?this.no[c]=b:d.Kf(b))}};s.mg=function(a,c,b){var d=this.Dk[c];if(null==d){for(var d=[],e=0;e<=wd;e++)d[e]=null;this.Dk[c]=d}null==d[b]&&(d[b]=new Dd(a),a=this.no[b],null!=a?a.Jf(d[b]):this.mo[b]=d[b],d[b].Kf(a),this.no[b]=d[b])};var yd=0,zd=1,Cd=2,Ad=3,Bd=4,wd=5,Dd=function(a){this.body=a;this.Cf=this.next=null};Dd.prototype.Jf=
function(a){this.next=a};Dd.prototype.Kf=function(a){this.Cf=a};Dd.prototype.Qa=function(){return this.body};var xc=function(){};xc.prototype.lj=function(a,c){var b=a.Wu(),d=c.Wu();return b.Bi==d.Bi&&0!=b.Bi?0<b.Bi:0!=(b.kl&d.Ek)&&0!=(b.Ek&d.kl)};xc.XA=new xc;var Ed=function(){this.SD=[];this.PE=[]},wc=function(){};wc.prototype.Kn=function(){};var Gd=function(a){this.Ja=a;this.mt=xc.XA;this.Gh=wc.Kv;this.xx=new Fd;this.bl=new ed};Gd.prototype.pz=function(a,c){var b=a.Qa(),d=c.Qa();if(b!=d&&d.lj(b)&&
this.mt.lj(a,c)){for(b=d.Xd.Ka(vd);b;b=b.next)if(d=b.Mc.Lb,d==a){if(d=b.Mc.Fb,d==c)return}else if(d==c&&(d=b.Mc.Fb,d==a))return;this.xx.bf(a,c)}};Gd.prototype.Rn=function(){var a=this;this.bl.yA(function(c,b){a.pz(c,b)})};Gd.prototype.Fd=function(a){0<a.Te.cc&&(a.Lb.Qa().md(!0),a.Fb.Qa().md(!0));a.hA();this.xx.Fd(a)};Gd.prototype.xz=function(){for(var a=this.Ja.Xd.Ka(vd);a;a=a.next){var c=a.Mc,b=c.Lb,d=c.Fb,e=b.Qa(),g=d.Qa();if(0!=e.ud()||0!=g.ud()){if(c.To){if(0==g.lj(e)){this.Fd(c);continue}if(0==
this.mt.lj(b,d)){this.Fd(c);continue}c.wz()}0==this.bl.dm(b.ck,d.ck)?this.Fd(c):c.xv(this.Gh)}}};var Hd=function(){this.Ek=1;this.kl=65535;this.Bi=0};Hd.prototype.uc=function(){var a=new Hd;a.Ek=this.Ek;a.kl=this.kl;a.Bi=this.Bi;return a};var uc=function(a,c,b){this.Hd="Fixture"+uc.Vq++;this.tD=b.filter.uc();this.Yj=Uc();this.Ym=a;this.Nh=b.shape.uc();this.Lp=b.Qf;this.pt=b.zg;this.zt=b.Vg;this.Np=b.Ls};s=uc.prototype;s.Ec=function(){return this.Nh};s.ij=function(){return this.Np};s.Wu=function(){return this.tD.uc()};
s.Qa=function(){return this.Ym};s.Xu=function(a){a||(a=new Pc);this.Nh.Ml(a,this.Lp);return a};s.Fd=function(){Tc.push(this.Yj)};s.Nl=function(a,c){this.Nh.rk(this.Yj,c);this.ck=a.Nl(this.Yj,this)};s.Ol=function(a){null!=this.ck&&(a.Ol(this.ck),this.ck=null)};s.vv=function(a,c,b){if(this.ck){var d=Uc(),e=Uc();this.Nh.rk(d,c);this.Nh.rk(e,b);this.Yj.Mn(d,e);Tc.push(d);Tc.push(e);c=T.ub(b.position,c.position);a.Tq(this.ck,this.Yj,c);A.jc(c)}};uc.Vq=0;var Ac=function(){this.filter=new Hd;this.filter.Ek=
1;this.filter.kl=65535;this.filter.Bi=0;this.shape=null;this.zg=.2;this.Qf=this.Vg=0;this.Ls=!1},ud=function(){this.ds=this.cs=null;this.Vo={}};ud.prototype.Ka=function(){return this.cs};ud.prototype.nz=function(a){var c=a.Hd;if(null==this.Vo[c]){a=new Id(a);var b=this.ds;null!=b?b.Jf(a):this.cs=a;a.Kf(b);this.ds=a;this.Vo[c]=a}};ud.prototype.gA=function(a){a=a.Hd;var c=this.Vo[a];if(null!=c){var b=c.Cf,c=c.next;null==b?this.cs=c:b.Jf(c);null==c?this.ds=b:c.Kf(b);delete this.Vo[a]}};var Id=function(a){this.nf=
a;this.Cf=this.next=null};Id.prototype.Jf=function(a){this.next=a};Id.prototype.Kf=function(a){this.Cf=a};var Jd=function(a,c){this.CD=a;this.Yf=c;this.Fg=[];this.Mp=[];this.Li=[];this.Hh=[];this.Bd=[]};s=Jd.prototype;s.Ln=function(){this.Fg=[];this.Mp=[];this.Li=[];this.Hh=[];this.Bd=[]};s.hi=function(a,c,b){this.GA(a,c);this.Yf.kc(a,this.Hh,this.Hh.length);this.MA(a);this.IA(a);this.JA(a);this.lv(this.Yf.Gg);b&&this.HA(a)};s.GA=function(a,c){for(var b=0;b<this.Mp.length;b++){var d=this.Mp[b];d.n.x+=
a.Ba*(c.x+d.D*d.Ih.x);d.n.y+=a.Ba*(c.y+d.D*d.Ih.y);d.B+=a.Ba*d.M*d.gk;d.n.Id(T.Cb(1-a.Ba*d.BD,0,1));d.B*=T.Cb(1-a.Ba*d.pD,0,1)}};s.MA=function(a){this.Yf.cf(a);for(var c=0;c<this.Bd.length;c++)this.Bd[c].cf(a);for(c=0;c<a.Fn;c++){for(var b=0;b<this.Bd.length;b++)this.Bd[b].De(a);this.Yf.De()}for(a=0;a<this.Bd.length;a++)this.Bd[a].Mq();this.Yf.Mq()};s.IA=function(a){for(var c=0;c<this.Li.length;++c){var b=this.Li[c],d=a.Ba*b.n.x,e=a.Ba*b.n.y;4<d*d+e*e&&(b.n.Jd(),b.n.x=2*b.n.x*a.Ah,b.n.y=2*b.n.y*a.Ah);
d=a.Ba*b.B;d*d>Gc&&(b.B=0>b.B?-Fc*a.Ah:Fc*a.Ah);b.k.bd.C(b.k.q);b.k.df=b.k.H;b.k.q.x+=a.Ba*b.n.x;b.k.q.y+=a.Ba*b.n.y;b.k.H+=a.Ba*b.B;b.Kb()}};s.JA=function(a){for(var c=0;c<a.nn;c++){for(var b=this.Yf.Ce(.2),d=!0,e=0;e<this.Bd.length;e++)var g=this.Bd[e].Ce(.2),d=d&&g;if(b&&d)break}};s.HA=function(a){for(var c=Number.MAX_VALUE,b=0;b<this.Li.length;b++){var d=this.Li[b];!d.kt||Math.abs(d.B)>Hc||1E-4<T.Jb(d.n,d.n)?c=d.gn=0:(d.gn+=a.Ba,c=Math.min(c,d.gn))}if(.5<=c)for(a=0;a<this.Fg.length;a++)this.Fg[a].md(!1)};
s.ir=function(a){var c=0,b=0;this.Yf.kc(a,this.Hh,this.Hh.length);for(var d=this.Yf,c=0;c<this.Bd.length;++c)this.Bd[c].cf(a);for(c=0;c<a.Fn;++c)for(d.De(),b=0;b<this.Bd.length;++b)this.Bd[b].De(a);for(c=0;c<this.Li.length;++c){var b=this.Li[c],e=a.Ba*b.n.x,g=a.Ba*b.n.y;4<e*e+g*g&&(b.n.Jd(),b.n.x=2*b.n.x*a.Ah,b.n.y=2*b.n.y*a.Ah);e=a.Ba*b.B;e*e>Gc&&(b.B=0>b.B?-Fc*a.Ah:Fc*a.Ah);b.k.bd.C(b.k.q);b.k.df=b.k.H;b.k.q.x+=a.Ba*b.n.x;b.k.q.y+=a.Ba*b.n.y;b.k.H+=a.Ba*b.B;b.Kb()}for(c=0;c<a.nn;++c){e=d.Ce(.75);
g=!0;for(b=0;b<this.Bd.length;++b)var f=this.Bd[b].Ce(.2),g=g&&f;if(e&&g)break}this.lv(d.Gg)};s.lv=function(a){if(null!=this.CD)for(var c=0;c<this.Hh.length;++c)for(var b=a[c],d=new Ed,e=0;e<b.Bf;++e)d.SD[e]=b.hc[e].fc,d.PE[e]=b.hc[e].Zg};s.pk=function(a){this.Fg.push(a);a.Xc()!=X.Ge&&(this.Li.push(a),a.Xc()==X.Gc&&this.Mp.push(a))};s.qk=function(a){this.Hh.push(a)};s.Ou=function(a){this.Bd.push(a)};var Kd=function(a,c,b,d,e){this.Ba=a;var g=0;0<a&&(g=1/a);this.Ah=g;this.wc=c;this.nn=b;this.Fn=d;
this.ai=e},yc=function(a,c){this.Rd=new Gd(this);this.Yf=new Ld;this.yt=!1;this.$c=new xd;this.Xd=new sd;this.Gb=null;this.uj=new td;this.Op=0;this.rD=this.ID=!0;this.kt=c;this.yx=a;this.zx=0;this.xD=this.Kq(new X)};yc.Rz=1-100*Number.MIN_VALUE;s=yc.prototype;s.pv=function(a){this.Rd.mt=a};s.qv=function(a){this.Rd.Gh=a};s.Kq=function(a){a=new vc(a,this);this.$c.pk(a);return a};s.Pn=function(a){for(var c=a.Gb;c;){var b=c,c=c.next;this.Qn(b.Dh)}for(c=a.uj.Ka();c;c=c.next)c.Xv.Wl(a);for(c=a.Xd.Ka(vd);c;c=
c.next)this.Rd.Fd(c.Mc);for(c=a.Oq().Ka();c;c=c.next)a.Su(c.nf);a.Fd();this.$c.Wl(a)};s.On=function(a){var c=Z.bf(a);c.el=null;if(c.Ki=this.Gb)this.Gb.el=c;this.Gb=c;this.Op++;c.Sd.Dh=c;c.Sd.Ve=c.S;c.Sd.prev=null;if(c.Sd.next=c.R.Gb)c.R.Gb.prev=c.Sd;c.R.Gb=c.Sd;c.Td.Dh=c;c.Td.Ve=c.R;c.Td.prev=null;if(c.Td.next=c.S.Gb)c.S.Gb.prev=c.Td;c.S.Gb=c.Td;var b=a.I,d=a.J;if(!a.Hr)for(a=d.Xd.Ka(vd);a;a=a.next)a.Mc.Un(d)==b&&a.Mc.Uu();return c};s.Qn=function(a){var c=a.wx;a.el&&(a.el.Ki=a.Ki);a.Ki&&(a.Ki.el=
a.el);a==this.Gb&&(this.Gb=a.Ki);var b=a.R,d=a.S;b.md(!0);d.md(!0);a.Sd.prev&&(a.Sd.prev.next=a.Sd.next);a.Sd.next&&(a.Sd.next.prev=a.Sd.prev);a.Sd==b.Gb&&(b.Gb=a.Sd.next);a.Sd.prev=null;a.Sd.next=null;a.Td.prev&&(a.Td.prev.next=a.Td.next);a.Td.next&&(a.Td.next.prev=a.Td.prev);a.Td==d.Gb&&(d.Gb=a.Td.next);a.Td.prev=null;a.Td.next=null;this.Op--;if(!c)for(a=d.Xd.Ka(vd);a;a=a.next)a.Mc.Un(d)==b&&a.Mc.Uu()};s.Jl=function(a){if(null!==a.Ja&&a.Ja!=this)throw Error("Controller can only be a member of one world");
this.uj.Jl(a);a.Ja=this;return a};s.Xl=function(a){this.uj.Xl(a);a.Ja=null;a.Ln()};s.ih=function(a,c,b){this.yt&&(this.Rd.Rn(),this.yt=!1);a=new Kd(a,this.zx*a,c,b,this.ID);this.Rd.xz();0<a.Ba&&(this.hi(a),this.rD&&this.ir(a),this.zx=a.Ah)};s.Ru=function(){for(var a=this.$c.Ka(yd);a;a=a.next)a.body.Ih.da(),a.body.gk=0};s.di=function(){return this.Xd};var Md=[];yc.prototype.hi=function(a){for(var c=this.uj.Ka();c;c=c.next)c.Xv.ih(a);for(var c=new Jd(this.Rd.Gh,this.Yf),b=this.$c.Ka(wd);b;b=b.next)b.body.yb=
!1;for(var d=this.Xd.Ka(vd);d;d=d.next)d.Mc.yb=!1;for(b=this.Gb;b;b=b.Ki)b.yb=!1;for(b=this.$c.Ka(Ad);b;b=b.next)if(d=b.body,!d.yb){c.Ln();Md.length=0;var e=Md;e.push(d);for(d.yb=!0;0<e.length;){var g=e.pop();c.pk(g);g.ud()||g.md(!0);if(g.Xc()!=X.Ge){for(d=g.Xd.Ka(Nd);d;d=d.next){var f=d.Mc;f.yb||(c.qk(f),f.yb=!0,f=f.Un(g),f.yb||(e.push(f),f.yb=!0))}for(d=g.Gb;d;d=d.next)!d.Dh.yb&&d.Ve.hj()&&(c.Ou(d.Dh),d.Dh.yb=!0,d.Ve.yb||(e.push(d.Ve),d.Ve.yb=!0))}}c.hi(a,this.yx,this.kt)}for(b=this.$c.Ka(Ad);b;b=
b.next)b.body.wv();this.Rd.Rn()};yc.prototype.ir=function(a){for(var c=new Jd(this.Rd.Gh,this.Yf),b=this.$c.Ka(wd);b;b=b.next){var d=b.body;d.yb=!1;d.k.Ed=0}for(var e=this.Xd.Ka(vd);e;e=e.next)e.Mc.yb=!1,e.Mc.il=null;for(b=this.Gb;b;b=b.Ki)b.yb=!1;for(;;){var b=this.KA(),g=b.PD,b=b.QD;if(null===g||yc.Rz<b)break;e=g.Lb.Qa();d=g.Fb.Qa();yc.wy.Set(e.k);yc.xy.Set(d.k);e.ci(b);d.ci(b);g.xv(this.Rd.Gh);g.il=null;if(g.qq||!g.enabled)e.k.Set(yc.wy),d.k.Set(yc.xy),e.Kb(),d.Kb();else if(g.Bn){e.Xc()!=X.Gc&&
(e=d);c.Ln();Md.length=0;g=Md;g.push(e);for(e.yb=!0;0<g.length;)if(d=g.pop(),c.pk(d),d.ud()||d.md(!0),d.Xc()==X.Gc){for(e=d.Xd.Ka(Nd);e&&32!=c.qD;e=e.next){var f=e.Mc;f.yb||(c.qk(f),f.yb=!0,f=f.Un(d),f.yb||(f.Xc()!=X.Ge&&(f.ci(b),f.md(!0),g.push(f)),f.yb=!0))}for(d=d.Gb;d;d=d.next)32!=c.Op&&!d.Dh.yb&&d.Ve.hj()&&(c.Ou(d.Dh),d.Dh.yb=!0,d.Ve.yb||(d.Ve.Xc()!=X.Ge&&(d.Ve.ci(b),d.Ve.md(!0),g.push(d.Ve)),d.Ve.yb=!0))}c.ir(new Kd((1-b)*a.Ba,0,a.Fn,a.nn,!1));for(b=0;b<c.Fg.length;b++)if(c.Fg[b].yb=!1,c.Fg[b].ud()&&
c.Fg[b].Xc()==X.Gc)for(c.Fg[b].wv(),e=c.Fg[b].Xd.Ka(vd);e;e=e.next)e.Mc.il=null;for(b=0;b<c.qD;b++)c.Hh[b].yb=!1,c.Hh[b].il=null;for(b=0;b<c.Op;b++)c.Bd[b].yb=!1;this.Rd.Rn()}}};yc.prototype.KA=function(){for(var a=null,c=1,b=this.Xd.Ka(Od);b;b=b.next){var d=b.Mc;if(!this.LA(d)){var e=1;if(null!=d.il)e=d.il;else{if(d.Bn)e=1;else{var e=d.Lb.Qa(),g=d.Fb.Qa(),f=e.k.Ed;e.k.Ed<g.k.Ed?(f=g.k.Ed,e.k.ci(f)):g.k.Ed<e.k.Ed&&(f=e.k.Ed,g.k.ci(f));e=d.Cz(e.k,g.k);0<e&&1>e&&(e=(1-e)*f+e)}d.il=e}Number.MIN_VALUE<
e&&e<c&&(a=d,c=e)}}return{PD:a,QD:c}};yc.prototype.LA=function(a){var c=a.Lb.Qa();a=a.Fb.Qa();return c.Xc()==X.Gc&&c.ud()||a.Xc()==X.Gc&&a.ud()?!1:!0};var Qd=function(a,c){this.Hd="Contact"+Pd++;this.Te=new jd;this.dn=new jd;this.Bn=!1;var b=a.Qa(),d=c.Qa();this.Ir=b.Xc()!=X.Gc||b.cl||d.Xc()!=X.Gc||d.cl;this.qq=a.ij()||c.ij();this.To=!1;this.Lb=a;this.Fb=c;this.enabled=!0;this.ko=b.di();this.lo=d.di();this.Iq=d.Ja.di();this.Pu()};s=Qd.prototype;s.Yc=function(a,c){this.Te.Yc();this.dn.Yc();this.Bn=
!1;var b=a.Qa(),d=c.Qa();this.Ir=b.Xc()!=X.Gc||b.cl||d.Xc()!=X.Gc||d.cl;this.qq=a.ij()||c.ij();this.To=!1;this.Lb=a;this.Fb=c;this.enabled=!0;this.ko=b.di();this.lo=d.di();this.Iq=d.Ja.di();this.Pu()};s.Pu=function(){this.ko.qk(this);this.lo.qk(this);this.Iq.qk(this);this.zv()};s.zv=function(){var a=!1,c=!1;!this.ij()&&this.Xn()&&(this.Sq()&&(a=!0),this.Ir&&(c=!0));this.ko.lr(this,a,c);this.lo.lr(this,a,c);this.Iq.lr(this,a,c)};s.hA=function(){this.ko.dr(this);this.lo.dr(this);this.Iq.dr(this)};s.Sq=
function(){return this.Bn};s.ij=function(){return this.qq};s.Xn=function(){return this.enabled};s.Un=function(a){var c=this.Lb.Qa();return c!=a?c:this.Fb.Qa()};s.Uu=function(){this.To=!0};s.wz=function(){this.To=!1};s.xv=function(a){var c=this.dn;this.dn=this.Te;this.Te=c;this.enabled=!0;var b=!1,c=this.Sq(),d=this.Lb.Qa(),e=this.Fb.Qa(),g=this.Lb.Yj.dm(this.Fb.Yj);if(this.qq){if(g){var b=this.Lb.Ec(),d=d.je(),g=this.Fb.Ec(),f=e.je(),e=new $c;e.Qh=new bd;e.Qh.Set(b);e.Rh=new bd;e.Rh.Set(g);e.Bq=d;
e.Cq=f;e.gz=!0;d=new pd;d.count=0;b=new ad;Zc(b,d,e);b=b.uh<10*Number.MIN_VALUE}this.Te.cc=0}else{this.Ir=d.Xc()!=X.Gc||d.cl||e.Xc()!=X.Gc||e.cl?!0:!1;if(g)for(this.ng(),b=0<this.Te.cc,g=0;g<this.Te.cc;g++){f=this.Te.ga[g];f.bk=0;for(var h=f.fk=0;h<this.dn.cc;h++){var m=this.dn.ga[h];if(m.wf.Kd==f.wf.Kd){f.bk=m.bk;f.fk=m.fk;break}}}else this.Te.cc=0;b!=c&&(d.md(!0),e.md(!0))}this.Bn=b;b!=c&&this.zv();!c&&b&&a.Kn(this)};s.ng=function(){};s.Cz=function(a,c){Rd.Qh.Set(this.Lb.Ec());Rd.Rh.Set(this.Fb.Ec());
Rd.My=a;Rd.Ny=c;Rd.WE=.005;var b=Rd;Sd++;var d=b.Qh,e=b.Rh,g=b.My,f=b.Ny,h=d.Ta+e.Ta,b=b.WE,m=0,n=0,l=0;Td.count=0;for(Ud.gz=!1;;){g.je(Vd,m);f.je(Wd,m);Ud.Qh=d;Ud.Rh=e;Ud.Bq=Vd;Ud.Cq=Wd;Zc(Xd,Td,Ud);if(0>=Xd.uh){m=1;break}Yd.kc(Td,d,Vd,e,Wd);var k=Yd.ng(Vd,Wd);if(0>=k){m=1;break}0==n&&(l=k>h?Math.max(h-b,.75*h):Math.max(k-b,.02*h));if(k-l<.5*b){if(0==n){m=1;break}break}var r=m,p=m,u=1;g.je(Vd,u);f.je(Wd,u);var t=Yd.ng(Vd,Wd);if(t>=l){m=1;break}for(var q=0;;){var B=0,B=q&1?p+(l-k)*(u-p)/(t-k):.5*
(p+u);g.je(Vd,B);f.je(Wd,B);var y=Yd.ng(Vd,Wd);if(Math.abs(y-l)<.025*b){r=B;break}y>l?(p=B,k=y):(u=B,t=y);q++;Zd++;if(50==q)break}$d=Math.max($d,q);if(r<(1+100*Number.MIN_VALUE)*m)break;m=r;n++;ae++;if(1E3==n)break}be=Math.max(be,n);return m};var Rd=new qd,Pd=0,ce=function(a,c){Qd.call(this,a,c)};x(ce,Qd);ce.prototype.Yc=function(a,c){Qd.prototype.Yc.call(this,a,c)};ce.prototype.ng=function(){var a=this.Te,c=this.Lb.Ec(),b=this.Lb.Qa().u,d=this.Fb.Ec(),e=this.Fb.Qa().u;a.cc=0;var g=e.position.x+(e.m.i.x*
d.fb.x+e.m.j.x*d.fb.y)-(b.position.x+(b.m.i.x*c.fb.x+b.m.j.x*c.fb.y)),b=e.position.y+(e.m.i.y*d.fb.x+e.m.j.y*d.fb.y)-(b.position.y+(b.m.i.y*c.fb.x+b.m.j.y*c.fb.y)),e=c.Ta+d.Ta;g*g+b*b>e*e||(a.Ua=1,a.qa.C(c.fb),a.fd.da(),a.cc=1,a.ga[0].qa.C(d.fb),a.ga[0].wf.jj(0))};var ee=function(){this.Dg=A.p(0,0);this.ac=A.p(0,0);this.Cd=A.p(0,0);this.Ph=new S;this.ke=new S;this.hc=[];for(var a=0;2>a;a++)this.hc[a]=new de},de=function(){this.ac=A.p(0,0);this.Pb=A.p(0,0);this.Qb=A.p(0,0)};de.prototype.Yc=function(){this.ac.Set(0,
0);this.Pb.Set(0,0);this.Qb.Set(0,0)};var Fd=function(){this.$f={};this.Jh={};this.Kl(ce,zc.Hf,zc.Hf);this.Kl(fe,Y.Hf,zc.Hf);this.Kl(ge,Y.Hf,Y.Hf);this.Kl(he,"b2EdgeShape",zc.Hf);this.Kl(ie,Y.Hf,"b2EdgeShape")};Fd.prototype.Kl=function(a,c,b){this.Jh[c]=this.Jh[c]||{};this.Jh[c][b]=this.Jh[c][b]||[];this.$f[c]=this.$f[c]||{};this.$f[c][b]=new je;this.$f[c][b].$v=a;this.$f[c][b].ky=!0;c!=b&&(this.$f[b]=this.$f[b]||{},this.$f[b][c]=new je,this.$f[b][c].$v=a,this.$f[b][c].ky=!1)};Fd.prototype.bf=function(a,
c){var b=a.Ec().gj(),d=c.Ec().gj(),e=this.$f[b][d],g=e.$v;return null!=g?e.ky?0<this.Jh[b][d].length?(b=this.Jh[b][d].pop(),b.Yc(a,c),b):new g(a,c):0<this.Jh[d][b].length?(b=this.Jh[d][b].pop(),b.Yc(c,a),b):new g(c,a):null};Fd.prototype.Fd=function(a){var c=a.Lb.Ec().gj(),b=a.Fb.Ec().gj();this.Jh[c][b].push(a)};var sd=function(){this.xo=[];for(var a=0;a<=vd;a++)this.xo[a]=null;this.yo=[];for(a=0;a<=vd;a++)this.yo[a]=null;this.tj={}};s=sd.prototype;s.Ka=function(a){return this.xo[a]};s.qk=function(a){var c=
a.Hd;if(null==this.tj[c]){this.tj[c]=[];for(var b=0;b<=vd;b++)this.tj[c][b]=null;this.mg(a,c,vd)}};s.lr=function(a,c,b){c?this.mg(a,a.Hd,Nd):this.rg(a.Hd,Nd);b?this.mg(a,a.Hd,Od):this.rg(a.Hd,Od)};s.dr=function(a){a=a.Hd;if(null!=this.tj[a]){for(var c=0;c<=vd;c++)this.rg(a,c);delete this.tj[a]}};s.rg=function(a,c){var b=this.tj[a];if(null!=b){var d=b[c];if(null!=d){b[c]=null;var b=d.Cf,e=d.next;null==b?this.xo[c]=e:b.Jf(e);null==e?this.yo[c]=b:e.Kf(b);ke.push(d)}}};s.mg=function(a,c,b){c=this.tj[c];
if(null==c[b]){if(0<ke.length){var d=ke.pop();d.next=null;d.Cf=null;d.Mc=a;a=d}else a=new me(a);c[b]=a;a=this.yo[b];null!=a?(a.Jf(c[b]),c[b].Kf(a)):this.xo[b]=c[b];this.yo[b]=c[b]}};var Nd=0,Od=1,vd=2,me=function(a){this.Mc=a;this.Cf=this.next=null},ke=[];me.prototype.Jf=function(a){this.next=a};me.prototype.Kf=function(a){this.Cf=a};var je=function(){},ne=function(){this.ra=A.p(0,0);this.Tp=[];this.ga=[];for(var a=0;2>a;a++)this.ga[a]=A.p(0,0)};ne.prototype.kc=function(a){switch(a.type){case 1:this.DA(a);
break;case 2:this.EA(a);break;case 4:this.FA(a)}};ne.prototype.DA=function(a){var c=a.I.u.m,b=a.ac,d=a.I.u.position.x+(c.i.x*b.x+c.j.x*b.y),e=a.I.u.position.y+(c.i.y*b.x+c.j.y*b.y),c=a.J.u.m,b=a.hc[0].ac,g=a.J.u.position.x+(c.i.x*b.x+c.j.x*b.y),c=a.J.u.position.y+(c.i.y*b.x+c.j.y*b.y),b=g-d,f=c-e,h=b*b+f*f;h>Ic?(h=Math.sqrt(h),this.ra.x=b/h,this.ra.y=f/h):(this.ra.x=1,this.ra.y=0);this.ga[0].x=.5*(d+g);this.ga[0].y=.5*(e+c);this.Tp[0]=b*this.ra.x+f*this.ra.y-a.jq};ne.prototype.EA=function(a){this.ra.x=
a.I.u.m.i.x*a.Dg.x+a.I.u.m.j.x*a.Dg.y;this.ra.y=a.I.u.m.i.y*a.Dg.x+a.I.u.m.j.y*a.Dg.y;for(var c=a.I.u.position.x+(a.I.u.m.i.x*a.ac.x+a.I.u.m.j.x*a.ac.y),b=a.I.u.position.y+(a.I.u.m.i.y*a.ac.x+a.I.u.m.j.y*a.ac.y),d=0;d<a.Bf;d++){var e=a.J.u.position.x+(a.J.u.m.i.x*a.hc[d].ac.x+a.J.u.m.j.x*a.hc[d].ac.y),g=a.J.u.position.y+(a.J.u.m.i.y*a.hc[d].ac.x+a.J.u.m.j.y*a.hc[d].ac.y);this.Tp[d]=(e-c)*this.ra.x+(g-b)*this.ra.y-a.jq;this.ga[d].x=e;this.ga[d].y=g}};ne.prototype.FA=function(a){this.ra.x=a.J.u.m.i.x*
a.Dg.x+a.J.u.m.j.x*a.Dg.y;this.ra.y=a.J.u.m.i.y*a.Dg.x+a.J.u.m.j.y*a.Dg.y;for(var c=a.J.u.position.x+(a.J.u.m.i.x*a.ac.x+a.J.u.m.j.x*a.ac.y),b=a.J.u.position.y+(a.J.u.m.i.y*a.ac.x+a.J.u.m.j.y*a.ac.y),d=0;d<a.Bf;d++){var e=a.I.u.position.x+(a.I.u.m.i.x*a.hc[d].ac.x+a.I.u.m.j.x*a.hc[d].ac.y),g=a.I.u.position.y+(a.I.u.m.i.y*a.hc[d].ac.x+a.I.u.m.j.y*a.hc[d].ac.y);this.Tp[d]=(e-c)*this.ra.x+(g-b)*this.ra.y-a.jq;this.ga[d].Set(e,g)}this.ra.x*=-1;this.ra.y*=-1};var Ld=function(){this.Gg=[]};s=Ld.prototype;
s.kc=function(a,c,b){for(this.Zm=b;this.Gg.length<this.Zm;)this.Gg[this.Gg.length]=new ee;for(a=0;a<b;a++){var d=c[a],e=d.Lb,g=d.Fb,f=e.Nh.Ta,h=g.Nh.Ta,m=e.Qa(),n=g.Qa(),l=d.Te,k=Math.sqrt(e.pt*g.pt),r,e=e.zt,g=g.zt;r=e>g?e:g;var p=m.n.x,u=m.n.y,t=n.n.x,q=n.n.y,B=m.B,y=n.B;oe.kc(l,m.u,f,n.u,h);e=oe.ra.x;d=oe.ra.y;g=this.Gg[a];g.I=m;g.J=n;g.JD=l;g.Cd.x=e;g.Cd.y=d;g.Bf=l.cc;g.zg=k;g.Vg=r;g.Dg.x=l.fd.x;g.Dg.y=l.fd.y;g.ac.x=l.qa.x;g.ac.y=l.qa.y;g.jq=f+h;g.type=l.Ua;for(f=0;f<g.Bf;++f){k=l.ga[f];h=g.hc[f];
h.fc=k.bk;h.Zg=k.fk;h.ac.C(k.qa);k=h.Pb.x=oe.ga[f].x-m.k.q.x;r=h.Pb.y=oe.ga[f].y-m.k.q.y;var F=h.Qb.x=oe.ga[f].x-n.k.q.x,D=h.Qb.y=oe.ga[f].y-n.k.q.y,I=k*d-r*e,G=F*d-D*e,I=I*I,G=G*G;h.Ph=1/(m.D+n.D+m.M*I+n.M*G);var C=m.P*m.D+n.P*n.D,C=C+(m.P*m.M*I+n.P*n.M*G);h.PB=1/C;G=d;C=-e;I=k*C-r*G;G=F*C-D*G;I*=I;G*=G;h.QE=1/(m.D+n.D+m.M*I+n.M*G);h.En=0;k=g.Cd.x*(t+-y*D-p- -B*r)+g.Cd.y*(q+y*F-u-B*k);-1>k&&(h.En+=-g.Vg*k)}2==g.Bf&&(q=g.hc[0],t=g.hc[1],l=m.D,m=m.M,p=n.D,n=n.M,u=q.Pb.x*d-q.Pb.y*e,q=q.Qb.x*d-q.Qb.y*
e,B=t.Pb.x*d-t.Pb.y*e,t=t.Qb.x*d-t.Qb.y*e,e=l+p+m*u*u+n*q*q,d=l+p+m*B*B+n*t*t,n=l+p+m*u*B+n*q*t,e*e<100*(e*d-n*n)?(g.ke.i.Set(e,n),g.ke.j.Set(n,d),g.ke.Pq(g.Ph)):g.Bf=1)}};s.cf=function(a){for(var c=0;c<this.Zm;++c){var b=this.Gg[c],d=b.I,e=b.J,g=d.D,f=d.M,h=e.D,m=e.M,n=b.Cd.x,l=b.Cd.y,k=l,r=-n,p=0,u=0;if(a.ai)for(u=b.Bf,p=0;p<u;++p){var t=b.hc[p];t.fc*=a.wc;t.Zg*=a.wc;var q=t.fc*n+t.Zg*k,B=t.fc*l+t.Zg*r;d.B-=f*(t.Pb.x*B-t.Pb.y*q);d.n.x-=g*q;d.n.y-=g*B;e.B+=m*(t.Qb.x*B-t.Qb.y*q);e.n.x+=h*q;e.n.y+=
h*B}else for(u=b.Bf,p=0;p<u;++p)d=b.hc[p],d.fc=0,d.Zg=0}};s.De=function(){for(var a=0;a<this.Zm;a++)this.sA(this.Gg[a])};s.sA=function(a){for(var c=a.Cd.x,b=a.Cd.y,d=0;d<a.Bf;d++)Ld.prototype.tA(a,a.hc[d]);if(1==a.Bf){var d=a.hc[0],e=d.fc-d.Ph*((a.J.n.x-a.J.B*d.Qb.y-a.I.n.x+a.I.B*d.Pb.y)*c+(a.J.n.y+a.J.B*d.Qb.x-a.I.n.y-a.I.B*d.Pb.x)*b-d.En),e=0<e?e:0,g=e-d.fc,f=g*c,b=g*b;a.I.n.x-=a.I.D*f;a.I.n.y-=a.I.D*b;a.I.B-=a.I.M*(d.Pb.x*b-d.Pb.y*f);a.J.n.x+=a.J.D*f;a.J.n.y+=a.J.D*b;a.J.B+=a.J.M*(d.Qb.x*b-d.Qb.y*
f);d.fc=e}else for(var d=a.hc[0],e=a.hc[1],g=d.fc,f=e.fc,h=(a.J.n.x-a.J.B*d.Qb.y-a.I.n.x+a.I.B*d.Pb.y)*c+(a.J.n.y+a.J.B*d.Qb.x-a.I.n.y-a.I.B*d.Pb.x)*b-d.En,b=(a.J.n.x-a.J.B*e.Qb.y-a.I.n.x+a.I.B*e.Pb.y)*c+(a.J.n.y+a.J.B*e.Qb.x-a.I.n.y-a.I.B*e.Pb.x)*b-e.En,h=h-(a.ke.i.x*g+a.ke.j.x*f),b=b-(a.ke.i.y*g+a.ke.j.y*f);;){c=-(a.Ph.i.x*h+a.Ph.j.x*b);if(0<=c){var m=-(a.Ph.i.y*h+a.Ph.j.y*b);if(0<=m){this.bo(a,d,e,c-g,m-f);d.fc=c;e.fc=m;break}}c=-d.Ph*h;if(0<=c&&0<=a.ke.i.y*c+b){this.bo(a,d,e,c-g,-f);d.fc=c;e.fc=
0;break}c=-e.Ph*b;if(0<=c&&0<=a.ke.j.x*c+h){this.bo(a,d,e,-g,c-f);d.fc=0;e.fc=c;break}if(0<=h&&0<=b){this.bo(a,d,e,-g,-f);d.fc=0;e.fc=0;break}break}};s.tA=function(a,c){var b=a.Cd.y,d=-a.Cd.x,e=a.zg*c.fc,e=T.Cb(c.Zg-c.QE*((a.J.n.x-a.J.B*c.Qb.y-a.I.n.x+a.I.B*c.Pb.y)*b+(a.J.n.y+a.J.B*c.Qb.x-a.I.n.y-a.I.B*c.Pb.x)*d),-e,e),g=e-c.Zg,b=g*b,d=g*d;a.I.n.x-=a.I.D*b;a.I.n.y-=a.I.D*d;a.I.B-=a.I.M*(c.Pb.x*d-c.Pb.y*b);a.J.n.x+=a.J.D*b;a.J.n.y+=a.J.D*d;a.J.B+=a.J.M*(c.Qb.x*d-c.Qb.y*b);c.Zg=e};s.bo=function(a,c,
b,d,e){var g=d*a.Cd.x;d*=a.Cd.y;var f=e*a.Cd.x;e*=a.Cd.y;a.I.n.x-=a.I.D*(g+f);a.I.n.y-=a.I.D*(d+e);a.I.B-=a.I.M*(c.Pb.x*d-c.Pb.y*g+b.Pb.x*e-b.Pb.y*f);a.J.n.x+=a.J.D*(g+f);a.J.n.y+=a.J.D*(d+e);a.J.B+=a.J.M*(c.Qb.x*d-c.Qb.y*g+b.Qb.x*e-b.Qb.y*f);c.fc=0;b.fc=0};s.Mq=function(){for(var a=0;a<this.Zm;++a)for(var c=this.Gg[a],b=c.JD,d=0;d<c.Bf;++d){var e=b.ga[d],g=c.hc[d];e.bk=g.fc;e.fk=g.Zg}};s.Ce=function(a){void 0===a&&(a=0);for(var c=0,b=0;b<this.Zm;b++){var d=this.Gg[b],e=d.I,g=d.J,f=e.P*e.D,h=e.P*
e.M,m=g.P*g.D,n=g.P*g.M;pe.kc(d);for(var l=pe.ra,k=0;k<d.Bf;k++){var r=d.hc[k],p=pe.ga[k],u=pe.Tp[k],t=p.x-e.k.q.x,q=p.y-e.k.q.y,B=p.x-g.k.q.x,p=p.y-g.k.q.y,c=c<u?c:u,u=-r.PB*T.Cb(a*(u+.005),-.2,0),r=u*l.x,u=u*l.y;e.k.q.x-=f*r;e.k.q.y-=f*u;e.k.H-=h*(t*u-q*r);e.Kb();g.k.q.x+=m*r;g.k.q.y+=m*u;g.k.H+=n*(B*u-p*r);g.Kb()}}return-.0075<c};var he=function(a,c){Qd.call(this,a,c)};x(he,Qd);he.prototype.Yc=function(a,c){Qd.prototype.Yc.call(this,a,c)};he.prototype.ng=function(){this.Lb.Ec();this.Fb.Ec()};var fe=
function(a,c){Qd.call(this,a,c)};x(fe,Qd);fe.prototype.Yc=function(a,c){Qd.prototype.Yc.call(this,a,c)};fe.prototype.ng=function(){a:{var a=this.Te,c=this.Lb.Ec(),b=this.Lb.Qa().u,d=this.Fb.Ec(),e=this.Fb.Qa().u;a.cc=0;for(var g=e.position.x+(e.m.i.x*d.fb.x+e.m.j.x*d.fb.y)-b.position.x,f=e.position.y+(e.m.i.y*d.fb.x+e.m.j.y*d.fb.y)-b.position.y,e=g*b.m.i.x+f*b.m.i.y,b=g*b.m.j.x+f*b.m.j.y,g=0,f=-Number.MAX_VALUE,h=c.Ta+d.Ta,m=0;m<c.Na;++m){var n=c.ta[m].x*(e-c.G[m].x)+c.ta[m].y*(b-c.G[m].y);if(n>h)break a;
n>f&&(f=n,g=m)}n=g+1;n>=c.Na&&(n=0);var m=c.G[g],l=c.G[n];f<Number.MIN_VALUE?(a.cc=1,a.Ua=2,a.fd.C(c.ta[g]),a.qa.x=.5*(m.x+l.x),a.qa.y=.5*(m.y+l.y),a.ga[0].qa.C(d.fb),a.ga[0].wf.jj(0)):0>=(e-m.x)*(l.x-m.x)+(b-m.y)*(l.y-m.y)?(e-m.x)*(e-m.x)+(b-m.y)*(b-m.y)>h*h||(a.cc=1,a.Ua=2,a.fd.x=e-m.x,a.fd.y=b-m.y,a.fd.Jd(),a.qa.C(m),a.ga[0].qa.C(d.fb),a.ga[0].wf.jj(0)):0>=(e-l.x)*(m.x-l.x)+(b-l.y)*(m.y-l.y)?(e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>h*h||(a.cc=1,a.Ua=2,a.fd.x=e-l.x,a.fd.y=b-l.y,a.fd.Jd(),a.qa.C(l),a.ga[0].qa.C(d.fb),
a.ga[0].wf.jj(0)):(n=.5*(m.x+l.x),m=.5*(m.y+l.y),f=(e-n)*c.ta[g].x+(b-m)*c.ta[g].y,f>h||(a.cc=1,a.Ua=2,a.fd.x=c.ta[g].x,a.fd.y=c.ta[g].y,a.fd.Jd(),a.qa.Set(n,m),a.ga[0].qa.C(d.fb),a.ga[0].wf.jj(0)))}};var ie=function(a,c){Qd.call(this,a,c)};x(ie,Qd);ie.prototype.Yc=function(a,c){Qd.prototype.Yc.call(this,a,c)};ie.prototype.ng=function(){this.Lb.Ec();this.Fb.Ec()};var ge=function(a,c){Qd.call(this,a,c)};x(ge,Qd);ge.prototype.Yc=function(a,c){Qd.prototype.Yc.call(this,a,c)};ge.prototype.ng=function(){var a=
this.Te,c=this.Lb.Ec(),b=this.Lb.Qa().u,d=this.Fb.Ec(),e=this.Fb.Qa().u;a.cc=0;var g=c.Ta+d.Ta,f=Xc(c,b,d,e),h=f.Mv;if(!(f.rq>g)){var m=Xc(d,e,c,b);if(!(m.rq>g)){var n=c,l=d,k=b,r=e,p=0;a.Ua=2;m.rq>.98*f.rq+.001&&(n=d,l=c,k=e,r=b,h=m.Mv,a.Ua=4,p=1);c=h;b=r;d=qe;void 0===c&&(c=0);for(var e=k.m.i.x*n.ta[c].x+k.m.j.x*n.ta[c].y,f=k.m.i.y*n.ta[c].x+k.m.j.y*n.ta[c].y,m=b.m.i.x*e+b.m.i.y*f,f=b.m.j.x*e+b.m.j.y*f,e=m,m=0,u=Number.MAX_VALUE,t=0;t<l.Na;t++){var q=e*l.ta[t].x+f*l.ta[t].y;q<u&&(u=q,m=t)}e=m+1;
e>=l.Na&&(e=0);d[0].Ze.x=b.position.x+(b.m.i.x*l.G[m].x+b.m.j.x*l.G[m].y);d[0].Ze.y=b.position.y+(b.m.i.y*l.G[m].x+b.m.j.y*l.G[m].y);d[0].id.tv(c);d[0].id.rv(m);d[0].id.sv(0);d[1].Ze.x=b.position.x+(b.m.i.x*l.G[e].x+b.m.j.x*l.G[e].y);d[1].Ze.y=b.position.y+(b.m.i.y*l.G[e].x+b.m.j.y*l.G[e].y);d[1].id.tv(c);d[1].id.rv(e);d[1].id.sv(1);c=n.G[h];h=h+1<n.Na?n.G[h+1]:n.G[0];re.Set(h.x-c.x,h.y-c.y);re.Jd();se.x=re.y;se.y=-re.x;te.Set(.5*(c.x+h.x),.5*(c.y+h.y));ue.x=k.m.i.x*re.x+k.m.j.x*re.y;ue.y=k.m.i.y*
re.x+k.m.j.y*re.y;ve.x=-ue.x;ve.y=-ue.y;we.x=ue.y;we.y=-ue.x;xe.x=k.position.x+(k.m.i.x*c.x+k.m.j.x*c.y);xe.y=k.position.y+(k.m.i.y*c.x+k.m.j.y*c.y);ye.x=k.position.x+(k.m.i.x*h.x+k.m.j.x*h.y);ye.y=k.position.y+(k.m.i.y*h.x+k.m.j.y*h.y);if(!(2>Vc(ze,qe,ve,-ue.x*xe.x-ue.y*xe.y+g)||2>Vc(Ae,ze,ue,ue.x*ye.x+ue.y*ye.y+g))){a.fd.C(se);a.qa.C(te);k=we.x*xe.x+we.y*xe.y;for(n=h=0;2>n;++n)we.x*Ae[n].Ze.x+we.y*Ae[n].Ze.y-k<=g&&(c=Ae[n].Ze.x-r.position.x,l=Ae[n].Ze.y-r.position.y,a.ga[h].qa.x=c*r.m.i.x+l*r.m.i.y,
a.ga[h].qa.y=c*r.m.j.x+l*r.m.j.y,a.ga[h].wf.Set(Ae[n].id),a.ga[h].wf.mA(p),h++);a.cc=h}}}};var Ce=function(){this.Hd="Controller"+Be++;this.Ja=null;this.$c=new xd};Ce.prototype.ih=function(){};Ce.prototype.pk=function(a){this.$c.pk(a);a.Jl(this)};Ce.prototype.Wl=function(a){this.$c.Wl(a);a.Xl(this)};Ce.prototype.Ln=function(){for(var a=this.$c.Ka(wd);a;a=a.next)this.Wl(a.body)};var Be=0,De=function(){Ce.call(this);this.Cd=A.p(0,-1);this.Qf=this.offset=0;this.iz=A.p(0,0);this.lD=2;this.SA=1;this.aF=
!0;this.Aw=null};x(De,Ce);De.prototype.ih=function(){this.aF&&(this.Aw=this.Ja.yx.uc());for(var a=this.$c.Ka(Bd);a;a=a.next){for(var c=a.body,b=A.p(0,0),d=A.p(0,0),e=0,g=0,f=c.Oq().Ka();f;f=f.next){var h=A.p(0,0),m=f.nf.Ec().Nn(this.Cd,this.offset,c.je(),h),e=e+m;b.x+=m*h.x;b.y+=m*h.y;var n=0,n=1,g=g+m*n;d.x+=m*h.x*n;d.y+=m*h.y*n}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=g,d.y/=g,g=this.Aw.ei(),g.Id(this.Qf*e),c.lg(g,d),g=c.Kz(b),g.jr(this.iz),g.Id(-this.lD*e),c.lg(g,b),c.Jn(-c.uf/c.vk()*e*c.Sn()*this.SA),
A.jc(b),A.jc(d))}};var Ee=function(){Ce.call(this);this.Nu=A.p(0,0)};x(Ee,Ce);Ee.prototype.ih=function(a){a=A.p(this.Nu.x*a.Ba,this.Nu.y*a.Ba);for(var c=this.$c.Ka(Bd);c;c=c.next){var b=c.body,d=b.ej();b.kj(A.p(d.x+a.x,d.y+a.y))}A.jc(a)};var Fe=function(){Ce.call(this);this.Hz=A.p(0,0)};x(Fe,Ce);Fe.prototype.ih=function(){for(var a=this.$c.Ka(Bd);a;a=a.next){var c=a.body;c.lg(this.Hz,c.wk())}};var td=function(){this.Kr=this.Jr=null;this.Ao={}};td.prototype.Ka=function(){return this.Jr};td.prototype.Jl=
function(a){var c=a.Hd;if(null==this.Ao[c]){a=new Ge(a);var b=this.Kr;null!=b?b.Jf(a):this.Jr=a;a.Kf(b);this.Kr=a;this.Ao[c]=a}};td.prototype.Xl=function(a){a=a.Hd;var c=this.Ao[a];if(null!=c){var b=c.Cf,c=c.next;null==b?this.Jr=c:b.Jf(c);null==c?this.Kr=b:c.Kf(b);delete this.Ao[a]}};var Ge=function(a){this.Xv=a;this.Cf=this.next=null};Ge.prototype.Jf=function(a){this.next=a};Ge.prototype.Kf=function(a){this.Cf=a};var He=function(){Ce.call(this);this.Vu=1;this.bD=!0};x(He,Ce);He.prototype.ih=function(){var a=
null,c=null,b=0,d=null,e=null,g=0,f=0,h=0,g=null;if(this.bD)for(var m=this.$c.Ka(wd);m;m=m.next)for(var a=m.body,c=a.wk(),b=a.vk(),n=this.$c.Ka(wd);n;n=n.next){if(d=n.body,a.ud()||d.ud())e=d.wk(),g=e.x-c.x,f=e.y-c.y,h=g*g+f*f,h<Number.MIN_VALUE||(g=A.p(g,f),g.Id(this.Vu/h/Math.sqrt(h)*b*d.vk()),a.ud()&&a.lg(g,c),g.Id(-1),d.ud()&&d.lg(g,e),A.jc(g))}else for(m=this.$c.Ka(wd);m;m=m.next)for(a=bodyNode.body,c=a.wk(),b=a.vk(),n=this.$c.Ka(wd);n;n=n.next)if(d=bodyNode.body,a.ud()||d.ud())e=d.wk(),g=e.x-
c.x,f=e.y-c.y,h=g*g+f*f,h<Number.MIN_VALUE||(g=A.p(g,f),g.Id(this.Vu/h*b*d.vk()),a.ud()&&a.lg(g,c),g.Id(-1),d.ud()&&d.lg(g,e),A.jc(g))};var Ie=function(){Ce.call(this);this.wA=new S;this.Et=0};x(Ie,Ce);Ie.prototype.ih=function(a){a=a.Ba;if(!(a<=Number.MIN_VALUE)){a>this.Et&&0<this.Et&&(a=this.Et);for(var c=this.$c.Ka(Bd);c;c=c.next){var b=c.body,d=b.Rq(T.Zb(this.wA,b.Qq(b.ej())));b.kj(A.p(b.ej().x+d.x*a,b.ej().y+d.y*a))}}};var Z=function(a){this.Sd=new Je;this.Td=new Je;this.Jg=A.p(0,0);this.Kg=A.p(0,
0);this.Ua=a.type;this.Ki=this.el=null;this.R=a.I;this.S=a.J;this.wx=a.Hr};Z.prototype.Xc=function(){return this.Ua};Z.prototype.Pl=function(){return this.R};Z.prototype.Nq=function(){return this.S};Z.prototype.hj=function(){return this.R.hj()&&this.S.hj()};Z.bf=function(a){return a.bf()};Z.prototype.cf=function(){};Z.prototype.De=function(){};Z.prototype.Mq=function(){};Z.prototype.Ce=function(){return!1};Z.JB=0;Z.Ik=1;Z.HB=2;Z.Ur=3;Z.IB=4;Z.vG=5;Z.EB=6;Z.GB=7;Z.KB=8;Z.DB=9;Z.Ld=0;Z.vg=1;Z.dd=2;
Z.wi=3;var Ke=function(){this.type=Z.JB;this.J=this.I=null;this.Hr=!1},Je=function(){},Le=function(a){Z.call(this,a);this.ba=A.p(0,0);this.ca=A.p(0,0);this.Bc=A.p(0,0);this.ba.C(a.wb);this.ca.C(a.xb);this.qt=a.length;this.ot=a.Yo;this.sD=a.Jo;this.ux=this.ak=this.A=0};x(Le,Z);Le.prototype.cf=function(a){var c,b=0,d=this.R,e=this.S;c=d.u.m;var g=this.ba.x-d.k.K.x,f=this.ba.y-d.k.K.y,b=c.i.x*g+c.j.x*f,f=c.i.y*g+c.j.y*f,g=b;c=e.u.m;var h=this.ca.x-e.k.K.x,m=this.ca.y-e.k.K.y,b=c.i.x*h+c.j.x*m,m=c.i.y*
h+c.j.y*m,h=b;this.Bc.x=e.k.q.x+h-d.k.q.x-g;this.Bc.y=e.k.q.y+m-d.k.q.y-f;b=Math.sqrt(this.Bc.x*this.Bc.x+this.Bc.y*this.Bc.y);.005<b?this.Bc.Id(1/b):this.Bc.da();c=g*this.Bc.y-f*this.Bc.x;var n=h*this.Bc.y-m*this.Bc.x;c=d.D+d.M*c*c+e.D+e.M*n*n;this.P=0!=c?1/c:0;if(0<this.ot){var b=b-this.qt,n=2*Math.PI*this.ot,l=this.P*n*n;this.ak=a.Ba*(2*this.P*this.sD*n+a.Ba*l);this.ak=0!=this.ak?1/this.ak:0;this.ux=b*a.Ba*l*this.ak;this.P=c+this.ak;this.P=0!=this.P?1/this.P:0}a.ai?(this.A*=a.wc,a=this.A*this.Bc.x,
c=this.A*this.Bc.y,d.n.x-=d.D*a,d.n.y-=d.D*c,d.B-=d.M*(g*c-f*a),e.n.x+=e.D*a,e.n.y+=e.D*c,e.B+=e.M*(h*c-m*a)):this.A=0};Le.prototype.De=function(){var a=this.ba.x-this.R.k.K.x,c=this.ba.y-this.R.k.K.y,b=this.R.u.m.i.x*a+this.R.u.m.j.x*c,c=this.R.u.m.i.y*a+this.R.u.m.j.y*c,a=b,d=this.ca.x-this.S.k.K.x,e=this.ca.y-this.S.k.K.y,b=this.S.u.m.i.x*d+this.S.u.m.j.x*e,e=this.S.u.m.i.y*d+this.S.u.m.j.y*e,d=b,g=-this.P*(this.Bc.x*(this.S.n.x-this.S.B*e-(this.R.n.x-this.R.B*c))+this.Bc.y*(this.S.n.y+this.S.B*
d-(this.R.n.y+this.R.B*a))+this.ux+this.ak*this.A);this.A+=g;b=g*this.Bc.x;g*=this.Bc.y;this.R.n.x-=this.R.D*b;this.R.n.y-=this.R.D*g;this.R.B-=this.R.M*(a*g-c*b);this.S.n.x+=this.S.D*b;this.S.n.y+=this.S.D*g;this.S.B+=this.S.M*(d*g-e*b)};Le.prototype.Ce=function(){if(0<this.ot)return!0;var a=this.ba.x-this.R.k.K.x,c=this.ba.y-this.R.k.K.y,b=this.R.u.m.i.x*a+this.R.u.m.j.x*c,c=this.R.u.m.i.y*a+this.R.u.m.j.y*c,a=b,d=this.ca.x-this.S.k.K.x,e=this.ca.y-this.S.k.K.y,b=this.S.u.m.i.x*d+this.S.u.m.j.x*
e,e=this.S.u.m.i.y*d+this.S.u.m.j.y*e,d=b,g=this.S.k.q.x+d-this.R.k.q.x-a,f=this.S.k.q.y+e-this.R.k.q.y-c,h=Math.sqrt(g*g+f*f),b=T.Cb(h-this.qt,-.2,.2),m=-this.P*b;this.Bc.Set(g/h,f/h);g=m*this.Bc.x;m*=this.Bc.y;this.R.k.q.x-=this.R.D*g;this.R.k.q.y-=this.R.D*m;this.R.k.H-=this.R.M*(a*m-c*g);this.S.k.q.x+=this.S.D*g;this.S.k.q.y+=this.S.D*m;this.S.k.H+=this.S.M*(d*m-e*g);this.R.Kb();this.S.Kb();return.005>Math.abs(b)};var Bc=function(){Ke.call(this);this.wb=A.p(0,0);this.xb=A.p(0,0);this.type=Z.Ur;
this.length=1;this.Jo=this.Yo=0};x(Bc,Ke);Bc.prototype.kc=function(a,c,b,d){this.I=a;this.J=c;this.wb.C(this.I.td(b));this.xb.C(this.J.td(d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.Jo=this.Yo=0};Bc.prototype.bf=function(){return new Le(this)};var Me=function(a){Z.call(this,a);this.Qe=A.p(0,0);this.Re=A.p(0,0);this.wt=new S;this.Pe=A.p(0,0);this.Qe.C(a.wb);this.Re.C(a.xb);this.wt.da();this.Xm=0;this.Pe.da();this.Fh=0;this.DD=a.LD;this.FD=a.MD};x(Me,Z);Me.prototype.cf=function(a){var c,
b=0,d=this.R,e=this.S;c=d.u.m;var g=this.Qe.x-d.k.K.x,f=this.Qe.y-d.k.K.y,b=c.i.x*g+c.j.x*f,f=c.i.y*g+c.j.y*f,g=b;c=e.u.m;var h=this.Re.x-e.k.K.x,m=this.Re.y-e.k.K.y,b=c.i.x*h+c.j.x*m,m=c.i.y*h+c.j.y*m,h=b;c=d.D;var b=e.D,n=d.M,l=e.M,k=new S;k.i.x=c+b;k.j.x=0;k.i.y=0;k.j.y=c+b;k.i.x+=n*f*f;k.j.x+=-n*g*f;k.i.y+=-n*g*f;k.j.y+=n*g*g;k.i.x+=l*m*m;k.j.x+=-l*h*m;k.i.y+=-l*h*m;k.j.y+=l*h*h;k.Pq(this.wt);this.Xm=n+l;0<this.Xm&&(this.Xm=1/this.Xm);a.ai?(this.Pe.x*=a.wc,this.Pe.y*=a.wc,this.Fh*=a.wc,a=this.Pe,
d.n.x-=c*a.x,d.n.y-=c*a.y,d.B-=n*(g*a.y-f*a.x+this.Fh),e.n.x+=b*a.x,e.n.y+=b*a.y,e.B+=l*(h*a.y-m*a.x+this.Fh)):(this.Pe.da(),this.Fh=0)};Me.prototype.De=function(a){var c,b=0,d=this.R,e=this.S,g=d.n,f=d.B,h=e.n,m=e.B,n=d.D,l=e.D,k=d.M,r=e.M;c=d.u.m;var p=this.Qe.x-d.k.K.x,u=this.Qe.y-d.k.K.y,b=c.i.x*p+c.j.x*u,u=c.i.y*p+c.j.y*u,p=b;c=e.u.m;var t=this.Re.x-e.k.K.x,q=this.Re.y-e.k.K.y,b=c.i.x*t+c.j.x*q,q=c.i.y*t+c.j.y*q,t=b;c=0;var b=-this.Xm*(m-f),B=this.Fh;c=a.Ba*this.FD;this.Fh=T.Cb(this.Fh+b,-c,
c);b=this.Fh-B;f-=k*b;m+=r*b;c=T.Zb(this.wt,A.p(-(h.x-m*q-g.x+f*u),-(h.y+m*t-g.y-f*p)));b=this.Pe.uc();this.Pe.fh(c);c=a.Ba*this.DD;this.Pe.Zn()>c*c&&(this.Pe.Jd(),this.Pe.Id(c));c=T.ub(this.Pe,b);g.x-=n*c.x;g.y-=n*c.y;f-=k*(p*c.y-u*c.x);h.x+=l*c.x;h.y+=l*c.y;m+=r*(t*c.y-q*c.x);d.B=f;e.B=m};Me.prototype.Ce=function(){return!0};var Ne=function(){Ke.call(this);this.wb=A.p(0,0);this.xb=A.p(0,0);this.type=Z.DB;this.MD=this.LD=0};x(Ne,Ke);Ne.prototype.kc=function(a,c,b){this.I=a;this.J=c;this.wb.C(this.I.td(b));
this.xb.C(this.J.td(b))};Ne.prototype.bf=function(){return new Me(this)};var Pe=function(a){Z.call(this,a);this.Kh=A.p(0,0);this.Lh=A.p(0,0);this.ba=A.p(0,0);this.ca=A.p(0,0);this.Eb=new Oe;var c=a.Xk.Ua,b=a.Yk.Ua;this.gl=this.ek=this.fl=this.dk=null;var d=0,e=0;this.vD=a.Xk.Pl();this.R=a.Xk.Nq();c==Z.Ik?(this.dk=a.Xk,this.Kh.C(this.dk.ba),this.ba.C(this.dk.ca),d=this.dk.Tn()):(this.fl=a.Xk,this.Kh.C(this.fl.ba),this.ba.C(this.fl.ca),d=this.fl.Rl());this.wD=a.Yk.Pl();this.S=a.Yk.Nq();b==Z.Ik?(this.ek=
a.Yk,this.Lh.C(this.ek.ba),this.ca.C(this.ek.ca),e=this.ek.Tn()):(this.gl=a.Yk,this.Lh.C(this.gl.ba),this.ca.C(this.gl.ca),e=this.gl.Rl());this.Ob=a.Ui;this.dl=d+this.Ob*e;this.A=0};x(Pe,Z);Pe.prototype.cf=function(a){var c=this.vD,b=this.wD,d=this.R,e=this.S,g=0,f=0,h=0,m=0,n=h=0,l=0;this.Eb.da();this.dk?(this.Eb.mj=-1,l+=d.M):(c=c.u.m,f=this.fl.ae,g=c.i.x*f.x+c.j.x*f.y,f=c.i.y*f.x+c.j.y*f.y,c=d.u.m,h=this.ba.x-d.k.K.x,m=this.ba.y-d.k.K.y,n=c.i.x*h+c.j.x*m,m=c.i.y*h+c.j.y*m,h=n*f-m*g,this.Eb.Wf.Set(-g,
-f),this.Eb.mj=-h,l+=d.D+d.M*h*h);this.ek?(this.Eb.nj=-this.Ob,l+=this.Ob*this.Ob*e.M):(c=b.u.m,f=this.gl.ae,g=c.i.x*f.x+c.j.x*f.y,f=c.i.y*f.x+c.j.y*f.y,c=e.u.m,h=this.ca.x-e.k.K.x,m=this.ca.y-e.k.K.y,n=c.i.x*h+c.j.x*m,m=c.i.y*h+c.j.y*m,h=n*f-m*g,this.Eb.Xf.Set(-this.Ob*g,-this.Ob*f),this.Eb.nj=-this.Ob*h,l+=this.Ob*this.Ob*(e.D+e.M*h*h));this.P=0<l?1/l:0;a.ai?(d.n.x+=d.D*this.A*this.Eb.Wf.x,d.n.y+=d.D*this.A*this.Eb.Wf.y,d.B+=d.M*this.A*this.Eb.mj,e.n.x+=e.D*this.A*this.Eb.Xf.x,e.n.y+=e.D*this.A*
this.Eb.Xf.y,e.B+=e.M*this.A*this.Eb.nj):this.A=0};Pe.prototype.De=function(){var a=this.R,c=this.S,b=-this.P*this.Eb.Az(a.n,a.B,c.n,c.B);this.A+=b;a.n.x+=a.D*b*this.Eb.Wf.x;a.n.y+=a.D*b*this.Eb.Wf.y;a.B+=a.M*b*this.Eb.mj;c.n.x+=c.D*b*this.Eb.Xf.x;c.n.y+=c.D*b*this.Eb.Xf.y;c.B+=c.M*b*this.Eb.nj};Pe.prototype.Ce=function(){var a=this.R,c=this.S,b=0,d=0,b=this.dk?this.dk.Tn():this.fl.Rl(),d=this.ek?this.ek.Tn():this.gl.Rl(),b=-this.P*(this.dl-(b+this.Ob*d));a.k.q.x+=a.D*b*this.Eb.Wf.x;a.k.q.y+=a.D*
b*this.Eb.Wf.y;a.k.H+=a.M*b*this.Eb.mj;c.k.q.x+=c.D*b*this.Eb.Xf.x;c.k.q.y+=c.D*b*this.Eb.Xf.y;c.k.H+=c.M*b*this.Eb.nj;a.Kb();c.Kb();return!0};var Qe=function(){Ke.call(this);this.type=Z.EB;this.Yk=this.Xk=null;this.Ui=1};x(Qe,Ke);Qe.prototype.kc=function(a,c,b){this.Xk=a;this.I=a.Pl();this.Yk=c;this.J=c.Pl();this.Ui=b};Qe.prototype.bf=function(){return new Pe(this)};var Oe=function(){this.Wf=A.p(0,0);this.Xf=A.p(0,0)};Oe.prototype.da=function(){this.Wf.da();this.mj=0;this.Xf.da();this.nj=0};Oe.prototype.Set=
function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Wf.C(a);this.mj=c;this.Xf.C(b);this.nj=d};Oe.prototype.Az=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.Wf.x*a.x+this.Wf.y*a.y+this.mj*c+(this.Xf.x*b.x+this.Xf.y*b.y)+this.nj*d};var Re=function(a){Z.call(this,a);this.ba=A.p(0,0);this.ca=A.p(0,0);this.ae=A.p(0,0);this.Mh=A.p(0,0);this.O=A.p(0,0);this.ea=A.p(0,0);this.aa=new S;this.A=A.p(0,0);this.ba.C(a.wb);this.ca.C(a.xb);this.ae.C(a.Wj);this.Mh.x=-this.ae.y;this.Mh.y=
this.ae.x;this.A.da();this.Ma=this.Ud=0;this.Se=a.jt;this.Ue=a.Gu;this.xt=a.Dt;this.cn=a.ml;this.Zf=a.zj;this.Ji=a.Jk;this.Aa=Z.Ld;this.O.da();this.ea.da()};x(Re,Z);Re.prototype.Rl=function(){var a=this.R,c=this.S,b=a.Wn(this.ba),d=c.Wn(this.ca),c=d.x-b.x,b=d.y-b.y,a=a.Rq(this.ae);return a.x*c+a.y*b};Re.prototype.cf=function(a){var c=this.R,b=this.S,d,e=0;this.Jg.C(c.fj());this.Kg.C(b.fj());var g=c.je();b.je();d=c.u.m;var f=this.ba.x-this.Jg.x,h=this.ba.y-this.Jg.y,e=d.i.x*f+d.j.x*h,h=d.i.y*f+d.j.y*
h,f=e;d=b.u.m;var m=this.ca.x-this.Kg.x,n=this.ca.y-this.Kg.y,e=d.i.x*m+d.j.x*n,n=d.i.y*m+d.j.y*n,m=e;d=b.k.q.x+m-c.k.q.x-f;e=b.k.q.y+n-c.k.q.y-h;this.Mb=c.D;this.Nb=b.D;this.zd=c.M;this.Ad=b.M;this.O.C(T.Zb(g.m,this.ae));this.Wa=(d+f)*this.O.y-(e+h)*this.O.x;this.Xa=m*this.O.y-n*this.O.x;this.Ud=this.Mb+this.Nb+this.zd*this.Wa*this.Wa+this.Ad*this.Xa*this.Xa;this.Ud=this.Ud>Number.MIN_VALUE?1/this.Ud:0;this.ea.C(T.Zb(g.m,this.Mh));this.bb=(d+f)*this.ea.y-(e+h)*this.ea.x;this.cb=m*this.ea.y-n*this.ea.x;
g=this.Mb;f=this.Nb;h=this.zd;m=this.Ad;this.aa.i.x=g+f+h*this.bb*this.bb+m*this.cb*this.cb;this.aa.i.y=h*this.bb*this.Wa+m*this.cb*this.Xa;this.aa.j.x=this.aa.i.y;this.aa.j.y=g+f+h*this.Wa*this.Wa+m*this.Xa*this.Xa;this.Zf?(d=this.O.x*d+this.O.y*e,.01>Math.abs(this.Ue-this.Se)?this.Aa=Z.wi:d<=this.Se?this.Aa!=Z.vg&&(this.Aa=Z.vg,this.A.y=0):d>=this.Ue?this.Aa!=Z.dd&&(this.Aa=Z.dd,this.A.y=0):(this.Aa=Z.Ld,this.A.y=0)):this.Aa=Z.Ld;0==this.Ji&&(this.Ma=0);a.ai?(this.A.x*=a.wc,this.A.y*=a.wc,this.Ma*=
a.wc,a=this.A.x*this.ea.x+(this.Ma+this.A.y)*this.O.x,d=this.A.x*this.ea.y+(this.Ma+this.A.y)*this.O.y,e=this.A.x*this.bb+(this.Ma+this.A.y)*this.Wa,g=this.A.x*this.cb+(this.Ma+this.A.y)*this.Xa,c.n.x-=this.Mb*a,c.n.y-=this.Mb*d,c.B-=this.zd*e,b.n.x+=this.Nb*a,b.n.y+=this.Nb*d,b.B+=this.Ad*g):(this.A.da(),this.Ma=0)};Re.prototype.De=function(a){var c=this.R,b=this.S,d=c.n,e=c.B,g=b.n,f=b.B,h=0,m=0,n=0,l=0;this.Ji&&this.Aa!=Z.wi&&(l=this.Ud*(this.cn-(this.O.x*(g.x-d.x)+this.O.y*(g.y-d.y)+this.Xa*f-
this.Wa*e)),h=this.Ma,m=a.Ba*this.xt,this.Ma=T.Cb(this.Ma+l,-m,m),l=this.Ma-h,h=l*this.O.x,m=l*this.O.y,n=l*this.Wa,l*=this.Xa,d.x-=this.Mb*h,d.y-=this.Mb*m,e-=this.zd*n,g.x+=this.Nb*h,g.y+=this.Nb*m,f+=this.Ad*l);m=this.ea.x*(g.x-d.x)+this.ea.y*(g.y-d.y)+this.cb*f-this.bb*e;this.Zf&&this.Aa!=Z.Ld?(n=this.O.x*(g.x-d.x)+this.O.y*(g.y-d.y)+this.Xa*f-this.Wa*e,h=this.A.uc(),a=this.aa.hi(A.p(0,0),-m,-n),this.A.fh(a),this.Aa==Z.vg?this.A.y=Math.max(this.A.y,0):this.Aa==Z.dd&&(this.A.y=Math.min(this.A.y,
0)),m=-m-(this.A.y-h.y)*this.aa.j.x,n=0,n=0!=this.aa.i.x?m/this.aa.i.x+h.x:h.x,this.A.x=n,a.x=this.A.x-h.x,a.y=this.A.y-h.y,h=a.x*this.ea.x+a.y*this.O.x,m=a.x*this.ea.y+a.y*this.O.y,n=a.x*this.bb+a.y*this.Wa,l=a.x*this.cb+a.y*this.Xa):(a=0,a=0!=this.aa.i.x?-m/this.aa.i.x:0,this.A.x+=a,h=a*this.ea.x,m=a*this.ea.y,n=a*this.bb,l=a*this.cb);d.x-=this.Mb*h;d.y-=this.Mb*m;e-=this.zd*n;g.x+=this.Nb*h;g.y+=this.Nb*m;f+=this.Ad*l;c.n.C(d);c.B=e;b.n.C(g);b.B=f};Re.prototype.Ce=function(){var a=this.R,c=this.S,
b=a.k.q,d=a.k.H,e=c.k.q,g=c.k.H,f,h=0,m=0,n=0,l=0,k=f=0,r=0,m=!1,p=0,u=S.uk(d),n=S.uk(g);f=u;var r=this.ba.x-this.Jg.x,t=this.ba.y-this.Jg.y,h=f.i.x*r+f.j.x*t,t=f.i.y*r+f.j.y*t,r=h;f=n;n=this.ca.x-this.Kg.x;l=this.ca.y-this.Kg.y;h=f.i.x*n+f.j.x*l;l=f.i.y*n+f.j.y*l;n=h;f=e.x+n-b.x-r;h=e.y+l-b.y-t;if(this.Zf){this.O=T.Zb(u,this.ae);this.Wa=(f+r)*this.O.y-(h+t)*this.O.x;this.Xa=n*this.O.y-l*this.O.x;var q=this.O.x*f+this.O.y*h;.01>Math.abs(this.Ue-this.Se)?(p=T.Cb(q,-.2,.2),k=Math.abs(q),m=!0):q<=this.Se?
(p=T.Cb(q-this.Se+.005,-.2,0),k=this.Se-q,m=!0):q>=this.Ue&&(p=T.Cb(q-this.Ue+.005,0,.2),k=q-this.Ue,m=!0)}this.ea=T.Zb(u,this.Mh);this.bb=(f+r)*this.ea.y-(h+t)*this.ea.x;this.cb=n*this.ea.y-l*this.ea.x;u=A.p(0,0);t=this.ea.x*f+this.ea.y*h;k=Math.max(k,Math.abs(t));r=0;m?(m=this.Mb,n=this.Nb,l=this.zd,f=this.Ad,this.aa.i.x=m+n+l*this.bb*this.bb+f*this.cb*this.cb,this.aa.i.y=l*this.bb*this.Wa+f*this.cb*this.Xa,this.aa.j.x=this.aa.i.y,this.aa.j.y=m+n+l*this.Wa*this.Wa+f*this.Xa*this.Xa,this.aa.hi(u,
-t,-p)):(m=this.Mb,n=this.Nb,l=this.zd,f=this.Ad,p=m+n+l*this.bb*this.bb+f*this.cb*this.cb,u.x=0!=p?-t/p:0,u.y=0);p=u.x*this.ea.x+u.y*this.O.x;m=u.x*this.ea.y+u.y*this.O.y;t=u.x*this.bb+u.y*this.Wa;u=u.x*this.cb+u.y*this.Xa;b.x-=this.Mb*p;b.y-=this.Mb*m;d-=this.zd*t;e.x+=this.Nb*p;e.y+=this.Nb*m;g+=this.Ad*u;a.k.H=d;c.k.H=g;a.Kb();c.Kb();return.005>=k&&r<=Dc};var Se=function(){Ke.call(this);this.wb=A.p(0,0);this.xb=A.p(0,0);this.Wj=A.p(0,0);this.type=Z.GB;this.Wj.Set(1,0);this.zj=!1;this.Gu=this.jt=
0;this.Jk=!1;this.ml=this.Dt=0};x(Se,Ke);Se.prototype.kc=function(a,c,b,d){this.I=a;this.J=c;this.wb=this.I.td(b);this.xb=this.J.td(b);this.Wj=this.I.Qq(d)};Se.prototype.bf=function(){return new Re(this)};var Te=function(a){Z.call(this,a);this.ba=A.p(0,0);this.ca=A.p(0,0);this.ae=A.p(0,0);this.Mh=A.p(0,0);this.O=A.p(0,0);this.ea=A.p(0,0);this.aa=new Kc;this.A=new Jc(0,0,0);this.ba.C(a.wb);this.ca.C(a.xb);this.ae.C(a.Wj);this.Mh.x=-this.ae.y;this.Mh.y=this.ae.x;this.GD=a.Tg;this.A.da();this.Ma=this.Ud=
0;this.Se=a.jt;this.Ue=a.Gu;this.xt=a.Dt;this.cn=a.ml;this.Zf=a.zj;this.Ji=a.Jk;this.Aa=Z.Ld;this.O.da();this.ea.da()};x(Te,Z);Te.prototype.Rl=function(){var a=this.R,c=this.S,b=a.Wn(this.ba),d=c.Wn(this.ca),c=d.x-b.x,b=d.y-b.y,a=a.Rq(this.ae);return a.x*c+a.y*b};Te.prototype.cf=function(a){var c=this.R,b=this.S,d,e=0;this.Jg.C(c.fj());this.Kg.C(b.fj());var g=c.je();b.je();d=c.u.m;var f=this.ba.x-this.Jg.x,h=this.ba.y-this.Jg.y,e=d.i.x*f+d.j.x*h,h=d.i.y*f+d.j.y*h,f=e;d=b.u.m;var m=this.ca.x-this.Kg.x,
n=this.ca.y-this.Kg.y,e=d.i.x*m+d.j.x*n,n=d.i.y*m+d.j.y*n,m=e;d=b.k.q.x+m-c.k.q.x-f;e=b.k.q.y+n-c.k.q.y-h;this.Mb=c.D;this.Nb=b.D;this.zd=c.M;this.Ad=b.M;this.O.C(T.Zb(g.m,this.ae));this.Wa=(d+f)*this.O.y-(e+h)*this.O.x;this.Xa=m*this.O.y-n*this.O.x;this.Ud=this.Mb+this.Nb+this.zd*this.Wa*this.Wa+this.Ad*this.Xa*this.Xa;this.Ud>Number.MIN_VALUE&&(this.Ud=1/this.Ud);this.ea.C(T.Zb(g.m,this.Mh));this.bb=(d+f)*this.ea.y-(e+h)*this.ea.x;this.cb=m*this.ea.y-n*this.ea.x;g=this.Mb;f=this.Nb;h=this.zd;m=
this.Ad;this.aa.i.x=g+f+h*this.bb*this.bb+m*this.cb*this.cb;this.aa.i.y=h*this.bb+m*this.cb;this.aa.i.z=h*this.bb*this.Wa+m*this.cb*this.Xa;this.aa.j.x=this.aa.i.y;this.aa.j.y=h+m;this.aa.j.z=h*this.Wa+m*this.Xa;this.aa.na.x=this.aa.i.z;this.aa.na.y=this.aa.j.z;this.aa.na.z=g+f+h*this.Wa*this.Wa+m*this.Xa*this.Xa;this.Zf?(d=this.O.x*d+this.O.y*e,.01>Math.abs(this.Ue-this.Se)?this.Aa=Z.wi:d<=this.Se?this.Aa!=Z.vg&&(this.Aa=Z.vg,this.A.z=0):d>=this.Ue?this.Aa!=Z.dd&&(this.Aa=Z.dd,this.A.z=0):(this.Aa=
Z.Ld,this.A.z=0)):this.Aa=Z.Ld;0==this.Ji&&(this.Ma=0);a.ai?(this.A.x*=a.wc,this.A.y*=a.wc,this.Ma*=a.wc,a=this.A.x*this.ea.x+(this.Ma+this.A.z)*this.O.x,d=this.A.x*this.ea.y+(this.Ma+this.A.z)*this.O.y,e=this.A.x*this.bb+this.A.y+(this.Ma+this.A.z)*this.Wa,g=this.A.x*this.cb+this.A.y+(this.Ma+this.A.z)*this.Xa,c.n.x-=this.Mb*a,c.n.y-=this.Mb*d,c.B-=this.zd*e,b.n.x+=this.Nb*a,b.n.y+=this.Nb*d,b.B+=this.Ad*g):(this.A.da(),this.Ma=0)};Te.prototype.De=function(a){var c=this.R,b=this.S,d=c.n,e=c.B,g=
b.n,f=b.B,h=0,m=0,n=0,l=0;this.Ji&&this.Aa!=Z.wi&&(l=this.Ud*(this.cn-(this.O.x*(g.x-d.x)+this.O.y*(g.y-d.y)+this.Xa*f-this.Wa*e)),h=this.Ma,a=a.Ba*this.xt,this.Ma=T.Cb(this.Ma+l,-a,a),l=this.Ma-h,h=l*this.O.x,m=l*this.O.y,n=l*this.Wa,l*=this.Xa,d.x-=this.Mb*h,d.y-=this.Mb*m,e-=this.zd*n,g.x+=this.Nb*h,g.y+=this.Nb*m,f+=this.Ad*l);n=this.ea.x*(g.x-d.x)+this.ea.y*(g.y-d.y)+this.cb*f-this.bb*e;m=f-e;this.Zf&&this.Aa!=Z.Ld?(a=this.O.x*(g.x-d.x)+this.O.y*(g.y-d.y)+this.Xa*f-this.Wa*e,h=this.A.uc(),a=
this.aa.cm(new Jc(0,0,0),-n,-m,-a),this.A.fh(a),this.Aa==Z.vg?this.A.z=Math.max(this.A.z,0):this.Aa==Z.dd&&(this.A.z=Math.min(this.A.z,0)),n=-n-(this.A.z-h.z)*this.aa.na.x,m=-m-(this.A.z-h.z)*this.aa.na.y,m=this.aa.Ak(A.p(0,0),n,m),m.x+=h.x,m.y+=h.y,this.A.x=m.x,this.A.y=m.y,a.x=this.A.x-h.x,a.y=this.A.y-h.y,a.z=this.A.z-h.z,h=a.x*this.ea.x+a.z*this.O.x,m=a.x*this.ea.y+a.z*this.O.y,n=a.x*this.bb+a.y+a.z*this.Wa,l=a.x*this.cb+a.y+a.z*this.Xa):(a=this.aa.Ak(A.p(0,0),-n,-m),this.A.x+=a.x,this.A.y+=a.y,
h=a.x*this.ea.x,m=a.x*this.ea.y,n=a.x*this.bb+a.y,l=a.x*this.cb+a.y);d.x-=this.Mb*h;d.y-=this.Mb*m;e-=this.zd*n;g.x+=this.Nb*h;g.y+=this.Nb*m;f+=this.Ad*l;c.n.C(d);c.B=e;b.n.C(g);b.B=f};Te.prototype.Ce=function(){var a=this.R,c=this.S,b=a.k.q,d=a.k.H,e=c.k.q,g=c.k.H,f,h=0,m=0,n=0,l=h=f=0,k=0,m=!1,r=0,p=S.uk(d),u=S.uk(g);f=p;var k=this.ba.x-this.Jg.x,t=this.ba.y-this.Jg.y,h=f.i.x*k+f.j.x*t,t=f.i.y*k+f.j.y*t,k=h;f=u;u=this.ca.x-this.Kg.x;n=this.ca.y-this.Kg.y;h=f.i.x*u+f.j.x*n;n=f.i.y*u+f.j.y*n;u=h;
f=e.x+u-b.x-k;h=e.y+n-b.y-t;if(this.Zf){this.O=T.Zb(p,this.ae);this.Wa=(f+k)*this.O.y-(h+t)*this.O.x;this.Xa=u*this.O.y-n*this.O.x;var q=this.O.x*f+this.O.y*h;.01>Math.abs(this.Ue-this.Se)?(r=T.Cb(q,-.2,.2),l=Math.abs(q),m=!0):q<=this.Se?(r=T.Cb(q-this.Se+.005,-.2,0),l=this.Se-q,m=!0):q>=this.Ue&&(r=T.Cb(q-this.Ue+.005,0,.2),l=q-this.Ue,m=!0)}this.ea=T.Zb(p,this.Mh);this.bb=(f+k)*this.ea.y-(h+t)*this.ea.x;this.cb=u*this.ea.y-n*this.ea.x;p=new Jc(0,0,0);t=this.ea.x*f+this.ea.y*h;u=g-d-this.GD;l=Math.max(l,
Math.abs(t));k=Math.abs(u);m?(m=this.Mb,n=this.Nb,f=this.zd,h=this.Ad,this.aa.i.x=m+n+f*this.bb*this.bb+h*this.cb*this.cb,this.aa.i.y=f*this.bb+h*this.cb,this.aa.i.z=f*this.bb*this.Wa+h*this.cb*this.Xa,this.aa.j.x=this.aa.i.y,this.aa.j.y=f+h,this.aa.j.z=f*this.Wa+h*this.Xa,this.aa.na.x=this.aa.i.z,this.aa.na.y=this.aa.j.z,this.aa.na.z=m+n+f*this.Wa*this.Wa+h*this.Xa*this.Xa,this.aa.cm(p,-t,-u,-r)):(m=this.Mb,n=this.Nb,f=this.zd,h=this.Ad,r=f*this.bb+h*this.cb,q=f+h,this.aa.i.Set(m+n+f*this.bb*this.bb+
h*this.cb*this.cb,r,0),this.aa.j.Set(r,q,0),r=this.aa.Ak(A.p(0,0),-t,-u),p.x=r.x,p.y=r.y,p.z=0);r=p.x*this.ea.x+p.z*this.O.x;m=p.x*this.ea.y+p.z*this.O.y;t=p.x*this.bb+p.y+p.z*this.Wa;p=p.x*this.cb+p.y+p.z*this.Xa;b.x-=this.Mb*r;b.y-=this.Mb*m;d-=this.zd*t;e.x+=this.Nb*r;e.y+=this.Nb*m;g+=this.Ad*p;a.k.H=d;c.k.H=g;a.Kb();c.Kb();return.005>=l&&k<=Dc};var Ue=function(){Ke.call(this);this.wb=A.p(0,0);this.xb=A.p(0,0);this.Wj=A.p(0,0);this.type=Z.HB;this.Wj.Set(1,0);this.Tg=0;this.zj=!1;this.Gu=this.jt=
0;this.Jk=!1;this.ml=this.Dt=0};x(Ue,Ke);Ue.prototype.kc=function(a,c,b,d){this.I=a;this.J=c;this.wb=this.I.td(b);this.xb=this.J.td(b);this.Wj=this.I.Qq(d);this.Tg=this.J.Gd()-this.I.Gd()};Ue.prototype.bf=function(){return new Te(this)};var We=function(a){Z.call(this,a);this.Kh=A.p(0,0);this.Lh=A.p(0,0);this.ba=A.p(0,0);this.ca=A.p(0,0);this.gb=A.p(0,0);this.hb=A.p(0,0);this.vf=this.R.Ja.xD;this.Kh.x=a.fp.x-this.vf.u.position.x;this.Kh.y=a.fp.y-this.vf.u.position.y;this.Lh.x=a.gp.x-this.vf.u.position.x;
this.Lh.y=a.gp.y-this.vf.u.position.y;this.ba.C(a.wb);this.ca.C(a.xb);this.Ob=a.Ui;this.dl=a.Zs+this.Ob*a.$s;this.Ax=Math.min(a.Cx,this.dl-this.Ob*Ve);this.Bx=Math.min(a.Dx,(this.dl-Ve)/this.Ob);this.Ig=this.Hg=this.A=0};x(We,Z);We.prototype.cf=function(a){var c=this.R,b=this.S,d;d=c.u.m;var e=this.ba.x-c.k.K.x,g=this.ba.y-c.k.K.y,f=d.i.x*e+d.j.x*g,g=d.i.y*e+d.j.y*g,e=f;d=b.u.m;var h=this.ca.x-b.k.K.x,m=this.ca.y-b.k.K.y,f=d.i.x*h+d.j.x*m,m=d.i.y*h+d.j.y*m,h=f;d=b.k.q.x+h;var f=b.k.q.y+m,n=this.vf.u.position.x+
this.Lh.x,l=this.vf.u.position.y+this.Lh.y;this.gb.Set(c.k.q.x+e-(this.vf.u.position.x+this.Kh.x),c.k.q.y+g-(this.vf.u.position.y+this.Kh.y));this.hb.Set(d-n,f-l);d=this.gb.qg();f=this.hb.qg();.005<d?this.gb.Id(1/d):this.gb.da();.005<f?this.hb.Id(1/f):this.hb.da();0<this.dl-d-this.Ob*f?(this.At=Z.Ld,this.A=0):this.At=Z.dd;d<this.Ax?(this.tt=Z.Ld,this.Hg=0):this.tt=Z.dd;f<this.Bx?(this.ut=Z.Ld,this.Ig=0):this.ut=Z.dd;d=e*this.gb.y-g*this.gb.x;f=h*this.hb.y-m*this.hb.x;this.an=c.D+c.M*d*d;this.bn=b.D+
b.M*f*f;this.Sp=this.an+this.Ob*this.Ob*this.bn;this.an=1/this.an;this.bn=1/this.bn;this.Sp=1/this.Sp;a.ai?(this.A*=a.wc,this.Hg*=a.wc,this.Ig*=a.wc,a=(-this.A-this.Hg)*this.gb.x,d=(-this.A-this.Hg)*this.gb.y,f=(-this.Ob*this.A-this.Ig)*this.hb.x,n=(-this.Ob*this.A-this.Ig)*this.hb.y,c.n.x+=c.D*a,c.n.y+=c.D*d,c.B+=c.M*(e*d-g*a),b.n.x+=b.D*f,b.n.y+=b.D*n,b.B+=b.M*(h*n-m*f)):this.Ig=this.Hg=this.A=0};We.prototype.De=function(){var a=this.R,c=this.S,b;b=a.u.m;var d=this.ba.x-a.k.K.x,e=this.ba.y-a.k.K.y,
g=b.i.x*d+b.j.x*e,e=b.i.y*d+b.j.y*e,d=g;b=c.u.m;var f=this.ca.x-c.k.K.x,h=this.ca.y-c.k.K.y,g=b.i.x*f+b.j.x*h,h=b.i.y*f+b.j.y*h,f=g,m=g=b=0,n=0;b=n=b=n=m=g=b=0;this.At==Z.dd&&(b=a.n.x+-a.B*e,g=a.n.y+a.B*d,m=c.n.x+-c.B*h,n=c.n.y+c.B*f,b=-(this.gb.x*b+this.gb.y*g)-this.Ob*(this.hb.x*m+this.hb.y*n),n=this.Sp*-b,b=this.A,this.A=Math.max(0,this.A+n),n=this.A-b,b=-n*this.gb.x,g=-n*this.gb.y,m=-this.Ob*n*this.hb.x,n=-this.Ob*n*this.hb.y,a.n.x+=a.D*b,a.n.y+=a.D*g,a.B+=a.M*(d*g-e*b),c.n.x+=c.D*m,c.n.y+=c.D*
n,c.B+=c.M*(f*n-h*m));this.tt==Z.dd&&(b=a.n.x+-a.B*e,g=a.n.y+a.B*d,b=-(this.gb.x*b+this.gb.y*g),n=-this.an*b,b=this.Hg,this.Hg=Math.max(0,this.Hg+n),n=this.Hg-b,b=-n*this.gb.x,g=-n*this.gb.y,a.n.x+=a.D*b,a.n.y+=a.D*g,a.B+=a.M*(d*g-e*b));this.ut==Z.dd&&(m=c.n.x+-c.B*h,n=c.n.y+c.B*f,b=-(this.hb.x*m+this.hb.y*n),n=-this.bn*b,b=this.Ig,this.Ig=Math.max(0,this.Ig+n),n=this.Ig-b,m=-n*this.hb.x,n=-n*this.hb.y,c.n.x+=c.D*m,c.n.y+=c.D*n,c.B+=c.M*(f*n-h*m))};We.prototype.Ce=function(){var a=this.R,c=this.S,
b,d=this.vf.u.position.x+this.Kh.x,e=this.vf.u.position.y+this.Kh.y,g=this.vf.u.position.x+this.Lh.x,f=this.vf.u.position.y+this.Lh.y,h=0,m=0,n=0,l=0,k=b=0,r=0,p=0,u=k=p=b=k=b=0;this.At==Z.dd&&(b=a.u.m,h=this.ba.x-a.k.K.x,m=this.ba.y-a.k.K.y,k=b.i.x*h+b.j.x*m,m=b.i.y*h+b.j.y*m,h=k,b=c.u.m,n=this.ca.x-c.k.K.x,l=this.ca.y-c.k.K.y,k=b.i.x*n+b.j.x*l,l=b.i.y*n+b.j.y*l,n=k,b=a.k.q.x+h,k=a.k.q.y+m,r=c.k.q.x+n,p=c.k.q.y+l,this.gb.Set(b-d,k-e),this.hb.Set(r-g,p-f),b=this.gb.qg(),k=this.hb.qg(),.005<b?this.gb.Id(1/
b):this.gb.da(),.005<k?this.hb.Id(1/k):this.hb.da(),b=this.dl-b-this.Ob*k,u=Math.max(u,-b),b=T.Cb(b+.005,-.2,0),p=-this.Sp*b,b=-p*this.gb.x,k=-p*this.gb.y,r=-this.Ob*p*this.hb.x,p=-this.Ob*p*this.hb.y,a.k.q.x+=a.D*b,a.k.q.y+=a.D*k,a.k.H+=a.M*(h*k-m*b),c.k.q.x+=c.D*r,c.k.q.y+=c.D*p,c.k.H+=c.M*(n*p-l*r),a.Kb(),c.Kb());this.tt==Z.dd&&(b=a.u.m,h=this.ba.x-a.k.K.x,m=this.ba.y-a.k.K.y,k=b.i.x*h+b.j.x*m,m=b.i.y*h+b.j.y*m,h=k,b=a.k.q.x+h,k=a.k.q.y+m,this.gb.Set(b-d,k-e),b=this.gb.qg(),.005<b?(this.gb.x*=
1/b,this.gb.y*=1/b):this.gb.da(),b=this.Ax-b,u=Math.max(u,-b),b=T.Cb(b+.005,-.2,0),p=-this.an*b,b=-p*this.gb.x,k=-p*this.gb.y,a.k.q.x+=a.D*b,a.k.q.y+=a.D*k,a.k.H+=a.M*(h*k-m*b),a.Kb());this.ut==Z.dd&&(b=c.u.m,n=this.ca.x-c.k.K.x,l=this.ca.y-c.k.K.y,k=b.i.x*n+b.j.x*l,l=b.i.y*n+b.j.y*l,n=k,r=c.k.q.x+n,p=c.k.q.y+l,this.hb.Set(r-g,p-f),k=this.hb.qg(),.005<k?(this.hb.x*=1/k,this.hb.y*=1/k):this.hb.da(),b=this.Bx-k,u=Math.max(u,-b),b=T.Cb(b+.005,-.2,0),p=-this.bn*b,r=-p*this.hb.x,p=-p*this.hb.y,c.k.q.x+=
c.D*r,c.k.q.y+=c.D*p,c.k.H+=c.M*(n*p-l*r),c.Kb());return.005>u};var Ve=1,Xe=function(){Ke.call(this);this.fp=A.p(0,0);this.gp=A.p(0,0);this.wb=A.p(0,0);this.xb=A.p(0,0);this.type=Z.IB;this.fp.Set(-1,1);this.gp.Set(1,1);this.wb.Set(-1,0);this.xb.Set(1,0);this.Dx=this.$s=this.Cx=this.Zs=0;this.Ui=1;this.Hr=!0};x(Xe,Ke);Xe.prototype.kc=function(a,c,b,d,e,g,f){void 0===f&&(f=0);this.I=a;this.J=c;this.fp.C(b);this.gp.C(d);this.wb=this.I.td(e);this.xb=this.J.td(g);a=e.x-b.x;b=e.y-b.y;this.Zs=Math.sqrt(a*
a+b*b);b=g.x-d.x;d=g.y-d.y;this.$s=Math.sqrt(b*b+d*d);this.Ui=f;f=this.Zs+this.Ui*this.$s;this.Cx=f-this.Ui*Ve;this.Dx=(f-Ve)/this.Ui};Xe.prototype.bf=function(){return new We(this)};var Ze=function(a){Z.call(this,a);this.ke=new S;this.Tl=new S;this.Ul=new S;this.Vl=new S;this.Nc=new Jc(0,0,0);this.Rf=A.p(0,0);this.Sg=A.p(0,0);this.ba=A.p(0,0);this.ca=A.p(0,0);this.A=new Jc(0,0,0);this.P=new Kc;this.ba.C(a.wb);this.ca.C(a.xb);this.en=a.Tg;this.A.da();this.Ma=0;this.Qp=a.it;this.Bt=a.Fu;this.ED=a.Ex;
this.cn=a.ml;this.Zf=a.zj;this.Ji=a.Jk;this.Aa=Z.Ld};x(Ze,Z);Ze.prototype.Tn=function(){return this.S.k.H-this.R.k.H-this.en};Ze.prototype.cf=function(a){var c=this.R,b=this.S,d,e=0;d=c.u.m;var g=this.ba.x-c.k.K.x,f=this.ba.y-c.k.K.y,e=d.i.x*g+d.j.x*f,f=d.i.y*g+d.j.y*f,g=e;d=b.u.m;var h=this.ca.x-b.k.K.x,m=this.ca.y-b.k.K.y,e=d.i.x*h+d.j.x*m,m=d.i.y*h+d.j.y*m,h=e;d=c.D;var e=b.D,n=c.M,l=b.M;this.P.i.x=d+e+f*f*n+m*m*l;this.P.j.x=-f*g*n-m*h*l;this.P.na.x=-f*n-m*l;this.P.i.y=this.P.j.x;this.P.j.y=d+
e+g*g*n+h*h*l;this.P.na.y=g*n+h*l;this.P.i.z=this.P.na.x;this.P.j.z=this.P.na.y;this.P.na.z=n+l;this.Ud=1/(n+l);this.Ji||(this.Ma=0);if(this.Zf){var k=b.k.H-c.k.H-this.en;Math.abs(this.Bt-this.Qp)<2*Dc?this.Aa=Z.wi:k<=this.Qp?(this.Aa!=Z.vg&&(this.A.z=0),this.Aa=Z.vg):k>=this.Bt?(this.Aa!=Z.dd&&(this.A.z=0),this.Aa=Z.dd):(this.Aa=Z.Ld,this.A.z=0)}else this.Aa=Z.Ld;a.ai?(this.A.x*=a.wc,this.A.y*=a.wc,this.Ma*=a.wc,a=this.A.x,k=this.A.y,c.n.x-=d*a,c.n.y-=d*k,c.B-=n*(g*k-f*a+this.Ma+this.A.z),b.n.x+=
e*a,b.n.y+=e*k,b.B+=l*(h*k-m*a+this.Ma+this.A.z)):(this.A.da(),this.Ma=0)};Ze.prototype.De=function(a){var c=this.R,b=this.S,d=0,e=d=0,g=0,f=0,h=0,m=c.n,n=c.B,l=b.n,k=b.B,r=c.D,p=b.D,u=c.M,t=b.M;this.Ji&&this.Aa!=Z.wi&&(e=this.Ud*-(k-n-this.cn),g=this.Ma,f=a.Ba*this.ED,this.Ma=T.Cb(this.Ma+e,-f,f),e=this.Ma-g,n-=u*e,k+=t*e);if(this.Zf&&this.Aa!=Z.Ld){a=c.u.m;e=this.ba.x-c.k.K.x;g=this.ba.y-c.k.K.y;d=a.i.x*e+a.j.x*g;g=a.i.y*e+a.j.y*g;e=d;a=b.u.m;f=this.ca.x-b.k.K.x;h=this.ca.y-b.k.K.y;d=a.i.x*f+a.j.x*
h;h=a.i.y*f+a.j.y*h;f=d;a=l.x+-k*h-m.x- -n*g;var q=l.y+k*f-m.y-n*e;this.P.cm(this.Nc,-a,-q,-(k-n));this.Aa==Z.wi?this.A.fh(this.Nc):this.Aa==Z.vg?(d=this.A.z+this.Nc.z,0>d&&(this.P.Ak(this.Sg,-a,-q),this.Nc.x=this.Sg.x,this.Nc.y=this.Sg.y,this.Nc.z=-this.A.z,this.A.x+=this.Sg.x,this.A.y+=this.Sg.y,this.A.z=0)):this.Aa==Z.dd&&(d=this.A.z+this.Nc.z,0<d&&(this.P.Ak(this.Sg,-a,-q),this.Nc.x=this.Sg.x,this.Nc.y=this.Sg.y,this.Nc.z=-this.A.z,this.A.x+=this.Sg.x,this.A.y+=this.Sg.y,this.A.z=0));m.x-=r*this.Nc.x;
m.y-=r*this.Nc.y;n-=u*(e*this.Nc.y-g*this.Nc.x+this.Nc.z);l.x+=p*this.Nc.x;l.y+=p*this.Nc.y;k+=t*(f*this.Nc.y-h*this.Nc.x+this.Nc.z)}else a=c.u.m,e=this.ba.x-c.k.K.x,g=this.ba.y-c.k.K.y,d=a.i.x*e+a.j.x*g,g=a.i.y*e+a.j.y*g,e=d,a=b.u.m,f=this.ca.x-b.k.K.x,h=this.ca.y-b.k.K.y,d=a.i.x*f+a.j.x*h,h=a.i.y*f+a.j.y*h,f=d,this.P.Ak(this.Rf,-(l.x+-k*h-m.x- -n*g),-(l.y+k*f-m.y-n*e)),this.A.x+=this.Rf.x,this.A.y+=this.Rf.y,m.x-=r*this.Rf.x,m.y-=r*this.Rf.y,n-=u*(e*this.Rf.y-g*this.Rf.x),l.x+=p*this.Rf.x,l.y+=
p*this.Rf.y,k+=t*(f*this.Rf.y-h*this.Rf.x);c.n.C(m);c.B=n;b.n.C(l);b.B=k};Ze.prototype.Ce=function(){var a=0,c,b=this.R,d=this.S,e=0,g=c=0,f=0,h=0;if(this.Zf&&this.Aa!=Z.Ld){var a=d.k.H-b.k.H-this.en,m=0;this.Aa==Z.wi?(a=T.Cb(a-this.Qp,-Ec,Ec),m=-this.Ud*a,e=Math.abs(a)):this.Aa==Z.vg?(a-=this.Qp,e=-a,a=T.Cb(a+Dc,-Ec,0),m=-this.Ud*a):this.Aa==Z.dd&&(e=a-=this.Bt,a=T.Cb(a-Dc,0,Ec),m=-this.Ud*a);b.k.H-=b.M*m;d.k.H+=d.M*m;b.Kb();d.Kb()}c=b.u.m;m=this.ba.x-b.k.K.x;a=this.ba.y-b.k.K.y;g=c.i.x*m+c.j.x*
a;a=c.i.y*m+c.j.y*a;m=g;c=d.u.m;var n=this.ca.x-d.k.K.x,l=this.ca.y-d.k.K.y,g=c.i.x*n+c.j.x*l,l=c.i.y*n+c.j.y*l,n=g,f=d.k.q.x+n-b.k.q.x-m,h=d.k.q.y+l-b.k.q.y-a,k=f*f+h*h;c=Math.sqrt(k);var g=b.D,r=d.D,p=b.M,u=d.M;k>.05*.05&&(k=1/(g+r),f=k*-f,h=k*-h,b.k.q.x-=.5*g*f,b.k.q.y-=.5*g*h,d.k.q.x+=.5*r*f,d.k.q.y+=.5*r*h,f=d.k.q.x+n-b.k.q.x-m,h=d.k.q.y+l-b.k.q.y-a);this.Tl.i.x=g+r;this.Tl.j.x=0;this.Tl.i.y=0;this.Tl.j.y=g+r;this.Ul.i.x=p*a*a;this.Ul.j.x=-p*m*a;this.Ul.i.y=-p*m*a;this.Ul.j.y=p*m*m;this.Vl.i.x=
u*l*l;this.Vl.j.x=-u*n*l;this.Vl.i.y=-u*n*l;this.Vl.j.y=u*n*n;this.ke.If(this.Tl);this.ke.In(this.Ul);this.ke.In(this.Vl);this.ke.hi($e,-f,-h);f=$e.x;h=$e.y;b.k.q.x-=b.D*f;b.k.q.y-=b.D*h;b.k.H-=b.M*(m*h-a*f);d.k.q.x+=d.D*f;d.k.q.y+=d.D*h;d.k.H+=d.M*(n*h-l*f);b.Kb();d.Kb();return.005>=c&&e<=Dc};var $e=A.p(0,0),Cc=function(){Ke.call(this);this.wb=A.p(0,0);this.xb=A.p(0,0);this.type=Z.Ik;this.wb.da();this.xb.da();this.ml=this.Ex=this.Fu=this.it=this.Tg=0;this.Jk=this.zj=!1};x(Cc,Ke);Cc.prototype.kc=
function(a,c,b){this.I=a;this.J=c;this.wb=this.I.td(b);this.xb=this.J.td(b);this.Tg=this.J.Gd()-this.I.Gd()};Cc.prototype.bf=function(){return new Ze(this)};var af=function(a){Z.call(this,a);this.Qe=A.p(0,0);this.Re=A.p(0,0);this.A=new Jc(0,0,0);this.P=new Kc;this.Qe.C(a.wb);this.Re.C(a.xb);this.en=a.Tg};x(af,Z);af.prototype.cf=function(a){var c,b=0,d=this.R,e=this.S;c=d.u.m;var g=this.Qe.x-d.k.K.x,f=this.Qe.y-d.k.K.y,b=c.i.x*g+c.j.x*f,f=c.i.y*g+c.j.y*f,g=b;c=e.u.m;var h=this.Re.x-e.k.K.x,m=this.Re.y-
e.k.K.y,b=c.i.x*h+c.j.x*m,m=c.i.y*h+c.j.y*m,h=b;c=d.D;var b=e.D,n=d.M,l=e.M;this.P.i.x=c+b+f*f*n+m*m*l;this.P.j.x=-f*g*n-m*h*l;this.P.na.x=-f*n-m*l;this.P.i.y=this.P.j.x;this.P.j.y=c+b+g*g*n+h*h*l;this.P.na.y=g*n+h*l;this.P.i.z=this.P.na.x;this.P.j.z=this.P.na.y;this.P.na.z=n+l;a.ai?(this.A.x*=a.wc,this.A.y*=a.wc,this.A.z*=a.wc,d.n.x-=c*this.A.x,d.n.y-=c*this.A.y,d.B-=n*(g*this.A.y-f*this.A.x+this.A.z),e.n.x+=b*this.A.x,e.n.y+=b*this.A.y,e.B+=l*(h*this.A.y-m*this.A.x+this.A.z)):this.A.da()};af.prototype.De=
function(){var a,c=0,b=this.R,d=this.S,e=b.n,g=b.B,f=d.n,h=d.B,m=b.D,n=d.D,l=b.M,k=d.M;a=b.u.m;var r=this.Qe.x-b.k.K.x,p=this.Qe.y-b.k.K.y,c=a.i.x*r+a.j.x*p,p=a.i.y*r+a.j.y*p,r=c;a=d.u.m;var u=this.Re.x-d.k.K.x,t=this.Re.y-d.k.K.y,c=a.i.x*u+a.j.x*t,t=a.i.y*u+a.j.y*t,u=c;a=new Jc(0,0,0);this.P.cm(a,-(f.x-h*t-e.x+g*p),-(f.y+h*u-e.y-g*r),-(h-g));this.A.fh(a);e.x-=m*a.x;e.y-=m*a.y;g-=l*(r*a.y-p*a.x+a.z);f.x+=n*a.x;f.y+=n*a.y;h+=k*(u*a.y-t*a.x+a.z);b.B=g;d.B=h};af.prototype.Ce=function(){var a,c=0,b=this.R,
d=this.S;a=b.u.m;var e=this.Qe.x-b.k.K.x,g=this.Qe.y-b.k.K.y,c=a.i.x*e+a.j.x*g,g=a.i.y*e+a.j.y*g,e=c;a=d.u.m;var f=this.Re.x-d.k.K.x,h=this.Re.y-d.k.K.y,c=a.i.x*f+a.j.x*h,h=a.i.y*f+a.j.y*h,f=c;a=b.D;var c=d.D,m=b.M,n=d.M,l=d.k.q.x+f-b.k.q.x-e,k=d.k.q.y+h-b.k.q.y-g,r=d.k.H-b.k.H-this.en,p=Math.sqrt(l*l+k*k),u=Math.abs(r);.05<p&&(m*=1,n*=1);this.P.i.x=a+c+g*g*m+h*h*n;this.P.j.x=-g*e*m-h*f*n;this.P.na.x=-g*m-h*n;this.P.i.y=this.P.j.x;this.P.j.y=a+c+e*e*m+f*f*n;this.P.na.y=e*m+f*n;this.P.i.z=this.P.na.x;
this.P.j.z=this.P.na.y;this.P.na.z=m+n;var t=new Jc(0,0,0);this.P.cm(t,-l,-k,-r);b.k.q.x-=a*t.x;b.k.q.y-=a*t.y;b.k.H-=m*(e*t.y-g*t.x+t.z);d.k.q.x+=c*t.x;d.k.q.y+=c*t.y;d.k.H+=n*(f*t.y-h*t.x+t.z);b.Kb();d.Kb();return.005>=p&&u<=Dc};var bf=function(){Ke.call(this);this.wb=A.p(0,0);this.xb=A.p(0,0);this.type=Z.KB;this.Tg=0};x(bf,Ke);bf.prototype.kc=function(a,c,b){this.I=a;this.J=c;this.wb.C(this.I.td(b));this.xb.C(this.J.td(b));this.Tg=this.J.Gd()-this.I.Gd()};bf.prototype.bf=function(){return new af(this)};
var qe=[new Rc,new Rc],ze=[new Rc,new Rc],Ae=[new Rc,new Rc],re=A.p(0,0),se=A.p(0,0),te=A.p(0,0),we=A.p(0,0),ue=A.p(0,0),ve=A.p(0,0),xe=A.p(0,0),ye=A.p(0,0),Sd=0,ae=0,be=0,Zd=0,$d=0,Td=new pd,Ud=new $c,Vd=new tc,Wd=new tc,Yd=new kd,Xd=new ad;vc.CE=new tc;wc.Kv=new wc;new function(){this.position=A.p(0,0);this.iz=A.p(0,0);this.Cd=A.p(0,0);this.id=new Qc};yc.FG=new tc;yc.wy=new Lc;yc.xy=new Lc;var Rd=new qd,oe=new rd,pe=new ne}
function cf(a,c,b,d,e,g){var f;if(f=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=g-.1||d-.1<=c&&c<=g+.1))f=.1<Math.abs(e-b)?.1>Math.abs((g-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}function df(a,c){var b=A,d=ef(a),e=[],g,f,h,m,n,l,k,r,p;n=0;for(l=d.length;n<l;n++){f=d[n];g=[];g.length=f.length;k=p=0;for(r=f.length;k<r;k++)h=f[k],m=f[(k+1)%r],p+=h.x*m.y-h.y*m.x,g[k]=b.p(h.x,h.y);p=Math.abs(p/2);p>=.001*c&&e.push(g)}return e}
function ef(a){var c=[],b=0,d=0,e=0,g=0,f=0,h=f=0,m=0,n=0,l=0,g=0,k,r,p,u,t,q=g=b=0,B=0,e=[],m=[],y=!1,F=[],D=[];for(D.push(a);D.length;){c=D[0];d=c.length;y=!0;for(b=0;b<d;b++)if(n=b,l=b<d-1?b+1:b+1-d,g=b<d-2?b+2:b+2-d,a=c[n],k=c[l],r=c[g],g=a.x,e=a.y,m=k.x,f=k.y,h=r.x,r=r.y,g=g*f+m*r+h*e-e*m-f*h-r*g,0>g){y=!1;m=1E9;for(e=0;e<d;e++)if(e!==n&&e!==l){b=e;g=e<d-1?e+1:0;p=c[b];u=c[g];h=a.x;r=a.y;var I=k.x,G=k.y,f=p.x;p=p.y;var C=u.x;u=u.y;var z=I-h,w=G-r,J=C-f,V=u-p,J=(J*(p-r)-V*(f-h))/(w*J-z*V),z=h+
J*z,w=r+J*w,h=cf(I,G,h,r,z,w),f=cf(z,w,f,p,C,u);if(r=h&&f?A.p(z,w):null)f=k.x-r.x,h=k.y-r.y,f=f*f+h*h,f<m&&(B=b,q=g,t=r,m=f)}if(1E9===m)return[];e=[];m=[];b=B;g=q;p=c[b];u=c[g];q=t.y;B=u.y;.1>Math.abs(u.x-t.x)&&.1>Math.abs(B-q)||e.push(t);q=t.y;B=p.y;.1>Math.abs(p.x-t.x)&&.1>Math.abs(B-q)||m.push(t);B=-1;for(q=n;;){if(q!==g)e.push(c[q]);else{if(0>B||B>=d)return[];cf(u.x,u.y,c[B].x,c[B].y,a.x,a.y)||e.push(c[q]);break}B=q;0>q-1?q=d-1:q--}e.reverse();B=-1;for(q=l;;){if(q!==b)m.push(c[q]);else{if(0>B||
B>=d)return[];q!==b||cf(p.x,p.y,c[B].x,c[B].y,k.x,k.y)||m.push(c[q]);break}B=q;q+1>d-1?q=0:q++}D.push(e,m);D.shift();break}y&&F.push(D.shift())}return F}
function ff(a){for(var c=0;4E3>c;c++)A.jh.push(new A(0,0));this.g=a;this.ie=new yc(A.p(0,10),!0);this.Ws=-1;a=new wc;a.behavior=this;a.Kn=function(a){this.behavior.g.rE(a.Lb.Qa().sg.V,a.Fb.Qa().sg.V)};this.ie.qv(a);a=new xc;a.behavior=this;a.lj=function(a,c){if(this.behavior.PA)return!0;var e=a.Qa().sg.V.type,g=c.Qa().sg.V.type,f=e.la.Physics_DisabledCollisions;return f&&f.contains(g)?!1:(f=g.la.Physics_DisabledCollisions)&&f.contains(e)?!1:!0};this.ie.pv(a);this.NE=0;this.Fn=8;this.nn=3;this.PA=
!0}
(function(){function a(){}function c(){}var b=A,d=X,e=Ac,g=Y,f=zc,h=Bc,m=Cc,n=ff.prototype;n.Zc=function(a){this.behavior=a;this.g=a.g};n.Zc.prototype.mb=function(){};n.Yb=function(a,b){this.type=a;this.behavior=a.behavior;this.V=b;this.g=a.g;this.ie=this.behavior.ie};var l=n.Yb.prototype;l.mb=function(){this.Ds=0!==this.W[0];this.Vv=this.W[1];this.$t=0!==this.W[2];this.Qf=this.W[3];this.zg=this.W[4];this.Vg=this.W[5];this.Tj=this.W[6];this.oj=this.W[7];this.rj=0!==this.W[8];this.enabled=0!==this.W[9];this.body=
null;this.V.Va();this.rp=this.V.x;this.sp=this.V.y;this.Ts=this.V.L;this.Ss=this.Xs=0;this.qy=this.Vs=!1;this.Ps=null;this.Qs=-1;this.ve?(this.ve.length=0,this.yf.length=0,this.Ch.clear()):(this.ve=[],this.yf=[],this.Ch=new ba);var a=this;this.ye||(this.Jx=function(b){a.Ot(b)});this.g.sr(this.Jx)};l.jy=function(){this.V.Va();this.Nr();this.Ps=this.V.Db;this.Qs=this.V.Y};l.sl=function(){this.Mo();this.yf.length=0;this.Ch.clear();this.body&&(this.ie.Pn(this.body),this.body=null);this.g.sE(this.Jx)};
l.fe=function(){var a={e:this.enabled,im:this.Ds,pr:this.$t,d:this.Qf,fr:this.zg,re:this.Vg,ld:this.Tj,ad:this.oj,b:this.rj,mcj:this.yf};if(this.enabled){var c=b.p(0,0);c.C(this.body.ej());a.vx=c.x;a.vy=c.y;a.om=this.body.Sn()}return a};l.Oe=function(a){this.Mo();this.yf.length=0;this.Ch.clear();this.body&&(this.ie.Pn(this.body),this.body=null);this.enabled=a.e;this.Ds=a.im;this.$t=a.pr;this.Qf=a.d;this.zg=a.fr;this.Vg=a.re;this.Tj=a.ld;this.oj=a.ad;this.rj=a.b;this.rp=this.V.x;this.sp=this.V.y;this.Ts=
this.V.L;this.Xs=this.V.width;this.Ss=this.V.height;this.enabled&&(this.Nr(),this.body.kj(b.p(a.vx,a.vy)),this.body.Zl(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.md(!0),this.yf=a.mcj)};l.kh=function(){this.enabled&&this.eu();this.behavior.Ws=this.g.Ye-1};l.Ot=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.yf.length;b<c;b++)this.yf[d]=this.yf[b],d<this.ve.length&&(this.ve[d]=this.ve[b]),this.yf[b].gc[1]==e?this.ie.Qn(this.ve[b]):d++;this.yf.length=d;d<this.ve.length&&(this.ve.length=d);this.Ch.remove(a)};
l.Mo=function(){var a,b;a=0;for(b=this.ve.length;a<b;a++)this.ie.Qn(this.ve[a]);this.ve.length=0};l.eu=function(){var a,b,c;a=0;for(b=this.yf.length;a<b;a++)switch(c=this.yf[a],c.type){case 0:this.mB(c.gc[0],c.gc[1],c.gc[2],c.gc[3],c.gc[4]);break;case 1:this.oB(c.gc[0],c.gc[1]);break;case 2:this.nB(c.gc[0],c.gc[1],c.gc[2],c.gc[3])}};l.kB=function(){this.body&&(this.Mo(),this.ie.Pn(this.body),this.body=null,this.V.la.ff=null)};var k=[];l.Nr=function(){if(this.enabled){var a=this.V,c=!1,h=null,l=null,
m,n,y,F,D,I,G,C,z,w,J,V,N;if(this.body){c=!0;h=b.p(0,0);h.C(this.body.ej());l=this.body.Sn();C=this.Ch.$e();m=0;for(n=C.length;m<n;m++)z=C[m].la.ff.sg,z.Mo();this.kB()}z=new e;z.Qf=this.Qf;z.zg=this.zg;z.Vg=this.Vg;m=new d;m.type=this.Ds?0:2;a.Va();m.position.x=.02*a.qb.Oi();m.position.y=.02*a.qb.Pi();m.L=a.L;m.bs=this.$t;m.Tj=this.Tj;m.oj=this.oj;m.rj=this.rj;C=this.V.La&&!this.V.La.Nj();this.body=this.ie.Kq(m);this.body.sg=this;m=this.Vv;C||this.V.Xh||0!==this.Vv||(m=1);n=Math.max(Math.abs(a.width),
1);y=Math.max(Math.abs(a.height),1);w=0>a.width;J=0>a.height;if(0===m)if(a.Xh)for(V=a.qb.Oi()-a.x,G=a.qb.Pi()-a.y,a.wG(k),C=[],m=0,n=k.length;m<n;++m){w=k[m];J=w.pE;if(w.Rg){if(!w.Rg.Bo){D=w.Rg.sc;F=w.Rg.We;for(y=0;y<F;++y)C.push(b.p(D[2*y],D[2*y+1]));y=w.id&3758096384;(-2147483648===y||1073741824===y||536870912===y||y&-2147483648&&y&1073741824&&y&536870912)&&C.reverse();w.Rg.Bo=df(C,(J.right-J.left)*(J.bottom-J.top));y=0;for(F=C.length;y<F;++y)b.jc(C[y]);C.length=0}y=0;for(F=w.Rg.Bo.length;y<F;++y){N=
w.Rg.Bo[y];D=0;for(I=N.length;D<I;++D)C.push(b.p(.02*(J.left+N[D].x-V),.02*(J.top+N[D].y-G)));z.shape=new g;z.shape.$l(C,C.length);this.body.sk(z);D=0;for(I=C.length;D<I;++D)b.jc(C[D]);C.length=0}}else C.push(b.p(.02*(J.left-V),.02*(J.top-G))),C.push(b.p(.02*(J.right-V),.02*(J.top-G))),C.push(b.p(.02*(J.right-V),.02*(J.bottom-G))),C.push(b.p(.02*(J.left-V),.02*(J.bottom-G))),z.shape=new g,z.shape.$l(C,C.length),this.body.sk(z);y=0;for(F=C.length;y<F;++y)b.jc(C[y]);C.length=0}else{m=a.L;a.L=0;a.ib();
a.Va();V=a.qb.Oi()-a.x;G=a.qb.Pi()-a.y;a.L=m;a.ib();a.La.sj(w?-n:n,J?-y:y,0);D=a.La.sc;F=a.La.We;C=[];C.length=F;for(m=0;m<F;m++)C[m]=b.p(D[2*m]-V,D[2*m+1]-G);w!==J&&C.reverse();V=df(C,n*y);for(m=0;m<F;m++)b.jc(C[m]);if(V.length)for(m=0,n=V.length;m<n;m++){C=V[m];y=0;for(F=C.length;y<F;y++)G=C[y],G.x*=.02,G.y*=.02;z.shape=new g;z.shape.$l(C,C.length);this.body.sk(z);y=0;for(F=C.length;y<F;y++)b.jc(C[y])}else z.shape=new g,z.shape.ao(.01*n,.01*y),this.body.sk(z)}else 1===m?(z.shape=new g,z.shape.ao(.01*
n,.01*y)):z.shape=new f(.01*Math.min(n,y)),this.body.sk(z);a.la.ff=this.body;this.Xs=a.width;this.Ss=a.height;if(c)for(this.body.kj(h),this.body.Zl(l),b.jc(h),this.eu(),C=this.Ch.$e(),m=0,n=C.length;m<n;m++)z=C[m].la.ff.sg,z.eu();k.length=0}};l.Uc=function(){if(this.enabled){var a=this.V,c;0===this.behavior.NE?c=this.g.aj/60:(c=this.g.ns(this.V),c>1/30&&(c=1/30));this.g.Ye>this.behavior.Ws&&0<this.g.aj&&(this.ie.ih(c,this.behavior.Fn,this.behavior.nn),this.ie.Ru(),this.behavior.Ws=this.g.Ye);if(this.qy||
a.width!==this.Xs||a.height!==this.Ss||a.Db!==this.Ps||a.Y!==this.Qs||a.Xh&&a.fy)this.Nr(),this.qy=!1,this.Ps=a.Db,this.Qs=a.Y,a.Xh&&a.fy&&(a.fy=!1);c=a.L!==this.Ts;if(a.x!==this.rp||a.y!==this.sp){a.Va();var d=a.qb.Oi(),e=a.qb.Pi(),f=d-this.rp,g=e-this.sp;this.body.gr(b.p(.02*d,.02*e));this.body.kj(b.p(f,g));this.Vs=!0;this.body.md(!0)}else this.Vs&&(this.Vs=!1,this.body.kj(b.p(0,0)),this.body.gr(b.p(.02*a.qb.Oi(),.02*a.qb.Pi())));c&&(this.body.$n(a.L),this.body.md(!0));d=this.body.u.position;c=
d.x/.02;d=d.y/.02;e=this.body.Gd();if(c!==a.x||d!==a.y||e!==a.L)if(a.x=c,a.y=d,a.L=e,a.ib(),a.Va(),c=a.qb.Oi()-a.x,d=a.qb.Pi()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.ib();this.rp=a.x;this.sp=a.y;this.Ts=a.L}};l.bp=function(a){return-1!==a&&this.V.Ag?0===a&&this.body?(this.body.u.position.x+this.body.fj().x)/.02:this.V.Ag(a,!0):this.V.x};l.cp=function(a){return-1!==a&&this.V.Ag?0===a&&this.body?(this.body.u.position.y+this.body.fj().y)/.02:this.V.Ag(a,!1):this.V.y};a.prototype.Xn=function(){return this.enabled};
n.X=new a;c.prototype.lg=function(a,c,d){if(this.enabled){var e=this.bp(d);d=this.cp(d);this.body.lg(b.p(a,c),b.p(.02*e,.02*d))}};c.prototype.Jn=function(a){this.enabled&&this.body.Jn(v(a))};c.prototype.Zl=function(a){this.enabled&&(this.body.Zl(v(a)),this.body.md(!0))};l.mB=function(a,c,d,e,f){if(this.enabled&&(c=this.g.Ej(c))&&c!=this.V&&c.la.ff){c.la.ff.sg.Ch.add(this.V);var g=this.bp(a);a=this.cp(a);var k;c.Ag?(k=c.Ag(d,!0),d=c.Ag(d,!1)):(k=c.x,d=c.y);var l=g-k,m=a-d,n=new h;n.kc(this.body,c.la.ff,
b.p(.02*g,.02*a),b.p(.02*k,.02*d));n.length=.02*Math.sqrt(l*l+m*m);n.Jo=e;n.Yo=f;this.ve.push(this.ie.On(n))}};l.oB=function(a,c){if(this.enabled){var d=this.g.Ej(c);if(d&&d!=this.V&&d.la.ff){d.la.ff.sg.Ch.add(this.V);var e=this.bp(a),f=this.cp(a),g=new m;g.kc(this.body,d.la.ff,b.p(.02*e,.02*f));this.ve.push(this.ie.On(g))}}};l.nB=function(a,c,d,e){if(this.enabled&&(c=this.g.Ej(c))&&c!=this.V&&c.la.ff){c.la.ff.sg.Ch.add(this.V);var f=this.bp(a);a=this.cp(a);var g=new m;g.kc(this.body,c.la.ff,b.p(.02*
f,.02*a));g.zj=!0;g.it=v(d);g.Fu=v(e);this.ve.push(this.ie.On(g))}};n.Sb=new c;n.Ie=new function(){}})();function gf(a){this.g=a}(function(){function a(){}var c=gf.prototype;c.Zc=function(a){this.behavior=a;this.g=a.g};c.Zc.prototype.mb=function(){};c.Yb=function(a,b){this.type=a;this.behavior=a.behavior;this.V=b;this.g=a.g};var b=c.Yb.prototype;b.mb=function(){this.V.la.solidEnabled=0!==this.W[0]};b.Uc=function(){};a.prototype.Xn=function(){return this.V.la.solidEnabled};c.X=new a;c.Sb=new function(){}})();
function hf(a){this.g=a}
(function(){var a=hf.prototype;a.Zc=function(a){this.behavior=a;this.g=a.g};a.Zc.prototype.mb=function(){};a.Yb=function(a,b){this.type=a;this.behavior=a.behavior;this.V=b;this.g=a.g};a=a.Yb.prototype;a.mb=function(){this.mode=this.W[0]};a.Uc=function(){var a=this.V;a.Va();var b=a.lc,d=a.F,e=d.Pc,g=0,f=0,h=0,m=0;0===this.mode?(f=e.width,m=e.height):(g=d.Hb,f=d.Xb,h=d.Ib,m=d.Wb);b.right<g?(a.x=f-1+(a.x-b.left),a.ib()):b.left>f?(a.x=g+1-(b.right-a.x),a.ib()):b.bottom<h?(a.y=m-1+(a.y-b.top),a.ib()):
b.top>m&&(a.y=h+1-(b.bottom-a.y),a.ib())}})();function lc(){return[oc,pc,nc,qc,rc,sc,gf,ff,hf,sc.prototype.X.iv,nc.prototype.Sb.Fd,mc.prototype.Sb.zA,nc.prototype.Sb.jA,nc.prototype.X.Zz,oc.prototype.Sb.Play,nc.prototype.Sb.oA,mc.prototype.Sb.qz,rc.prototype.Sb.uv,nc.prototype.Sb.vA,nc.prototype.Sb.kA,mc.prototype.X.Gz,pc.prototype.X.$q,mc.prototype.Sb.iA,mc.prototype.Sb.nA,sc.prototype.X.hv,mc.prototype.Sb.Dz,mc.prototype.X.zz,mc.prototype.X.yz]};
